{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"angular\"","webpack:///./src/demo-app.ts","webpack:///./src/ng-weekly-scheduler/app/module.ts","webpack:///./src/ng-weekly-scheduler.less?f909","webpack:///./src/ng-weekly-scheduler.less","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/style-loader/lib/addStyles.js","webpack:///./node_modules/style-loader/lib/urls.js","webpack:///./src/ng-weekly-scheduler/adapter/module.ts","webpack:///./src/ng-weekly-scheduler/adapter/AdapterService.ts","webpack:///./src/ng-weekly-scheduler/configuration/module.ts","webpack:///./src/ng-weekly-scheduler/configuration/ConfigurationService.ts","webpack:///./src/ng-weekly-scheduler/conflicting-options/module.ts","webpack:///./src/ng-weekly-scheduler/conflicting-options/ConflictingOptionsService.ts","webpack:///./src/ng-weekly-scheduler/drag/module.ts","webpack:///./src/ng-weekly-scheduler/drag/DragService.ts","webpack:///./src/ng-weekly-scheduler/element-offset/module.ts","webpack:///./src/ng-weekly-scheduler/element-offset/ElementOffsetService.ts","webpack:///./src/ng-weekly-scheduler/end-adjuster/module.ts","webpack:///./src/ng-weekly-scheduler/end-adjuster/EndAdjusterService.ts","webpack:///./src/ng-weekly-scheduler/fill-empty-with-default/module.ts","webpack:///./src/ng-weekly-scheduler/fill-empty-with-default/FillEmptyWithDefaultService.ts","webpack:///./src/ng-weekly-scheduler/full-calendar/module.ts","webpack:///./src/ng-weekly-scheduler/full-calendar/FullCalendarDirective.ts","webpack:///./src/ng-weekly-scheduler/ghost-slot/module.ts","webpack:///./src/ng-weekly-scheduler/ghost-slot/ghost-slot.ts","webpack:///./src/ng-weekly-scheduler/ghost-slot/ghost-slot.html","webpack:///./src/ng-weekly-scheduler/group-by/module.ts","webpack:///./src/ng-weekly-scheduler/group-by/GroupService.ts","webpack:///./src/ng-weekly-scheduler/handle/module.ts","webpack:///./src/ng-weekly-scheduler/handle/HandleDirective.ts","webpack:///./src/ng-weekly-scheduler/hourly-grid/module.ts","webpack:///./src/ng-weekly-scheduler/hourly-grid/HourlyGridDirective.ts","webpack:///./src/ng-weekly-scheduler/last-ghost-day/module.ts","webpack:///./src/ng-weekly-scheduler/last-ghost-day/LastGhostDayService.ts","webpack:///./src/ng-weekly-scheduler/max-time-slot/module.ts","webpack:///./src/ng-weekly-scheduler/max-time-slot/MaxTimeSlotDirective.ts","webpack:///./src/ng-weekly-scheduler/minimum-separation/module.ts","webpack:///./src/ng-weekly-scheduler/minimum-separation/MinimumSeparationDirective.ts","webpack:///./src/ng-weekly-scheduler/missing-days/module.ts","webpack:///./src/ng-weekly-scheduler/missing-days/MissingDaysService.ts","webpack:///./src/ng-weekly-scheduler/mono-schedule/module.ts","webpack:///./src/ng-weekly-scheduler/mono-schedule/MonoScheduleDirective.ts","webpack:///./src/ng-weekly-scheduler/mouse-tracker/module.ts","webpack:///./src/ng-weekly-scheduler/mouse-tracker/MouseTrackerService.ts","webpack:///./src/ng-weekly-scheduler/multislider/module.ts","webpack:///./src/ng-weekly-scheduler/multislider/multislider.ts","webpack:///./src/ng-weekly-scheduler/multislider/multislider.html","webpack:///./src/ng-weekly-scheduler/null-end/module.ts","webpack:///./src/ng-weekly-scheduler/null-end/NullEndDirective.ts","webpack:///./src/ng-weekly-scheduler/overlap/module.ts","webpack:///./src/ng-weekly-scheduler/overlap/OverlapDirective.ts","webpack:///./src/ng-weekly-scheduler/overlap/OverlapService.ts","webpack:///./src/ng-weekly-scheduler/purge-default/module.ts","webpack:///./src/ng-weekly-scheduler/purge-default/PurgeDefaultService.ts","webpack:///./src/ng-weekly-scheduler/resize/module.ts","webpack:///./src/ng-weekly-scheduler/resize/ResizeService.ts","webpack:///./src/ng-weekly-scheduler/restriction-explanations/module.ts","webpack:///./src/ng-weekly-scheduler/restriction-explanations/RestrictionExplanationsComponent.ts","webpack:///./src/ng-weekly-scheduler/revalidate/module.ts","webpack:///./src/ng-weekly-scheduler/revalidate/RevalidateDirective.ts","webpack:///./src/ng-weekly-scheduler/schedule-area-container/module.ts","webpack:///./src/ng-weekly-scheduler/schedule-area-container/schedule-area-container.ts","webpack:///./src/ng-weekly-scheduler/schedule-area-container/schedule-area-container.html","webpack:///./src/ng-weekly-scheduler/schedule-count/module.ts","webpack:///./src/ng-weekly-scheduler/schedule-count/ScheduleCountDirective.ts","webpack:///./src/ng-weekly-scheduler/schedule-validator/module.ts","webpack:///./src/ng-weekly-scheduler/schedule-validator/FullCalendarValidatorService.ts","webpack:///./src/ng-weekly-scheduler/schedule-validator/MaxTimeSlotValidatorService.ts","webpack:///./src/ng-weekly-scheduler/schedule-validator/MinimumSeparationValidatorService.ts","webpack:///./src/ng-weekly-scheduler/schedule-validator/MonoScheduleValidatorService.ts","webpack:///./src/ng-weekly-scheduler/schedule-validator/NullEndValidatorService.ts","webpack:///./src/ng-weekly-scheduler/schedule-validator/OverlapValidatorService.ts","webpack:///./src/ng-weekly-scheduler/schedule-validator/ScheduleCountValidatorService.ts","webpack:///./src/ng-weekly-scheduler/scroll/module.ts","webpack:///./src/ng-weekly-scheduler/scroll/ScrollService.ts","webpack:///./src/ng-weekly-scheduler/time/module.ts","webpack:///./src/ng-weekly-scheduler/time/SecondsAsTextFilter.ts","webpack:///./src/ng-weekly-scheduler/time/TimeConstantsService.ts","webpack:///./src/ng-weekly-scheduler/time/TimeOfDayFilter.ts","webpack:///./src/ng-weekly-scheduler/time-range/module.ts","webpack:///./src/ng-weekly-scheduler/time-range/TimeRangeComponent.ts","webpack:///./src/ng-weekly-scheduler/touch/module.ts","webpack:///./src/ng-weekly-scheduler/touch/TouchService.ts","webpack:///./src/ng-weekly-scheduler/weekly-scheduler-config/module.ts","webpack:///./src/ng-weekly-scheduler/weekly-scheduler-config/DayMap.ts","webpack:///./src/ng-weekly-scheduler/weekly-scheduler-config/NullEndWidth.ts","webpack:///./src/ng-weekly-scheduler/weekly-scheduler/module.ts","webpack:///./src/ng-weekly-scheduler/weekly-scheduler/weekly-scheduler.ts","webpack:///./src/ng-weekly-scheduler/weekly-scheduler/weekly-scheduler.html","webpack:///./src/ng-weekly-scheduler/weekly-scheduler-item/module.ts","webpack:///./src/ng-weekly-scheduler/weekly-scheduler-item/WeeklySchedulerItemFactory.ts","webpack:///./src/ng-weekly-scheduler/weekly-scheduler-item/WeeklySchedulerItem.ts","webpack:///./src/ng-weekly-scheduler/weekly-scheduler-range/module.ts","webpack:///./src/ng-weekly-scheduler/weekly-scheduler-range/WeeklySchedulerRangeFactory.ts","webpack:///./src/ng-weekly-scheduler/weekly-scheduler-range/WeeklySchedulerRange.ts","webpack:///./src/ng-weekly-scheduler/weekly-slot/module.ts","webpack:///./src/ng-weekly-scheduler/weekly-slot/weekly-slot.ts","webpack:///./src/ng-weekly-scheduler/weekly-slot/weekly-slot.html","webpack:///./src/ng-weekly-scheduler/value-normalization/module.ts","webpack:///./src/ng-weekly-scheduler/value-normalization/ValueNormalizationService.ts","webpack:///./src/ng-weekly-scheduler/zoom/module.ts","webpack:///./src/ng-weekly-scheduler/zoom/ZoomService.ts","webpack:///./src/ng-weekly-scheduler/demo/DemoController.ts","webpack:///./src/ng-weekly-scheduler/demo/DemoAdapter.ts","webpack:///./src/ng-weekly-scheduler/demo/DemoItem.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","angular","module_1","DemoController_1","default","controller","DemoController","$name","element","document","ready","bootstrap","module_2","module_3","module_4","module_5","module_6","module_7","module_8","module_9","module_10","module_11","module_12","module_13","module_14","module_15","module_16","module_17","module_18","module_19","module_20","module_21","module_22","module_23","module_24","module_25","module_26","module_27","module_28","module_29","module_30","module_31","module_32","module_33","module_34","module_35","module_36","module_37","module_38","module_39","content","options","hmr","transform","insertInto","undefined","locals","push","useSourceMap","list","toString","this","map","item","cssMapping","btoa","sourceMapping","sourceMap","base64","unescape","encodeURIComponent","JSON","stringify","data","concat","sourceURLs","sources","source","sourceRoot","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","length","id","_i","fn","memo","stylesInDom","isOldIE","window","all","atob","apply","arguments","getElement","target","parent","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","e","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","domStyle","refs","j","parts","addStyle","listToStyles","newStyles","base","part","css","media","insertStyleElement","style","Error","lastStyleElementInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","before","removeStyleElement","parentNode","removeChild","idx","indexOf","splice","createStyleElement","createElement","attrs","type","nonce","nc","getNonce","addAttrs","el","keys","forEach","setAttribute","obj","update","remove","result","styleIndex","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","link","rel","createLinkElement","autoFixUrls","convertToAbsoluteUrls","blob","oldSrc","href","styleSheet","cssText","createTextNode","newObj","DEBUG","newList","mayRemove","textStore","replaceText","index","replacement","filter","Boolean","cssNode","childNodes","location","baseUrl","protocol","host","currentDir","pathname","replace","fullMatch","origUrl","newUrl","unquotedOrigUrl","trim","$1","test","AdapterService_1","service","AdapterService","groupService","itemFactory","getItemsFromAdapter","config","adapter","schedules","initialData","customModelToWeeklySchedulerRange","groupedSchedules","groupSchedules","createItem","parseInt","$inject","ConfigurationService_1","ConfigurationService","timeConstants","getConfiguration","interval","intervalCount","SECONDS_IN_DAY","defaultOptions","getDefaultOptions","userOptions","merge","extend","maxValue","hourCount","HOURS_IN_DAY","day","monoSchedule","onChange","noop","onRemove","restrictionExplanations","maxTimeSlot","minimumSeparation","fullCalendar","nullEnds","scheduleCount","pluralizedSlot","count","exact","scheduleCountOptions","ConflictingOptionsService_1","ConflictingOptionsService","getConflictingOptions","fillEmptyWithDefault","isDefined","defaultValue","DragService_1","DragService","endAdjusterService","nullEndWidth","rangeFactory","getDragRangeFromSchedule","schedule","createRange","start","end","adjustEndForView","ElementOffsetService_1","ElementOffsetService","left","$element","getBoundingClientRect","right","EndAdjusterService_1","EndAdjusterService","adjustEndForModel","FillEmptyWithDefaultService_1","FillEmptyWithDefaultService","fill","getFilledSchedules","getEmptySchedule","getEndSchedule","lastSchedule","getStartSchedule","firstSchedule","getFilledSchedulesForSingleSchedule","shouldFillNullEnd","getNullEndValue","scheduleTouchesStart","scheduleTouchesEnd","getSortedSchedules","len","currentSchedule","nextSchedule","startSchedule","schedulesTouch","newSchedule","getNewSchedule","endSchedule","fillNullEnds","sort","a","b","earlierSchedule","laterSchedule","FullCalendarDirective_1","directive","FullCalendarDirective","Factory","validator","_this","scope","ngModelCtrl","brFullCalendar","$validators","error","modelValue","validate","require","ghost_slot_1","component","GhostSlotComponent","GhostSlotController","$controllerAs","controllerAs","multiSliderCtrl","template","transclude","GroupService_1","GroupService","reduce","reducer","array","HandleDirective_1","HandleDirective","$document","mouseTrackerService","touchService","restrict","ondrag","ondragstop","ondragstart","immediate","x","mousemoveEvent","mouseupEvent","getPageX","event","pageX","mousemove","delta","isFunction","$apply","mouseup","unbind","startDrag","on","$applyAsync","preventDefault","stopPropagation","getMousePosition","HourlyGridDirective_1","HourlyGridDirective","GRID_TEMPLATE","schedulerCtrl","doGrid","handleClickEvent","child","$emit","nbElements","tickcount","gridItemEl","clone","empty","addClass","isUndefined","noText","currentHour","meridiem","text","numIntervalsInTick","SECONDS_IN_HOUR","intervalPercentage","grandChild","attr","append","LastGhostDayService_1","LastGhostDayService","getLastGhostDay","items","originIndex","getOriginIndex","renderedGhostIndices","getRenderedGhostIndices","above","every","$isGhostOrigin","$renderGhost","MaxTimeSlotDirective_1","MaxTimeSlotDirective","brMaxTimeSlot","MinimumSeparationDirective_1","MinimumSeparationDirective","brMinimumSeparation","MissingDaysService_1","MissingDaysService","dayMap","fillItems","stringKey","filteredItems","label","copy","MonoScheduleDirective_1","MonoScheduleDirective","brMonoSchedule","MouseTrackerService_1","MouseTrackerService","run","initialize","setMousePosition","mousePosition","y","pageY","multislider_1","MultiSliderComponent","MultiSliderController","$q","$scope","elementOffsetService","valueNormalizationService","$postLink","onMouseEnter","onMouseLeave","onMouseUp","$on","ghostSchedule","commitGhost","removeGhost","dragSchedule","addDragSchedule","ghostValues","createGhost","removeDragSchedule","pendingSchedule","commitDragSchedule","addSchedule","$isActive","removeSchedule","$setDirty","mergeSchedule","getScheduleForAdd","normalizeValue","openEditorForAdd","canEdit","editSlot","when","adjustGhost","updatedLeftValue","updatedRightValue","point","mouseValue","getValAtMousePosition","existingLeftValue","startingGhostValues","normalizeGhostValue","setGhostValues","positionGhost","val","onGhostWrapperMouseDown","editable","onGhostWrapperMouseMove","onGhostWrapperMouseUp","then","editedGhostSchedule","catch","canAddSchedule","addScheduleAndMerge","pixelToVal","editSchedule","$isEditing","originalSchedule_1","range","shouldDelete","premergeSchedule","equals","finally","getSlotLeft","getUnderlyingInterval","offsetLeft","getSlotRight","underlyingInterval","offsetRight","offsetWidth","clientWidth","normalizeIntervalValue","parentElement","$isDeleting","pixel","percent","Math","floor","rightmost","bindings","NullEndDirective_1","NullEndDirective","OverlapDirective_1","OverlapService_1","OverlapDirective","OverlapService","getOverlapState","current","other","currentStart","currentEnd","otherStart","otherEnd","PurgeDefaultService_1","PurgeDefaultService","purge","ResizeService_1","provider","ResizeServiceProvider","resizeService","customResizeEvents","serviceInitialized","$get","setCustomResizeEvents","events","$rootScope","$window","addEventListener","$broadcast","RestrictionExplanationsComponent_1","RestrictionExplanationsComponent","RestrictionExplanationsController","$filter","explanations","$onInit","RevalidateDirective_1","RevalidateDirective","$watch","ngModel","$validate","schedule_area_container_1","ScheduleAreaContainerComponent","ScheduleAreaContainerController","scrollService","zoomService","hijackScroll","resetZoom","zoomInACell","zoomIn","ScheduleCountDirective_1","ScheduleCountDirective","brScheduleCount","FullCalendarValidatorService_1","MaxTimeSlotValidatorService_1","MinimumSeparationValidatorService_1","MonoScheduleValidatorService_1","NullEndValidatorService_1","OverlapValidatorService_1","ScheduleCountValidatorService_1","FullCalendarValidatorService","MaxTimeSlotValidatorService","MinimumSeparationValidatorService","MonoScheduleValidatorService","NullEndScheduleValidatorService","OverlapValidatorService","ScheduleCountValidatorService","validateStartAtMinValue","validateEndAtMaxValue","loopLen","next","some","schedulesToValidate","overlapService","overlapState","validateExactCount","validateMaxCount","ScrollService_1","ScrollService","ctrlKey","zoomByScroll","wheelDelta","detail","scrollLeft","SecondsAsTextFilter_1","TimeConstantsService_1","TimeOfDayFilter_1","SecondsAsTextFilter","TimeOfDayFilter","TimeConstantsService","factoryFunction","seconds","hours","addHoursToResult","minutes","SECONDS_IN_MINUTE","addMinutesToResult","addSecondsToResult","MINUTES_IN_DAY","MINUTES_IN_HOUR","remainingMinutes","displayHours","TimeRangeComponent_1","TimeRangeComponent","TimeRangeController","hasStart","hasEnd","TouchService_1","TouchService","getTouches","originalEvent","touches","changedTouches","DayMap_1","NullEndWidth_1","constant","DayMap","NullEndWidth","_a","weekly_scheduler_1","WeeklySchedulerComponent","WeeklySchedulerController","$timeout","adapterService","configurationService","conflictingOptionsService","lastGhostDayService","missingDaysService","invalidMessage","buildItemsFromAdapter","watchAdapter","watchHoverClass","lastGhostDay","getInvalidMessage","conflictingOptions","hasInvalidSchedule","formController","$invalid","buildItems","purgeItems","mergeOverlaps","_originalItems","items_1","purgeDefaultSchedules","forceNullEnds","prepareItems","items_2","fillEmptySlotsWithDefaultSchedules","rollback","$setPristine","save","saveScheduler","hoverClass","find","removeClass","WeeklySchedulerItemFactory_1","WeeklySchedulerItemFactory","WeeklySchedulerItem_1","fillEmptyWithDefaultService","purgeDefaultService","builder","WeeklySchedulerItem","hasNoSchedules","hasEditFunction","canEditSchedule","itemIsEditable","scheduleIsEditable","canRenderGhost","hasSchedule","mergeOverlapsForSchedule","needsOverlapsMerged","getOverlapHandler","handleNoOverlap","handleCurrentIsInsideOther","handleCurrentCoversOther","handleOtherEndIsInsideCurrent","handleOtherStartIsInsideCurrent","handleOtherEndIsCurrentStart","handleOtherStartIsCurrentEnd","hasSameValueAs","overlapHandler","WeeklySchedulerRangeFactory_1","WeeklySchedulerRangeFactory","WeeklySchedulerRange_1","WeeklySchedulerRange","$class","updatedSchedule","updatedStart","updateStart","updatedEnd","updateEnd","canUpdateEnd","canUpdateStart","changed","newEndBeforeOrAtMax","newEndAfterOrAtExistingStart","newStartBeforeOrAtExistingEnd","newStartAfterOrAtMin","weekly_slot_1","WeeklySlotComponent","WeeklySlotController","dragService","getDragStartValues","editSelf","drag","ui","getDelta","newStart","round","valuesOnDragStart","newEnd","duration","endDrag","endResize","resizeStart","resizeEnd","startResize","ValueNormalizationService_1","ValueNormalizationService","min","max","ZoomService_1","ZoomService","selector","broadcastZoomedInEvent","broadcastZoomedOutEvent","getCurrentZoomWidth","width","getZoomElement","container","setZoomWidth","zoom","level","elementCount","containerWidth","boxWidth","gutterSize","scheduleAreaWidthPercent","currentWidth","DemoAdapter_1","DemoItem_1","model","buttonClasses","DemoItem","isValid","console","log","getSnapshot","DemoAdapter","Array"],"mappings":"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","file":"demo-app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","module.exports = angular;","import * as angular from 'angular'\r\nimport AppModule from './ng-weekly-scheduler/app/module';\r\nimport { DemoController } from './ng-weekly-scheduler/demo/DemoController';\r\n\r\nfunction application() {\r\n  angular.module('demoApp', [AppModule])\r\n    .controller(DemoController.$name, DemoController);\r\n\r\n  angular.element(document).ready(() => {\r\n    angular.bootstrap(document, ['demoApp']);\r\n  });\r\n}\r\n\r\napplication();\r\n","import * as angular from 'angular';\r\nimport '../../ng-weekly-scheduler.less';\r\n\r\nimport AdapterModule from '../adapter/module';\r\nimport ConfigurationModule from '../configuration/module';\r\nimport ConflictingOptionsModule from '../conflicting-options/module';\r\nimport DragModule from '../drag/module';\r\nimport ElementOffsetModule from '../element-offset/module';\r\nimport EndAdjusterModule from '../end-adjuster/module';\r\nimport FillEmptyWithDefaultModule from '../fill-empty-with-default/module';\r\nimport FullCalendarModule from '../full-calendar/module';\r\nimport GhostSlotModule from '../ghost-slot/module';\r\nimport GroupByModule from '../group-by/module';\r\nimport HandleModule from '../handle/module';\r\nimport HourlyGridModule from '../hourly-grid/module';\r\nimport LastGhostDayModule from '../last-ghost-day/module';\r\nimport MaxTimeSlotModule from '../max-time-slot/module';\r\nimport MinimumSeparationModule from '../minimum-separation/module';\r\nimport MissingDaysModule from '../missing-days/module';\r\nimport MonoScheduleModule from '../mono-schedule/module';\r\nimport MouseTrackerModule from '../mouse-tracker/module';\r\nimport MultiSliderModule from '../multislider/module';\r\nimport NullEndModule from '../null-end/module';\r\nimport OverlapModule from '../overlap/module';\r\nimport PurgeDefaultModule from '../purge-default/module';\r\nimport ResizeModule from '../resize/module';\r\nimport RestrictionExplanationsModule from '../restriction-explanations/module';\r\nimport RevalidateModule from '../revalidate/module';\r\nimport ScheduleAreaContainerModule from '../schedule-area-container/module';\r\nimport ScheduleCountModule from '../schedule-count/module';\r\nimport ScheduleValidationModule from '../schedule-validator/module';\r\nimport ScrollModule from '../scroll/module';\r\nimport TimeModule from '../time/module';\r\nimport TimeRangeModule from '../time-range/module';\r\nimport TouchModule from '../touch/module';\r\nimport WeeklySchedulerConfigModule from '../weekly-scheduler-config/module';\r\nimport WeeklySchedulerModule from '../weekly-scheduler/module';\r\nimport WeeklySchedulerItemModule from '../weekly-scheduler-item/module';\r\nimport WeeklySchedulerRangeModule from '../weekly-scheduler-range/module';\r\nimport WeeklySlotModule from '../weekly-slot/module';\r\nimport ValueNormalizationModule from '../value-normalization/module';\r\nimport ZoomModule from '../zoom/module';\r\n\r\n// import { IWeeklySchedulerAdapter as WeeklySchedulerAdapter } from '../adapter/IWeeklySchedulerAdapter';\r\n// import { IWeeklySchedulerOptions as WeeklySchedulerOptions } from '../weekly-scheduler-config/IWeeklySchedulerOptions';\r\n\r\n// export namespace weeklyScheduler {\r\n//     export type IWeeklySchedulerAdapter<TCustom, TValue> = WeeklySchedulerAdapter<TCustom, TValue>;\r\n//     export type IWeeklySchedulerOptions<T> = WeeklySchedulerOptions<T>;\r\n// }\r\n\r\nexport default angular.module('br.weeklyScheduler', [\r\n    AdapterModule,\r\n    ConfigurationModule,\r\n    ConflictingOptionsModule,\r\n    DragModule,\r\n    ElementOffsetModule,\r\n    EndAdjusterModule,\r\n    FillEmptyWithDefaultModule,\r\n    FullCalendarModule,\r\n    GroupByModule,\r\n    GhostSlotModule,\r\n    HandleModule,\r\n    HourlyGridModule,\r\n    LastGhostDayModule,\r\n    MaxTimeSlotModule,\r\n    MinimumSeparationModule,\r\n    MonoScheduleModule,\r\n    MouseTrackerModule,\r\n    MissingDaysModule,\r\n    MultiSliderModule,\r\n    NullEndModule,\r\n    OverlapModule,\r\n    PurgeDefaultModule,\r\n    ResizeModule,\r\n    RestrictionExplanationsModule,\r\n    RevalidateModule,\r\n    ScheduleAreaContainerModule,\r\n    ScheduleCountModule,\r\n    ScheduleValidationModule,\r\n    ScrollModule,\r\n    TimeModule,\r\n    TimeRangeModule,\r\n    TouchModule,\r\n    WeeklySchedulerConfigModule,\r\n    WeeklySchedulerModule,\r\n    WeeklySchedulerItemModule,\r\n    WeeklySchedulerRangeModule,\r\n    WeeklySlotModule,\r\n    ValueNormalizationModule,\r\n    ZoomModule\r\n])\r\n.name;\r\n","\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js!../node_modules/less-loader/dist/cjs.js!./ng-weekly-scheduler.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/dist/cjs.js!../node_modules/less-loader/dist/cjs.js!./ng-weekly-scheduler.less\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/dist/cjs.js!../node_modules/less-loader/dist/cjs.js!./ng-weekly-scheduler.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"br-weekly-scheduler {\\n  background: #fff;\\n  border-left: 1px solid #ddd;\\n  border-right: 1px solid #ddd;\\n  border-top: 1px solid #ddd;\\n  color: #1c1c1c;\\n  display: block;\\n  margin-bottom: 10px;\\n  /* The dark class will be applied by a client on the outside of this component */\\n}\\nbr-weekly-scheduler br-multi-slider .slot.active {\\n  box-shadow: 0px 0px 2px 2px #1c1c1c;\\n}\\nbr-weekly-scheduler br-multi-slider .slot.nullEnd {\\n  background: linear-gradient(to right, currentColor, rgba(255, 255, 255, 0.5));\\n}\\nbr-weekly-scheduler br-multi-slider .slot span {\\n  color: #fff;\\n  display: block;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\nbr-weekly-scheduler .labels {\\n  border-right: 1px solid #ddd;\\n}\\nbr-weekly-scheduler .striped > div:nth-child(even) {\\n  background-color: #f6f6f6;\\n}\\nbr-weekly-scheduler .srow {\\n  border-bottom: 1px solid #ddd;\\n}\\nbr-weekly-scheduler .timestamps div {\\n  border-width: 2px;\\n}\\nbr-weekly-scheduler .timestamps div:hover {\\n  background-color: #f6f6f6;\\n}\\nbr-weekly-scheduler .buttons div {\\n  display: inline-block;\\n}\\n.dark br-weekly-scheduler {\\n  background: #1c1c1c;\\n  border-left: 1px solid #777;\\n  border-right: 1px solid #777;\\n  border-top: 1px solid #777;\\n  color: #fff;\\n}\\n.dark br-weekly-scheduler br-multi-slider .slot.active {\\n  box-shadow: 0px 0px 2px 2px #fff;\\n}\\n.dark br-weekly-scheduler br-multi-slider .slot.nullEnd {\\n  background: linear-gradient(to right, currentColor, rgba(28, 28, 28, 0.5));\\n}\\n.dark br-weekly-scheduler br-multi-slider .slot span {\\n  color: #fff;\\n  display: block;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n.dark br-weekly-scheduler .labels {\\n  border-right: 1px solid #777;\\n}\\n.dark br-weekly-scheduler .striped > div:nth-child(even) {\\n  background-color: #333;\\n}\\n.dark br-weekly-scheduler .srow {\\n  border-bottom: 1px solid #777;\\n}\\n.dark br-weekly-scheduler .timestamps div {\\n  border-width: 2px;\\n}\\n.dark br-weekly-scheduler .timestamps div:hover {\\n  background-color: #333;\\n}\\nbr-weekly-scheduler .fullWidth {\\n  width: 100%;\\n}\\nbr-weekly-scheduler .labels {\\n  display: block;\\n  float: left;\\n  text-align: center;\\n}\\nbr-weekly-scheduler .labels .dummy {\\n  height: 15px;\\n}\\nbr-weekly-scheduler .labels .srow {\\n  padding: 0 5px;\\n}\\nbr-weekly-scheduler br-schedule-area-container {\\n  display: block;\\n  overflow-x: auto;\\n  /** Practical effect of \\\"start zoomed if the screen is below this width\\\" */\\n}\\nbr-weekly-scheduler br-schedule-area-container .schedule-area {\\n  min-width: 600px;\\n}\\nbr-weekly-scheduler .srow {\\n  position: relative;\\n  height: 28px;\\n  line-height: 28px;\\n}\\nbr-weekly-scheduler .srow.buttons {\\n  height: auto;\\n}\\nbr-weekly-scheduler .srow.explanations {\\n  padding-left: 5px;\\n}\\nbr-weekly-scheduler .srow.explanations.violation {\\n  color: red;\\n}\\nbr-weekly-scheduler .calendar {\\n  display: table;\\n  table-layout: fixed;\\n  position: relative;\\n  width: 100%;\\n}\\nbr-weekly-scheduler .timestamps {\\n  display: table;\\n  font-size: 0.6em;\\n  font-weight: bold;\\n  line-height: 15px;\\n  height: 15px;\\n  table-layout: fixed;\\n  text-transform: uppercase;\\n  width: 100%;\\n}\\nbr-weekly-scheduler .timestamps div {\\n  overflow: hidden;\\n  padding-left: 2px;\\n  text-overflow: clip;\\n}\\nbr-weekly-scheduler .timestamps div:hover {\\n  cursor: pointer;\\n}\\nbr-hourly-grid {\\n  display: table-row;\\n}\\nbr-hourly-grid div {\\n  box-sizing: border-box;\\n  display: table-cell;\\n  height: 100%;\\n}\\nbr-hourly-grid .interval {\\n  display: block;\\n  float: left;\\n}\\nbr-multi-slider {\\n  cursor: crosshair;\\n  height: 100%;\\n  top: 0;\\n  position: absolute;\\n  width: 100%;\\n}\\nbr-multi-slider .ghost-wrapper {\\n  width: 100%;\\n  height: 100%;\\n}\\nbr-multi-slider .slot {\\n  font-family: monospace;\\n  font-size: x-small;\\n  position: absolute;\\n  top: 5px;\\n  bottom: 5px;\\n  border-radius: 3px;\\n  text-align: center;\\n  white-space: nowrap;\\n  line-height: 18px;\\n}\\nbr-multi-slider .slot.nullEnd {\\n  text-align: left;\\n}\\nbr-multi-slider .slot .slotWrapper {\\n  display: flex;\\n  height: 100%;\\n}\\nbr-multi-slider .slot .slotWrapper .middle {\\n  cursor: all-scroll;\\n  display: inline-block;\\n  overflow: hidden;\\n  padding: 0 4px;\\n}\\nbr-multi-slider br-ghost-slot {\\n  background: #5ab56a;\\n  color: #5ab56a;\\n  opacity: 0.6;\\n  cursor: pointer;\\n  user-select: none;\\n}\\nbr-multi-slider br-ghost-slot span {\\n  color: #fff;\\n}\\nbr-multi-slider br-time-range {\\n  display: block;\\n  width: 100%;\\n}\\nbr-multi-slider br-weekly-slot {\\n  /**\\n     * We want to set the COLOR on any item we want to have a custom background color for.\\n     * This is because the gradient backgrounds for allowNulls rely on currentColor.\\n     * The text color within is set using a more specific selector\\n     */\\n  background: #2e81e1;\\n  color: #2e81e1;\\n  user-select: none;\\n}\\nbr-multi-slider br-weekly-slot.disable {\\n  cursor: not-allowed;\\n  color: #666;\\n  background: #c0c0c0;\\n}\\nbr-multi-slider br-weekly-slot.pending {\\n  background-color: #c81919;\\n}\\nbr-multi-slider br-weekly-slot .handle {\\n  display: inline-block;\\n  flex-grow: 1;\\n}\\nbr-multi-slider br-weekly-slot .handle.left,\\nbr-multi-slider br-weekly-slot .handle.right {\\n  cursor: e-resize;\\n  min-width: 4px;\\n  height: 100%;\\n}\\nbr-multi-slider br-weekly-slot.disable .handle {\\n  cursor: not-allowed;\\n}\\nbr-multi-slider br-weekly-slot .handle.left:hover,\\nbr-multi-slider br-weekly-slot .handle.right:hover {\\n  background-color: #000;\\n  opacity: 0.3;\\n}\\nbr-multi-slider br-weekly-slot .handle.left {\\n  float: left;\\n}\\nbr-multi-slider br-weekly-slot .handle.right {\\n  float: right;\\n}\\nbr-multi-slider br-weekly-slot.active {\\n  font-weight: bolder;\\n  z-index: 10;\\n}\\n\", \"\"]);\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \"{\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      // eslint-disable-next-line prefer-destructuring\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = modules[_i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = \"(\".concat(item[2], \") and (\").concat(mediaQuery, \")\");\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot).concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","import * as angular from 'angular';\r\nimport { AdapterService } from './AdapterService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.adapter', [])\r\n    .service(AdapterService.$name, AdapterService)\r\n    .name;\r\n","import { GroupService } from '../group-by/GroupService';\r\nimport { IWeeklySchedulerAdapter } from '../adapter/IWeeklySchedulerAdapter';\r\nimport { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { WeeklySchedulerItemFactory } from '../weekly-scheduler-item/WeeklySchedulerItemFactory';\r\n\r\n/** @internal */\r\nexport class AdapterService {\r\n    static $name = 'brWeeklySchedulerAdapterService';\r\n\r\n    static $inject = [\r\n        'brWeeklySchedulerGroupService',\r\n        'brWeeklySchedulerItemFactory'\r\n    ];\r\n\r\n    private constructor(\r\n        private groupService: GroupService,\r\n        private itemFactory: WeeklySchedulerItemFactory\r\n    ) {\r\n    }\r\n\r\n    getItemsFromAdapter(config: IWeeklySchedulerConfig<any>, adapter: IWeeklySchedulerAdapter<any, any>) {\r\n        let result = [];\r\n\r\n        if (adapter) {\r\n          let schedules = adapter.initialData.map(data => adapter.customModelToWeeklySchedulerRange(data));\r\n          let groupedSchedules = this.groupService.groupSchedules(schedules);\r\n    \r\n          for (let key in groupedSchedules) {\r\n            let item = this.itemFactory.createItem(config, parseInt(key, 10), groupedSchedules[key]);\r\n    \r\n            result.push(item);\r\n          }\r\n        }\r\n    \r\n        return result;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { ConfigurationService } from './ConfigurationService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.configuration', [])\r\n    .service(ConfigurationService.$name, ConfigurationService)\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { IWeeklySchedulerOptions } from '../weekly-scheduler-config/IWeeklySchedulerOptions';\r\nimport { TimeConstantsService } from '../time/TimeConstantsService';\r\n\r\n/** @internal */\r\nexport class ConfigurationService {\r\n    static $name = 'brWeeklySchedulerConfigurationService';\r\n\r\n    static $inject = [\r\n        'brWeeklySchedulerTimeConstantsService'\r\n    ];\r\n\r\n    private constructor(\r\n        private timeConstants: TimeConstantsService\r\n    ) {\r\n    }\r\n\r\n    public getConfiguration(options: IWeeklySchedulerOptions<any>) {\r\n        var interval = options.interval || 900; // seconds\r\n        var intervalCount = this.timeConstants.SECONDS_IN_DAY / interval;\r\n\r\n        const defaultOptions = this.getDefaultOptions();\r\n\r\n        var userOptions = angular.merge(defaultOptions, options);\r\n\r\n        var result = angular.extend(userOptions, {\r\n            interval: interval,\r\n            maxValue: this.timeConstants.SECONDS_IN_DAY,\r\n            hourCount: this.timeConstants.HOURS_IN_DAY,\r\n            intervalCount: intervalCount,\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    private getDefaultOptions(): IWeeklySchedulerOptions<any> {\r\n        return {\r\n            createItem: (day, schedules) => { return { day: day, schedules: schedules } },\r\n            monoSchedule: false,\r\n            onChange: () => angular.noop(),\r\n            onRemove: () => angular.noop(),\r\n            restrictionExplanations: {\r\n                maxTimeSlot: (value) => `Max time slot length: ${value}`,\r\n                minimumSeparation: (value) => `Slots must be at least ${value} apart!`,\r\n                fullCalendar: 'For this calendar, every day must be completely full of schedules.',\r\n                monoSchedule: 'This calendar may only have one time slot per day',\r\n                nullEnds: 'Items in this calendar do not have end times. Scheduled events begin at the start time and end when they are finished.',\r\n                scheduleCount: (options) => {\r\n                    let pluralizedSlot = 'slot' + (options.count === 1 ? '' : 's');\r\n\r\n                    if (options.exact) {\r\n                        return `This calendar must have exactly ${options.count} ${pluralizedSlot} per day`;\r\n                    } else {\r\n                        return `This calendar may only have a maximum of ${options.count} ${pluralizedSlot} per day`;\r\n                    }\r\n                }\r\n            },\r\n            scheduleCountOptions: {\r\n                count: null,\r\n                exact: false\r\n            }\r\n        };\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { ConflictingOptionsService } from './ConflictingOptionsService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.conflictingOptions', [])\r\n    .service(ConflictingOptionsService.$name, ConflictingOptionsService)\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { IWeeklySchedulerOptions } from '../weekly-scheduler-config/IWeeklySchedulerOptions';\r\n\r\n/** @internal */\r\nexport class ConflictingOptionsService {\r\n    static $name = 'brWeeklySchedulerConflictingOptionsService';\r\n\r\n    public getConflictingOptions(options: IWeeklySchedulerOptions<any>) {\r\n        if (options.nullEnds && options.scheduleCountOptions && options.scheduleCountOptions.count > 1) {\r\n            return `A nullEnds calendar has a maximum scheduleCount of 1`;\r\n        }\r\n\r\n        if (options.fullCalendar && options.fillEmptyWithDefault) {\r\n            return `Options 'fullCalendar' & 'fillEmptyWithDefault' are mutually exclusive.`;\r\n        }\r\n\r\n        if (options.fillEmptyWithDefault && !angular.isDefined(options.defaultValue)) {\r\n            return `If using option 'fillEmptyWithDefault', you must also provide 'defaultValue.'`;\r\n        }\r\n\r\n        return '';\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { DragService } from './DragService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.drag', [])\r\n    .service(DragService.$name, DragService)\r\n    .name;\r\n","import { EndAdjusterService } from '../end-adjuster/EndAdjusterService';\r\nimport { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { WeeklySchedulerRange } from '../weekly-scheduler-range/WeeklySchedulerRange';\r\nimport { WeeklySchedulerRangeFactory } from '../weekly-scheduler-range/WeeklySchedulerRangeFactory';\r\n\r\n/** @internal */\r\nexport class DragService {\r\n    static $name = 'brWeeklySchedulerDragService';\r\n\r\n    static $inject = [\r\n        'brWeeklySchedulerEndAdjusterService',\r\n        'brWeeklySchedulerNullEndWidth',\r\n        'brWeeklySchedulerRangeFactory'\r\n    ];\r\n\r\n    private constructor(\r\n        private endAdjusterService: EndAdjusterService,\r\n        private nullEndWidth: number,\r\n        private rangeFactory: WeeklySchedulerRangeFactory\r\n    ) {\r\n    }\r\n\r\n    public getDragRangeFromSchedule(config: IWeeklySchedulerConfig<any>, schedule: WeeklySchedulerRange<any>) {\r\n        return this.rangeFactory.createRange(config, {\r\n            day: schedule.day,\r\n            start: schedule.start,\r\n            end: config.nullEnds ?\r\n                this.endAdjusterService.adjustEndForView(config, schedule.start + this.nullEndWidth) :\r\n                this.endAdjusterService.adjustEndForView(config, schedule.end),\r\n            value: schedule.value\r\n        });\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { ElementOffsetService } from './ElementOffsetService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.elementOffset', [])\r\n    .service(ElementOffsetService.$name, ElementOffsetService)\r\n    .name;\r\n","/**\r\n * This helps reduce code duplication\r\n * This is used as a substitute for jQuery to keep dependencies minimal\r\n */\r\n\r\n/** @internal */\r\nexport class ElementOffsetService {\r\n    static $name = 'brWeeklySchedulerElementOffsetService';\r\n\r\n    public left($element: angular.IAugmentedJQuery) {\r\n        return $element[0].getBoundingClientRect().left;\r\n    }\r\n\r\n    public right($element: angular.IAugmentedJQuery) {\r\n        return $element[0].getBoundingClientRect().right;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { EndAdjusterService } from './EndAdjusterService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.endAdjuster', [])\r\n    .service(EndAdjusterService.$name, EndAdjusterService)\r\n    .name;\r\n","import { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\n\r\n/** @internal */\r\nexport class EndAdjusterService {\r\n    static $name = 'brWeeklySchedulerEndAdjusterService';\r\n\r\n    public adjustEndForModel(config: IWeeklySchedulerConfig<any>, end: number) {\r\n        if (end === config.maxValue) {\r\n            return 0;\r\n        }\r\n\r\n        return end;\r\n    }\r\n\r\n    public adjustEndForView(config: IWeeklySchedulerConfig<any>, end: number) {\r\n        if (end === 0) {\r\n            return config.maxValue;\r\n        }\r\n\r\n        return end;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { FillEmptyWithDefaultService } from './FillEmptyWithDefaultService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.fillEmptyWithDefault', [])\r\n    .service(FillEmptyWithDefaultService.$name, FillEmptyWithDefaultService)\r\n    .name;\r\n","import { EndAdjusterService } from '../end-adjuster/EndAdjusterService';\r\nimport { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { WeeklySchedulerItem } from '../weekly-scheduler-item/WeeklySchedulerItem';\r\nimport { WeeklySchedulerRange } from '../weekly-scheduler-range/WeeklySchedulerRange';\r\nimport { WeeklySchedulerRangeFactory } from '../weekly-scheduler-range/WeeklySchedulerRangeFactory';\r\n\r\n/** When using the 'fillEmptyWithDefault' option, this service will be used to construct the correct calendar for server submission */\r\n/** @internal */\r\nexport class FillEmptyWithDefaultService {\r\n    static $name = 'brWeeklySchedulerFillEmptyWithDefaultService';\r\n\r\n    static $inject = [\r\n        'brWeeklySchedulerEndAdjusterService',\r\n        'brWeeklySchedulerRangeFactory'\r\n    ];\r\n\r\n    private constructor(\r\n        private endAdjusterService: EndAdjusterService,\r\n        private rangeFactory: WeeklySchedulerRangeFactory\r\n    ) {\r\n    }\r\n\r\n    fill(item: WeeklySchedulerItem<any>, config: IWeeklySchedulerConfig<any>): WeeklySchedulerRange<any>[] {\r\n        let schedules = item.schedules;\r\n\r\n        if (!schedules.length) {\r\n            return [this.getEmptySchedule(item, config)];\r\n        }\r\n\r\n        return this.getFilledSchedules(schedules, config);\r\n    }\r\n\r\n    private getEmptySchedule(item: WeeklySchedulerItem<any>, config: IWeeklySchedulerConfig<any>) {\r\n        return this.rangeFactory.createRange(config, {\r\n            day: item.day,\r\n            start: 0,\r\n            end: this.endAdjusterService.adjustEndForModel(config, config.maxValue),\r\n            value: config.defaultValue\r\n        });\r\n    }\r\n\r\n    private getEndSchedule(lastSchedule: WeeklySchedulerRange<any>, config: IWeeklySchedulerConfig<any>) {\r\n        return this.rangeFactory.createRange(config, {\r\n            day: lastSchedule.day,\r\n            start: lastSchedule.end,\r\n            end: this.endAdjusterService.adjustEndForModel(config, config.maxValue),\r\n            value: config.defaultValue\r\n        })\r\n    }\r\n\r\n    private getStartSchedule(firstSchedule: WeeklySchedulerRange<any>, config: IWeeklySchedulerConfig<any>) {\r\n        return this.rangeFactory.createRange(config, {\r\n            day: firstSchedule.day,\r\n            start: 0,\r\n            end: firstSchedule.start,\r\n            value: config.defaultValue\r\n        });\r\n    }\r\n\r\n    private getFilledSchedulesForSingleSchedule(schedule: WeeklySchedulerRange<any>, config: IWeeklySchedulerConfig<any>) {\r\n        if (this.shouldFillNullEnd(schedule, config)) {\r\n            schedule.end = this.getNullEndValue(schedule, config);\r\n        }\r\n\r\n        let schedules = [schedule];\r\n\r\n        if (!this.scheduleTouchesStart(schedule, config)) {\r\n            schedules.push(this.getStartSchedule(schedule, config));\r\n        }\r\n\r\n        if (!this.scheduleTouchesEnd(schedule, config)) {\r\n            schedules.push(this.getEndSchedule(schedule, config));\r\n        }\r\n\r\n        return this.getSortedSchedules(schedules);\r\n    }\r\n\r\n    private getFilledSchedules(schedules: WeeklySchedulerRange<any>[], config: IWeeklySchedulerConfig<any>) {\r\n        schedules = this.getSortedSchedules(schedules);\r\n\r\n        if (schedules.length === 1) {\r\n            return this.getFilledSchedulesForSingleSchedule(schedules[0], config);\r\n        }\r\n\r\n        let len = schedules.length - 1;\r\n        \r\n        // 2 at a time\r\n        for (let i = 0; i < len; i++) {\r\n            let currentSchedule = schedules[i];\r\n            let nextSchedule = schedules[i + 1];\r\n\r\n            let isFirstLoop = i == 0;\r\n\r\n            if (isFirstLoop && !this.scheduleTouchesStart(currentSchedule, config)) {\r\n                let startSchedule = this.getStartSchedule(currentSchedule, config);\r\n\r\n                schedules.push(startSchedule);\r\n            }\r\n\r\n            if (!this.schedulesTouch(currentSchedule, nextSchedule)) {\r\n                let newSchedule = this.getNewSchedule(currentSchedule, nextSchedule, config);\r\n\r\n                schedules.push(newSchedule);\r\n            }\r\n\r\n            let isLastLoop = i == len - 1;\r\n\r\n            if (isLastLoop && !this.scheduleTouchesEnd(nextSchedule, config)) {\r\n                let endSchedule = this.getEndSchedule(nextSchedule, config);\r\n\r\n                schedules.push(endSchedule);\r\n                break;\r\n            }\r\n        }\r\n\r\n        return this.getSortedSchedules(schedules);\r\n    }\r\n\r\n    private getNewSchedule(currentSchedule: WeeklySchedulerRange<any>, nextSchedule: WeeklySchedulerRange<any>, config: IWeeklySchedulerConfig<any>) {\r\n        return this.rangeFactory.createRange(config, {\r\n            day: currentSchedule.day,\r\n            start: currentSchedule.end,\r\n            end: nextSchedule.start,\r\n            value: config.defaultValue\r\n        });\r\n    }\r\n\r\n    private getNullEndValue(schedule: WeeklySchedulerRange<any>, config: IWeeklySchedulerConfig<any>) {\r\n        return schedule.start + config.fillNullEnds;\r\n    }\r\n\r\n    private getSortedSchedules(schedules: WeeklySchedulerRange<any>[]) {\r\n        return schedules.sort((a, b) => a.start - b.start);\r\n    }\r\n\r\n    private schedulesTouch(earlierSchedule: WeeklySchedulerRange<any>, laterSchedule: WeeklySchedulerRange<any>) {\r\n        return earlierSchedule.end === laterSchedule.start;\r\n    }\r\n\r\n    private scheduleTouchesStart(schedule: WeeklySchedulerRange<any>, config: IWeeklySchedulerConfig<any>) {\r\n        return schedule.start === 0;\r\n    }\r\n    \r\n    private scheduleTouchesEnd(schedule: WeeklySchedulerRange<any>, config: IWeeklySchedulerConfig<any>) {\r\n        return schedule.end === this.endAdjusterService.adjustEndForModel(config, config.maxValue);\r\n    }\r\n\r\n    private shouldFillNullEnd(schedule: WeeklySchedulerRange<any>, config: IWeeklySchedulerConfig<any>) {\r\n        return schedule.end === null && config.nullEnds && config.fillNullEnds;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { FullCalendarDirective } from './FullCalendarDirective';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.fullCalendar', [])\r\n    .directive(FullCalendarDirective.$name, FullCalendarDirective.Factory())\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { FullCalendarValidatorService } from '../schedule-validator/FullCalendarValidatorService';\r\nimport { WeeklySchedulerItem } from '../weekly-scheduler-item/WeeklySchedulerItem';\r\n\r\n/** @internal */\r\nexport class FullCalendarDirective implements angular.IDirective {\r\n    static $name = 'brFullCalendar';\r\n\r\n    constructor(\r\n        private validator: FullCalendarValidatorService\r\n    ) {\r\n    }\r\n\r\n    link = (scope: angular.IScope, element: angular.IAugmentedJQuery, attrs: angular.IAttributes, ngModelCtrl: angular.INgModelController) => {\r\n        if (attrs.brFullCalendar) {\r\n            ngModelCtrl.$validators[this.validator.error] = (modelValue: WeeklySchedulerItem<any>) => {\r\n                return this.validator.validate(modelValue.schedules, modelValue.config);\r\n            };\r\n        }\r\n    }\r\n\r\n    require = 'ngModel';\r\n\r\n    static Factory() {\r\n        let directive = (validator) => {\r\n            return new FullCalendarDirective(validator);\r\n        };\r\n\r\n        directive.$inject = ['brWeeklySchedulerFullCalendarValidatorService'];\r\n\r\n        return directive;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { GhostSlotComponent, GhostSlotController } from './ghost-slot';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.ghostSlot', [])\r\n    .component(GhostSlotComponent.$name, new GhostSlotComponent())\r\n    .controller(GhostSlotController.$name, GhostSlotController)\r\n    .name;\r\n","import { MultiSliderController } from '../multislider/multislider';\r\n\r\n/** @internal */\r\nexport class GhostSlotController implements angular.IComponentController {\r\n    static $name = 'brGhostSlotController';\r\n    static $controllerAs = 'ghostSlotCtrl';\r\n\r\n    static $inject = [\r\n        '$element'\r\n    ];\r\n\r\n    constructor(\r\n        private $element: angular.IAugmentedJQuery\r\n    ) {\r\n    }\r\n\r\n    private multiSliderCtrl: MultiSliderController;\r\n}\r\n\r\n/** @internal */\r\nexport class GhostSlotComponent implements angular.IComponentOptions {\r\n    static $name = 'brGhostSlot';\r\n\r\n    controller = GhostSlotController.$name;\r\n    controllerAs = GhostSlotController.$controllerAs;\r\n\r\n    require = {\r\n        multiSliderCtrl: '^brMultiSlider'\r\n    };\r\n\r\n    template = require('./ghost-slot.html');\r\n\r\n    transclude = true;\r\n}\r\n","module.exports = \"<ng-transclude class=\\\"fullWidth\\\"></ng-transclude>\";","import * as angular from 'angular';\r\nimport { GroupService } from './GroupService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.groupBy', [])\r\n    .service(GroupService.$name, GroupService)\r\n    .name;\r\n","import { IWeeklySchedulerRange } from '../weekly-scheduler-range/IWeeklySchedulerRange';\r\n\r\n/**\r\n * We should be able to convert the schedules beforehand, pass just the schedules in and have this package build the items\r\n * This helps reduce code duplication in clients.\r\n * This is used as a substitute for lodash.groupBy to keep the footprint small \r\n */\r\n\r\n/** @internal */\r\nexport class GroupService {\r\n    static $name = 'brWeeklySchedulerGroupService';\r\n\r\n    groupSchedules(schedules: IWeeklySchedulerRange<any>[]): { [key: number]: IWeeklySchedulerRange<any>[] } {\r\n        let seed: { [key: number]: IWeeklySchedulerRange<any>[] } = {};\r\n\r\n        let result = schedules.reduce((reducer, currentSchedule, index, array) => {\r\n            let key = currentSchedule.day;\r\n\r\n            if (!reducer[key]) {\r\n                reducer[key] = [];\r\n            }\r\n\r\n            reducer[key].push(currentSchedule);\r\n\r\n            return reducer;\r\n        }, seed);\r\n\r\n        return result;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { HandleDirective } from './HandleDirective';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.handle', [])\r\n    .directive(HandleDirective.$name, HandleDirective.Factory())\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { MouseTrackerService } from '../mouse-tracker/MouseTrackerService';\r\nimport { TouchService } from '../touch/TouchService';\r\n\r\n/** @internal */\r\nexport class HandleDirective implements angular.IDirective {\r\n  static $name = 'brHandle';\r\n  restrict = 'A';\r\n\r\n  scope = {\r\n    ondrag: '&',\r\n    ondragstop: '&',\r\n    ondragstart: '&',\r\n    immediate: '<'\r\n  };\r\n\r\n  link = (scope, element: angular.IAugmentedJQuery) => {\r\n    var $document = this.$document;\r\n    var mouseTrackerService = this.mouseTrackerService;\r\n    var touchService = this.touchService;\r\n    var x = 0;\r\n\r\n    let mousedownEvent: string = 'mousedown touchstart';\r\n    let mousemoveEvent: string = 'mousemove touchmove';\r\n    let mouseupEvent: string = 'mouseup touchend';\r\n\r\n    element.on(mousedownEvent, mousedown);\r\n\r\n    function mousedown(event) {\r\n      x = getPageX(event);\r\n\r\n      // Prevent default dragging of selected content\r\n      event.preventDefault();\r\n\r\n      // Prevent multiple handlers from being fired if they are nested (only the one you directly interacted with should fire)\r\n      event.stopPropagation();\r\n\r\n      startDrag();\r\n    }\r\n\r\n    function fakeMousedown() {\r\n      x = mouseTrackerService.getMousePosition().x;\r\n\r\n      startDrag();\r\n    }\r\n\r\n    function getPageX(event) {\r\n      return event.pageX || touchService.getPageX(event);\r\n    }\r\n\r\n    function mousemove(event) {\r\n      let pageX = getPageX(event);\r\n      var delta = pageX - x;\r\n\r\n      if (angular.isFunction(scope.ondrag)) {\r\n        scope.$apply(scope.ondrag({ delta: delta }));\r\n      }\r\n    }\r\n\r\n    function mouseup() {\r\n      $document.unbind(mousemoveEvent, mousemove);\r\n      $document.unbind(mouseupEvent, mouseup);\r\n\r\n      if (angular.isFunction(scope.ondragstop)) {\r\n        scope.$apply(scope.ondragstop());\r\n      }\r\n    }\r\n\r\n    function startDrag() {\r\n      $document.on(mousemoveEvent, mousemove);\r\n      $document.on(mouseupEvent, mouseup);\r\n\r\n      if (angular.isFunction(scope.ondragstart)) {\r\n        scope.$applyAsync(scope.ondragstart());\r\n      }\r\n    }\r\n\r\n    if (scope.immediate) {\r\n      fakeMousedown();\r\n    }\r\n  }\r\n\r\n  constructor(\r\n    private $document: angular.IDocumentService,\r\n    private mouseTrackerService: MouseTrackerService,\r\n    private touchService: TouchService\r\n  ) {\r\n  }\r\n\r\n  static Factory() {\r\n    let directive = ($document, mouseTrackerService, touchService) => new HandleDirective($document, mouseTrackerService, touchService);\r\n\r\n    directive.$inject = ['$document', 'brWeeklySchedulerMouseTrackerService', 'brWeeklySchedulerTouchService'];\r\n\r\n    return directive;\r\n  }\r\n}\r\n","import * as angular from 'angular';\r\nimport { HourlyGridDirective } from './HourlyGridDirective';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.hourlyGrid', [])\r\n    .directive(HourlyGridDirective.$name, HourlyGridDirective.Factory())\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { WeeklySchedulerController } from '../weekly-scheduler/weekly-scheduler';\r\nimport { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { TimeConstantsService } from '../time/TimeConstantsService';\r\nimport { WeeklySchedulerEvents } from '../weekly-scheduler-config/WeeklySchedulerEvents';\r\n\r\n/** @internal */\r\nexport class HourlyGridDirective implements angular.IDirective {\r\n    static $name = 'brHourlyGrid';\r\n\r\n    restrict = 'E';\r\n    require = '^brWeeklyScheduler';\r\n\r\n    private GRID_TEMPLATE = angular.element('<div class=\"grid-item\"></div>');\r\n\r\n    private handleClickEvent(child, hourCount, idx, scope) {\r\n        child.bind('click', function () {\r\n            scope.$apply(() => {\r\n                scope.$emit(WeeklySchedulerEvents.CLICK_ON_A_CELL, {\r\n                    nbElements: hourCount,\r\n                    idx: idx\r\n                });\r\n            });\r\n        });\r\n    }\r\n\r\n    private doGrid(scope, element, attrs, config: IWeeklySchedulerConfig<any>) {\r\n        // Calculate hour width distribution\r\n        var tickcount = config.hourCount;\r\n        var gridItemEl = this.GRID_TEMPLATE.clone();\r\n  \r\n        // Clean element\r\n        element.empty();\r\n\r\n        // Stripe it by hour\r\n        element.addClass('striped');\r\n\r\n        for (let i = 0; i < tickcount; i++) {\r\n          var child = gridItemEl.clone();\r\n\r\n          if (angular.isUndefined(attrs.noText)) {\r\n            this.handleClickEvent(child, tickcount, i, scope);\r\n\r\n            let currentHour = i % 12;\r\n            let meridiem = i >= 12 ? 'p' : 'a';\r\n\r\n            child.text(`${currentHour || '12'}${meridiem}`);\r\n          } else {\r\n            let numIntervalsInTick = this.timeConstants.SECONDS_IN_HOUR / config.interval;\r\n            let intervalPercentage = 100 / numIntervalsInTick;\r\n\r\n            for (let j = 0; j < numIntervalsInTick; j++) {\r\n                let grandChild = this.GRID_TEMPLATE.clone();\r\n                grandChild.attr('rel', ((i * numIntervalsInTick) + j) * config.interval);\r\n                grandChild.addClass('interval');\r\n                grandChild.css('width', intervalPercentage + '%');\r\n                child.append(grandChild);\r\n            }\r\n          }\r\n\r\n          element.append(child);\r\n        }\r\n    }\r\n\r\n    link = (scope, element, attrs, schedulerCtrl: WeeklySchedulerController) => {\r\n        if (schedulerCtrl.config) {\r\n            this.doGrid(scope, element, attrs, schedulerCtrl.config);\r\n        }\r\n    }\r\n\r\n    constructor(\r\n        private timeConstants: TimeConstantsService\r\n    ) {\r\n    }\r\n\r\n    static Factory() {\r\n        let directive = (timeConstants) => new HourlyGridDirective(timeConstants);\r\n\r\n        directive.$inject = ['brWeeklySchedulerTimeConstantsService'];\r\n\r\n        return directive;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { LastGhostDayService } from './LastGhostDayService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.lastGhostDay', [])\r\n    .service(LastGhostDayService.$name, LastGhostDayService)\r\n    .name;\r\n","import { WeeklySchedulerItem } from '../weekly-scheduler-item/WeeklySchedulerItem';\r\n\r\n/** @internal */\r\nexport class LastGhostDayService {\r\n    static $name = 'brWeeklySchedulerLastGhostDayService';\r\n\r\n    /**\r\n     * When dragging ghosts across multiple days, if the user moves the mouse pointer out of one extreme and back into the last slot that rendered a ghost,\r\n     * We should remove the ghost from that extreme. This will help grab the correct day\r\n     */\r\n    public getLastGhostDay(items: WeeklySchedulerItem<any>[]) {\r\n        let originIndex = this.getOriginIndex(items);\r\n        let renderedGhostIndices = this.getRenderedGhostIndices(items);\r\n\r\n        // determine if the other $renderGhost items are above or below the $isGhostOrigin item\r\n        let above = renderedGhostIndices.every(i => i <= originIndex);\r\n\r\n        // take first item for above or last item for below\r\n        let lastGhostDayIndex = above ? 0 : renderedGhostIndices.length - 1;\r\n\r\n        return renderedGhostIndices[lastGhostDayIndex];\r\n    }\r\n\r\n    /** Get the index of the $isGhostOrigin item */\r\n    private getOriginIndex(items: WeeklySchedulerItem<any>[]) {\r\n        let originIndex;\r\n        let len = items.length;\r\n\r\n        for (let i = 0; i < len; i++) {\r\n            let currentItem = items[i];\r\n\r\n            if (currentItem.$isGhostOrigin) {\r\n                originIndex = i;\r\n                break;\r\n            }\r\n        }\r\n\r\n        return originIndex;\r\n    }\r\n\r\n    /** Get all of the item indices that currently have ghosts rendered */\r\n    private getRenderedGhostIndices(items: WeeklySchedulerItem<any>[]) {\r\n        let renderedGhostIndices = [];\r\n        let len = items.length;\r\n\r\n        for (let i = 0; i < len; i++) {\r\n            let currentItem = items[i];\r\n\r\n            if (currentItem.$renderGhost) {\r\n                renderedGhostIndices.push(i);\r\n            }\r\n        }\r\n\r\n        return renderedGhostIndices;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { MaxTimeSlotDirective } from './MaxTimeSlotDirective';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.maxTimeSlot', [])\r\n    .directive(MaxTimeSlotDirective.$name, MaxTimeSlotDirective.Factory())\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { MaxTimeSlotValidatorService } from '../schedule-validator/MaxTimeSlotValidatorService';\r\nimport { WeeklySchedulerItem } from '../weekly-scheduler-item/WeeklySchedulerItem';\r\n\r\n/** @internal */\r\nexport class MaxTimeSlotDirective implements angular.IDirective {\r\n    static $name = 'brMaxTimeSlot';\r\n\r\n    constructor(\r\n        private validator: MaxTimeSlotValidatorService\r\n    ) {\r\n    }\r\n\r\n    link = (scope: angular.IScope, element: angular.IAugmentedJQuery, attrs: angular.IAttributes, ngModelCtrl: angular.INgModelController) => {\r\n        if (attrs.brMaxTimeSlot) {\r\n            ngModelCtrl.$validators[this.validator.error] = (modelValue: WeeklySchedulerItem<any>) => {\r\n                return this.validator.validate(modelValue.schedules, modelValue.config);\r\n            };\r\n        }\r\n    }\r\n\r\n    require = 'ngModel';\r\n\r\n    static Factory() {\r\n        let directive = (validator) => {\r\n            return new MaxTimeSlotDirective(validator);\r\n        };\r\n\r\n        directive.$inject = ['brWeeklySchedulerMaxTimeSlotValidatorService'];\r\n\r\n        return directive;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { MinimumSeparationDirective } from './MinimumSeparationDirective';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.minimumSeparation', [])\r\n    .directive(MinimumSeparationDirective.$name, MinimumSeparationDirective.Factory())\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { MinimumSeparationValidatorService } from '../schedule-validator/MinimumSeparationValidatorService';\r\nimport { WeeklySchedulerItem } from '../weekly-scheduler-item/WeeklySchedulerItem';\r\n\r\n/** @internal */\r\nexport class MinimumSeparationDirective implements angular.IDirective {\r\n    static $name = 'brMinimumSeparation';\r\n\r\n    constructor(\r\n        private validator: MinimumSeparationValidatorService\r\n    ) {\r\n    }\r\n\r\n    link = (scope: angular.IScope, element: angular.IAugmentedJQuery, attrs: angular.IAttributes, ngModelCtrl: angular.INgModelController) => {\r\n        if (attrs.brMinimumSeparation) {\r\n            ngModelCtrl.$validators[this.validator.error] = (modelValue: WeeklySchedulerItem<any>) => {\r\n                return this.validator.validate(modelValue.schedules, modelValue.config);\r\n            };\r\n        }\r\n    }\r\n\r\n    require = 'ngModel';\r\n\r\n    static Factory() {\r\n        let directive = (validator) => {\r\n            return new MinimumSeparationDirective(validator);\r\n        };\r\n\r\n        directive.$inject = ['brWeeklySchedulerMinimumSeparationValidatorService'];\r\n\r\n        return directive;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { MissingDaysService } from './MissingDaysService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.missingDays', [])\r\n    .service(MissingDaysService.$name, MissingDaysService)\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { DayMap } from '../weekly-scheduler-config/DayMap';\r\nimport { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { WeeklySchedulerItem } from '../weekly-scheduler-item/WeeklySchedulerItem';\r\nimport { WeeklySchedulerItemFactory } from '../weekly-scheduler-item/WeeklySchedulerItemFactory';\r\n\r\n/** @internal */\r\nexport class MissingDaysService {\r\n    static $name = 'brWeeklySchedulerMissingDaysService';\r\n\r\n    static $inject = [\r\n        'brWeeklySchedulerDayMap',\r\n        'brWeeklySchedulerItemFactory'\r\n    ];\r\n\r\n    private constructor(\r\n        private dayMap: DayMap,\r\n        private itemFactory: WeeklySchedulerItemFactory\r\n    ) {\r\n    }\r\n\r\n    /**\r\n     * The scheduler should always show all days, even if it was not passed any schedules for that day\r\n     */\r\n    public fillItems(config: IWeeklySchedulerConfig<any>, items: WeeklySchedulerItem<any>[]) {\r\n        let result: WeeklySchedulerItem<any>[] = [];\r\n\r\n        angular.forEach(this.dayMap, (day: string, stringKey: string) => {\r\n          let key = parseInt(stringKey, 10);\r\n          let filteredItems = items.filter(item => item.day === key);\r\n          let item: WeeklySchedulerItem<any> = filteredItems.length ? filteredItems[0] : null;\r\n    \r\n          if (!item) {\r\n            result.push(this.itemFactory.createItem(config, key, []));\r\n          } else {\r\n            // If the item DID exist just set the label\r\n            item.label = day;\r\n    \r\n            result.push(item);\r\n          }\r\n        });\r\n    \r\n        return angular.copy(result).sort((a, b) => a.day - b.day);\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { MonoScheduleDirective } from './MonoScheduleDirective';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.monoSchedule', [])\r\n    .directive(MonoScheduleDirective.$name, MonoScheduleDirective.Factory())\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { MonoScheduleValidatorService } from '../schedule-validator/MonoScheduleValidatorService';\r\nimport { WeeklySchedulerItem } from '../weekly-scheduler-item/WeeklySchedulerItem';\r\n\r\n/** @internal */\r\nexport class MonoScheduleDirective implements angular.IDirective {\r\n    static $name = 'brMonoSchedule';\r\n\r\n    constructor(\r\n        private validator: MonoScheduleValidatorService\r\n    ) {\r\n    }\r\n\r\n    link = (scope: angular.IScope, element: angular.IAugmentedJQuery, attrs: angular.IAttributes, ngModelCtrl: angular.INgModelController) => {\r\n        if (attrs.brMonoSchedule) {\r\n            ngModelCtrl.$validators[this.validator.error] = (modelValue: WeeklySchedulerItem<any>) => {\r\n                return this.validator.validate(modelValue.schedules, modelValue.config);\r\n            };\r\n        }\r\n    }\r\n\r\n    require = 'ngModel';\r\n\r\n    static Factory() {\r\n        let directive = (validator) => {\r\n            return new MonoScheduleDirective(validator);\r\n        };\r\n\r\n        directive.$inject = ['brWeeklySchedulerMonoScheduleValidatorService'];\r\n\r\n        return directive;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { MouseTrackerService } from './MouseTrackerService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.mouseTracker', [])\r\n    .service(MouseTrackerService.$name, MouseTrackerService)\r\n    .run([MouseTrackerService.$name, (mouseTrackerService: MouseTrackerService) => {\r\n        mouseTrackerService.initialize();\r\n    }])\r\n    .name;\r\n","import { IPoint } from '../point/IPoint';\r\n\r\n/** @internal */\r\nexport class MouseTrackerService {\r\n    static $name = 'brWeeklySchedulerMouseTrackerService';\r\n\r\n    static $inject = ['$document'];\r\n\r\n    private constructor(\r\n        private $document: angular.IDocumentService\r\n    ) {\r\n    }\r\n\r\n    private mousePosition: IPoint;\r\n\r\n    public initialize() {\r\n        const eventName = 'mousemove touchmove';\r\n\r\n        let event = this.setMousePosition.bind(this);\r\n\r\n        this.$document.unbind(eventName, event);\r\n        this.$document.on(eventName, event);\r\n    }\r\n\r\n    public getMousePosition() {\r\n        return this.mousePosition;\r\n    }\r\n\r\n    private setMousePosition(event) {\r\n        this.mousePosition = { x: event.pageX, y: event.pageY };\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { MultiSliderComponent, MultiSliderController } from './multislider';\r\n\r\nexport default\r\n    angular.module('rr.weeklyScheduler.multiSlider', [])\r\n    .component(MultiSliderComponent.$name, new MultiSliderComponent())\r\n    .controller(MultiSliderController.$name, MultiSliderController)\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { EndAdjusterService } from '../end-adjuster/EndAdjusterService';\r\nimport { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { IWeeklySchedulerRange } from '../weekly-scheduler-range/IWeeklySchedulerRange';\r\nimport { WeeklySchedulerItem } from '../weekly-scheduler-item/WeeklySchedulerItem';\r\nimport { WeeklySchedulerRange } from '../weekly-scheduler-range/WeeklySchedulerRange';\r\nimport { WeeklySchedulerRangeFactory } from '../weekly-scheduler-range/WeeklySchedulerRangeFactory';\r\nimport { ElementOffsetService } from '../element-offset/ElementOffsetService';\r\nimport { MouseTrackerService } from '../mouse-tracker/MouseTrackerService';\r\nimport { ValueNormalizationService } from '../value-normalization/ValueNormalizationService';\r\nimport { WeeklySchedulerEvents } from '../weekly-scheduler-config/WeeklySchedulerEvents';\r\n\r\n/** @internal */\r\nexport class MultiSliderController implements angular.IComponentController {\r\n  static $name = 'brMultiSliderController';\r\n  static $controllerAs = 'multiSliderCtrl';\r\n\r\n  static $inject = [\r\n    '$element',\r\n    '$q',\r\n    '$scope',\r\n    'brWeeklySchedulerElementOffsetService',\r\n    'brWeeklySchedulerEndAdjusterService',\r\n    'brWeeklySchedulerMouseTrackerService',\r\n    'brWeeklySchedulerNullEndWidth',\r\n    'brWeeklySchedulerRangeFactory',\r\n    'brWeeklySchedulerValueNormalizationService'\r\n  ];\r\n\r\n  constructor(\r\n    private $element: angular.IAugmentedJQuery,\r\n    private $q: angular.IQService,\r\n    private $scope: angular.IScope,\r\n    private elementOffsetService: ElementOffsetService,\r\n    private endAdjusterService: EndAdjusterService,\r\n    private mouseTrackerService: MouseTrackerService,\r\n    private nullEndWidth: number,\r\n    private rangeFactory: WeeklySchedulerRangeFactory,\r\n    private valueNormalizationService: ValueNormalizationService\r\n  ) {\r\n    this.element = this.$element[0];\r\n  }\r\n\r\n  private dragSchedule: WeeklySchedulerRange<any>;\r\n  private pendingSchedule: WeeklySchedulerRange<any>;\r\n\r\n  private startingGhostValues: { left: number, right: number };\r\n  private readonly ghostValues: { left: number, right: number };\r\n  private setGhostValues: (options: { ghostValues: { left: number, right: number } }) => void;\r\n\r\n  private ngModelCtrl: angular.INgModelController;\r\n  \r\n  public element: Element;\r\n  public config: IWeeklySchedulerConfig<any>;\r\n\r\n  private item: WeeklySchedulerItem<any>;\r\n\r\n  public $postLink() {\r\n    this.$element.on('mouseenter', () => {\r\n      this.onMouseEnter();\r\n    });\r\n\r\n    this.$element.on('mouseleave', () => {\r\n      this.onMouseLeave();\r\n    });\r\n\r\n    this.$element.on('mouseup', () => {\r\n       this.onMouseUp();\r\n    });\r\n\r\n    this.$scope.$on(WeeklySchedulerEvents.COMMIT_GHOST, (event: angular.IAngularEvent, ghostSchedule: WeeklySchedulerRange<any>) => {\r\n      if (this.item.$renderGhost) {\r\n        this.commitGhost(ghostSchedule);\r\n      }\r\n    });\r\n\r\n    this.$scope.$on(WeeklySchedulerEvents.REMOVE_GHOST, (event: angular.IAngularEvent, day: number) => {\r\n      if (!this.item.$isGhostOrigin && this.item.day === day) {\r\n        this.removeGhost();\r\n      }\r\n    });\r\n\r\n    this.$scope.$on(WeeklySchedulerEvents.REMOVE_ALL_GHOSTS, () => {\r\n      this.removeGhost();\r\n    });\r\n  }\r\n\r\n  private onMouseEnter() {\r\n    // If the cursor is moving BACK into an item that ALREADY has a ghost rendered, we'll want to remove the ghost from the item that was left\r\n    if (this.item.$renderGhost) {\r\n      this.$scope.$emit(WeeklySchedulerEvents.REMOVE_LAST_GHOST);\r\n    }\r\n\r\n    if (this.dragSchedule) {\r\n      this.addDragSchedule();\r\n    }\r\n\r\n    if (this.ghostValues && !this.item.$renderGhost) {\r\n      this.createGhost();\r\n    }\r\n  }\r\n\r\n  private onMouseLeave() {\r\n    if (this.dragSchedule) {\r\n      this.removeDragSchedule();\r\n    }\r\n  }\r\n\r\n  private onMouseUp() {\r\n    if (this.pendingSchedule) {\r\n      this.commitDragSchedule();\r\n    }\r\n  }\r\n\r\n  private addDragSchedule() {\r\n    this.dragSchedule.day = this.item.day;\r\n    this.pendingSchedule = this.item.addSchedule(this.dragSchedule);\r\n    this.pendingSchedule.$isActive = true;\r\n  }\r\n\r\n  private removeDragSchedule() {\r\n    this.item.removeSchedule(this.dragSchedule);\r\n    this.ngModelCtrl.$setDirty();\r\n    this.pendingSchedule = null;\r\n  }\r\n\r\n  private commitDragSchedule() {\r\n    this.pendingSchedule.$isActive = false;\r\n\r\n    this.ngModelCtrl.$setDirty();\r\n    this.item.mergeSchedule(this.pendingSchedule);\r\n    this.pendingSchedule = null;\r\n  }\r\n\r\n  private getScheduleForAdd(start: number, end: number) {\r\n    start = this.valueNormalizationService.normalizeValue(start, 0, end);\r\n    end = this.valueNormalizationService.normalizeValue(end, start, this.config.maxValue);\r\n\r\n    if (this.config.nullEnds) {\r\n      end = null;\r\n    }\r\n\r\n    let schedule = {\r\n      day: this.item.day,\r\n      start: start,\r\n      end: end,\r\n      value: this.config.defaultValue\r\n    };\r\n\r\n    return schedule;\r\n  }\r\n\r\n  private openEditorForAdd(schedule: IWeeklySchedulerRange<any>): angular.IPromise<IWeeklySchedulerRange<any>> {\r\n    if (this.item.canEdit()) {\r\n      return this.config.editSlot(schedule);\r\n    } else {\r\n      return this.$q.when(schedule);\r\n    }\r\n  }\r\n\r\n  /** Expand ghost while dragging in it */\r\n  public adjustGhost() {\r\n    let point = this.mouseTrackerService.getMousePosition();\r\n    let mouseValue: number = this.getValAtMousePosition(point.x);\r\n\r\n    let existingLeftValue: number = this.startingGhostValues.left;\r\n\r\n    let updatedLeftValue: number;\r\n    let updatedRightValue: number;\r\n    \r\n    if (mouseValue < existingLeftValue) { // user is dragging left\r\n      updatedLeftValue = mouseValue;\r\n      updatedRightValue = existingLeftValue;\r\n    } else { // user is dragging right\r\n      updatedLeftValue = existingLeftValue;\r\n      updatedRightValue = mouseValue;\r\n    }\r\n\r\n    let ghostValues = {\r\n      left: this.normalizeGhostValue(updatedLeftValue),\r\n      right: this.normalizeGhostValue(updatedRightValue)\r\n    };\r\n\r\n    this.setGhostValues({ \r\n      ghostValues: ghostValues\r\n    });\r\n  }\r\n  \r\n  /** Move ghost around while not dragging */\r\n  public positionGhost() {\r\n    let point = this.mouseTrackerService.getMousePosition();\r\n    let val = this.getValAtMousePosition(point.x);\r\n\r\n    this.startingGhostValues = {\r\n      left: val,\r\n      right: this.config.nullEnds ? val + this.nullEndWidth : val + this.config.interval\r\n    };\r\n\r\n    this.setGhostValues({\r\n      ghostValues: angular.copy(this.startingGhostValues)\r\n    });\r\n  }\r\n\r\n  public onGhostWrapperMouseDown() {\r\n    if (!this.item.editable) {\r\n      return;\r\n    }\r\n\r\n    this.item.$isGhostOrigin = true;\r\n    this.createGhost();\r\n  }\r\n\r\n  public onGhostWrapperMouseMove() {\r\n    // nullEnds calendars don't need to do anything because the size of the slot doesn't really matter\r\n    if (this.config.nullEnds) {\r\n      this.positionGhost();\r\n      return;\r\n    }\r\n\r\n    if (this.item.$renderGhost) {\r\n      this.adjustGhost();\r\n    }\r\n  }\r\n\r\n  public onGhostWrapperMouseUp() {\r\n    let ghostSchedule = this.getScheduleForAdd(this.ghostValues.left, this.ghostValues.right);\r\n\r\n    this.openEditorForAdd(ghostSchedule).then(editedGhostSchedule => {\r\n      this.$scope.$emit(WeeklySchedulerEvents.GHOST_DRAG_ENDED, editedGhostSchedule);\r\n    }).catch(() => {\r\n      this.$scope.$emit(WeeklySchedulerEvents.CANCEL_GHOST);\r\n    });\r\n  }\r\n\r\n  private createGhost() {\r\n    this.item.$renderGhost = true;\r\n    this.positionGhost();\r\n  }\r\n\r\n  private commitGhost(ghostSchedule: WeeklySchedulerRange<any>) {\r\n    if (this.item.canAddSchedule()) {\r\n      this.item.addScheduleAndMerge(ghostSchedule);\r\n      this.ngModelCtrl.$setDirty();\r\n      this.config.onChange();\r\n    }\r\n\r\n    this.removeGhost();\r\n  }\r\n\r\n  private getMousePosition(pageX: number) {\r\n    let elementOffsetX = this.elementOffsetService.left(this.$element);\r\n    let left = pageX - elementOffsetX;\r\n\r\n    return left;\r\n  }\r\n\r\n  private getValAtMousePosition(pageX: number) {\r\n    return this.pixelToVal(this.getMousePosition(pageX));\r\n  }\r\n\r\n  /**\r\n   * Perform an external action to bring up an editor for a schedule\r\n   */\r\n  private editSchedule(schedule: WeeklySchedulerRange<any>) {\r\n    if (this.item.canEdit()) {\r\n      schedule.$isEditing = true;\r\n\r\n      let originalSchedule = angular.copy(schedule);\r\n\r\n      this.config.editSlot(schedule).then((newSchedule) => {\r\n        let range = this.rangeFactory.createRange(this.config, newSchedule);\r\n\r\n        if (this.shouldDelete(range)) {\r\n          this.item.removeSchedule(schedule);\r\n        } else {\r\n          let premergeSchedule = angular.copy(range);\r\n\r\n          this.item.mergeSchedule(range);\r\n\r\n          // If merging mutated the schedule further, then updateSchedule would have already been called\r\n          // This is so that edits that don't trigger merges still trigger onChange,\r\n          // but edits that do trigger merges don't trigger it twice\r\n          if (angular.equals(premergeSchedule, range)) {\r\n            // The 'schedule' variable has already been updated with the correct values.\r\n            // The range should be applied as an update to the originalSchedule so that onChange is triggered if necessary\r\n            originalSchedule.update(range);\r\n          }\r\n        }\r\n\r\n        this.ngModelCtrl.$setDirty();\r\n      }).catch(() => {\r\n        // do nothing except eat the unhandled rejection error\r\n      }).finally(() => {\r\n        schedule.$isEditing = false;\r\n      });\r\n    }\r\n  }\r\n\r\n  private getSlotLeft(start: number) {\r\n    let underlyingInterval: HTMLElement = this.getUnderlyingInterval(start);\r\n\r\n    return underlyingInterval.offsetLeft + 'px';\r\n  }\r\n\r\n  private getSlotRight(start: number, end: number) {\r\n    // If there is a null end, place the end of the slot two hours away from the beginning.\r\n    if (this.config.nullEnds && end === null) {\r\n      end = start + this.nullEndWidth;\r\n    }\r\n\r\n    // An end of 0 should display allll the way to the right, up to the edge\r\n    end = this.endAdjusterService.adjustEndForView(this.config, end);\r\n\r\n    // We want the right side to go /up to/ the interval it represents, not cover it, so we must substract 1 interval\r\n    let underlyingInterval = this.getUnderlyingInterval(end - this.config.interval);\r\n\r\n    let offsetRight = underlyingInterval.offsetLeft + underlyingInterval.offsetWidth;\r\n\r\n    let result = this.element.clientWidth - offsetRight;\r\n\r\n    return result + 'px';\r\n  }\r\n\r\n  private getUnderlyingInterval(val: number): HTMLElement {\r\n    val = this.normalizeIntervalValue(val);\r\n\r\n    return this.element.parentElement.querySelector(`[rel='${val}']`);\r\n  }\r\n\r\n  private shouldDelete(schedule: IWeeklySchedulerRange<any>) {\r\n    if (schedule.$isDeleting) {\r\n      return true;\r\n    }\r\n\r\n    if (this.config.fillEmptyWithDefault && schedule.value === this.config.defaultValue) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  public pixelToVal(pixel: number) {\r\n    var percent = pixel / this.element.clientWidth;\r\n    return Math.floor(percent * (this.config.intervalCount) + 0.5) * this.config.interval;\r\n  }\r\n\r\n  private normalizeIntervalValue(value: number) {\r\n    // There is no interval to the right of the rightmost interval -- the last interval will not actually render with a \"rel\" value\r\n    let rightmost = this.config.maxValue - this.config.interval;\r\n\r\n    return this.valueNormalizationService.normalizeValue(value, 0, rightmost);\r\n  }\r\n\r\n  private normalizeGhostValue(value: number) {\r\n    return this.valueNormalizationService.normalizeValue(value, 0, this.config.maxValue);\r\n  }\r\n\r\n  private removeGhost() {\r\n    this.item.$isGhostOrigin = false;\r\n    this.item.$renderGhost = false;\r\n    this.setGhostValues(null);\r\n  }\r\n}\r\n\r\n/** @internal */\r\nexport class MultiSliderComponent implements angular.IComponentOptions {\r\n  static $name = 'brMultiSlider';\r\n\r\n  bindings = {\r\n    config: '<',\r\n    dragSchedule: '<',\r\n    ghostValues: '<',\r\n    item: '=ngModel',\r\n    setGhostValues: '&'\r\n  };\r\n\r\n  controller = MultiSliderController.$name;\r\n  controllerAs = MultiSliderController.$controllerAs;\r\n\r\n  require = {\r\n    ngModelCtrl: 'ngModel'\r\n  };\r\n\r\n  template = require('./multislider.html');\r\n}\r\n","module.exports = \"<div class=\\\"ghost-wrapper\\\" br-handle ondragstart=\\\"multiSliderCtrl.onGhostWrapperMouseDown()\\\" ondragstop=\\\"multiSliderCtrl.onGhostWrapperMouseUp()\\\" ondrag=\\\"multiSliderCtrl.onGhostWrapperMouseMove()\\\">\\r\\n    <br-ghost-slot class=\\\"slot\\\"\\r\\n                   ng-if=\\\"multiSliderCtrl.item.canRenderGhost()\\\"\\r\\n                   ng-class=\\\"{\\r\\n                      active: multiSliderCtrl.item.$renderGhost,\\r\\n                      nullEnd: multiSliderCtrl.config.nullEnds\\r\\n                   }\\\"\\r\\n                   ng-style=\\\"{\\r\\n                      left: multiSliderCtrl.getSlotLeft(multiSliderCtrl.ghostValues.left),\\r\\n                      right: multiSliderCtrl.getSlotRight(multiSliderCtrl.ghostValues.left, multiSliderCtrl.ghostValues.right)\\r\\n                   }\\\">\\r\\n        <div class=\\\"slotWrapper\\\">\\r\\n            <div class=\\\"middle fullWidth\\\">\\r\\n                <span ng-if=\\\"!multiSliderCtrl.config.nullEnds\\\">{{ multiSliderCtrl.ghostValues.left | brWeeklySchedulerTimeOfDay }} - {{ multiSliderCtrl.ghostValues.right | brWeeklySchedulerTimeOfDay }}</span>\\r\\n                <span ng-if=\\\"multiSliderCtrl.config.nullEnds\\\">{{ multiSliderCtrl.ghostValues.left | brWeeklySchedulerTimeOfDay }} until</span>\\r\\n            </div>\\r\\n        </div>\\r\\n    </br-ghost-slot>\\r\\n\\r\\n    <br-weekly-slot class=\\\"slot {{ schedule.$class }}\\\"\\r\\n                config=\\\"multiSliderCtrl.config\\\"\\r\\n                get-delta=\\\"multiSliderCtrl.pixelToVal(pixel)\\\"\\r\\n                drag-schedule=\\\"multiSliderCtrl.dragSchedule\\\" \\r\\n                item=\\\"multiSliderCtrl.item\\\"\\r\\n                ng-class=\\\"{\\r\\n                    active: schedule.$isActive,\\r\\n                    disable: !multiSliderCtrl.item.canEditSchedule(schedule),\\r\\n                    nullEnd: schedule.end === null,\\r\\n                    pending: schedule.$isEditing\\r\\n                }\\\"\\r\\n                ng-repeat=\\\"schedule in multiSliderCtrl.item.schedules\\\"\\r\\n                ng-model=\\\"schedule\\\"\\r\\n                ng-style=\\\"{\\r\\n                    left: multiSliderCtrl.getSlotLeft(schedule.start),\\r\\n                    right: multiSliderCtrl.getSlotRight(schedule.start, schedule.end)\\r\\n                }\\\"\\r\\n                edit-schedule=\\\"multiSliderCtrl.editSchedule(schedule)\\\"\\r\\n    ></br-weekly-slot>\\r\\n</div>\";","import * as angular from 'angular';\r\nimport { NullEndDirective } from './NullEndDirective';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.nullEnd', [])\r\n    .directive(NullEndDirective.$name, NullEndDirective.Factory())\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { NullEndScheduleValidatorService } from '../schedule-validator/NullEndValidatorService';\r\nimport { WeeklySchedulerItem } from '../weekly-scheduler-item/WeeklySchedulerItem';\r\n\r\n/** @internal */\r\nexport class NullEndDirective implements angular.IDirective {\r\n    static $name = 'brNullEnd';\r\n\r\n    constructor(\r\n        private validator: NullEndScheduleValidatorService\r\n    ) {\r\n    }\r\n\r\n    link = (scope: angular.IScope, element: angular.IAugmentedJQuery, attrs: angular.IAttributes, ngModelCtrl: angular.INgModelController) => {\r\n        ngModelCtrl.$validators[this.validator.error] = (modelValue: WeeklySchedulerItem<any>) => {\r\n            return this.validator.validate(modelValue.schedules, modelValue.config);\r\n        };\r\n    }\r\n\r\n    require = 'ngModel';\r\n\r\n    static Factory() {\r\n        let directive = (validator) => {\r\n            return new NullEndDirective(validator);\r\n        };\r\n\r\n        directive.$inject = ['brWeeklySchedulerNullEndValidatorService'];\r\n\r\n        return directive;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { OverlapDirective } from './OverlapDirective';\r\nimport { OverlapService } from './OverlapService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.overlap', [])\r\n    .directive(OverlapDirective.$name, OverlapDirective.Factory())\r\n    .service(OverlapService.$name, OverlapService)\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { OverlapValidatorService } from '../schedule-validator/OverlapValidatorService';\r\nimport { WeeklySchedulerItem } from '../weekly-scheduler-item/WeeklySchedulerItem';\r\n\r\n/** @internal */\r\nexport class OverlapDirective implements angular.IDirective {\r\n    static $name = 'brOverlap';\r\n\r\n    constructor(\r\n        private validator: OverlapValidatorService\r\n    ) {\r\n    }\r\n\r\n    link = (scope: angular.IScope, element: angular.IAugmentedJQuery, attrs: angular.IAttributes, ngModelCtrl: angular.INgModelController) => {\r\n        ngModelCtrl.$validators[this.validator.error] = (modelValue: WeeklySchedulerItem<any>) => {\r\n            return this.validator.validate(modelValue.schedules, modelValue.config);\r\n        };\r\n    }\r\n\r\n    require = 'ngModel';\r\n\r\n    static Factory() {\r\n        let directive = (validator) => {\r\n            return new OverlapDirective(validator);\r\n        };\r\n\r\n        directive.$inject = ['brWeeklySchedulerOverlapValidatorService'];\r\n\r\n        return directive;\r\n    }\r\n}\r\n","import { EndAdjusterService } from '../end-adjuster/EndAdjusterService';\r\nimport { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { IWeeklySchedulerRange } from '../weekly-scheduler-range/IWeeklySchedulerRange';\r\nimport { OverlapState } from '../weekly-scheduler-config/OverlapStates';\r\n\r\n/** @internal */\r\nexport class OverlapService {\r\n    static $name = 'brWeeklySchedulerOverlapService';\r\n\r\n    static $inject = [\r\n        'brWeeklySchedulerEndAdjusterService'\r\n    ];\r\n\r\n    private constructor(\r\n        private endAdjusterService: EndAdjusterService\r\n    ) {\r\n    }\r\n\r\n    getOverlapState(config: IWeeklySchedulerConfig<any>, current: IWeeklySchedulerRange<any>, other: IWeeklySchedulerRange<any>): OverlapState {\r\n        let currentStart = current.start;\r\n        let currentEnd = this.endAdjusterService.adjustEndForView(config, current.end);\r\n\r\n        let otherStart = other.start;\r\n        let otherEnd = this.endAdjusterService.adjustEndForView(config, other.end);\r\n\r\n        if (otherEnd >= currentEnd && otherStart <= currentStart) {\r\n            return OverlapState.CurrentIsInsideOther;\r\n        }\r\n\r\n        if (currentEnd >= otherEnd && currentStart <= otherStart) {\r\n            return OverlapState.CurrentCoversOther;\r\n        }\r\n\r\n        if (otherEnd > currentStart && otherEnd <= currentEnd) {\r\n            return OverlapState.OtherEndIsInsideCurrent;\r\n        }\r\n\r\n        if (otherStart >= currentStart && otherStart < currentEnd) {\r\n            return OverlapState.OtherStartIsInsideCurrent;\r\n        }\r\n\r\n        if (otherEnd === currentStart && otherEnd <= currentEnd) {\r\n            return OverlapState.OtherEndIsCurrentStart;\r\n        }\r\n\r\n        if (otherStart === currentEnd && otherStart <= currentEnd) {\r\n            return OverlapState.OtherStartIsCurrentEnd;\r\n        }\r\n\r\n        return OverlapState.NoOverlap;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { PurgeDefaultService } from './PurgeDefaultService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.purgeDefault', [])\r\n    .service(PurgeDefaultService.$name, PurgeDefaultService)\r\n    .name;\r\n","import { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { WeeklySchedulerRange } from '../weekly-scheduler-range/WeeklySchedulerRange';\r\n\r\n/** When using the 'fillEmptyWithDefault' option, this service will be used to delete the default schedules for correct display on the calendar */\r\n/** @internal */\r\nexport class PurgeDefaultService {\r\n    static $name = 'brWeeklySchedulerPurgeDefaultService';\r\n\r\n    purge(schedules: WeeklySchedulerRange<any>[], config: IWeeklySchedulerConfig<any>): WeeklySchedulerRange<any>[] {\r\n        let lastIndex = schedules.length - 1;\r\n\r\n        // loop in reverse to avoid messing up indices as we go\r\n        for (let i = lastIndex; i >= 0; i--) {\r\n            if (schedules[i].value === config.defaultValue) {\r\n                schedules.splice(i, 1);\r\n            }\r\n        }\r\n\r\n        return schedules;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { ResizeServiceProvider } from './ResizeService';\r\nimport { IResizeService } from './IResizeService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.resize', [])\r\n    .provider(ResizeServiceProvider.$name, ResizeServiceProvider)\r\n    .run([ResizeServiceProvider.$name, (resizeService: IResizeService) => resizeService.initialize()])\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { IResizeServiceProvider } from './IResizeServiceProvider';\r\nimport { WeeklySchedulerEvents } from '../weekly-scheduler-config/WeeklySchedulerEvents';\r\nimport { IResizeService } from './IResizeService';\r\n\r\n/** @internal */\r\nexport class ResizeServiceProvider implements IResizeServiceProvider {\r\n    public static $name = 'br.weeklyScheduler.resizeService';\r\n\r\n    constructor() {\r\n        this.$get.$inject = [\r\n            '$rootScope',\r\n            '$window'\r\n        ]\r\n    }\r\n\r\n    private customResizeEvents: string[] = [];\r\n\r\n    private serviceInitialized: boolean = false;\r\n\r\n    public setCustomResizeEvents(events: string[]) {\r\n        this.customResizeEvents = events;\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: angular.IRootScopeService,\r\n        $window: angular.IWindowService\r\n    ): IResizeService {\r\n        return {\r\n            initialize: () => {\r\n                if (this.serviceInitialized) {\r\n                    return;\r\n                }\r\n        \r\n                $window.addEventListener('resize', () => {\r\n                    // addEventListener exists outside of angular so we have to $apply the change\r\n                    $rootScope.$apply(() => {\r\n                        $rootScope.$broadcast(WeeklySchedulerEvents.RESIZED);\r\n                    });\r\n                });\r\n        \r\n                if (this.customResizeEvents) {\r\n                    this.customResizeEvents.forEach((event) => {\r\n                        $rootScope.$on(event, () => {\r\n                            $rootScope.$broadcast(WeeklySchedulerEvents.RESIZED);\r\n                        })\r\n                    })\r\n                }\r\n        \r\n                this.serviceInitialized = true; \r\n            }\r\n        };\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { RestrictionExplanationsComponent, RestrictionExplanationsController } from './RestrictionExplanationsComponent';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.restrictionExplanations', [])\r\n    .component(RestrictionExplanationsComponent.$name, new RestrictionExplanationsComponent())\r\n    .controller(RestrictionExplanationsController.$name, RestrictionExplanationsController)\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { WeeklySchedulerController } from '../weekly-scheduler/weekly-scheduler';\r\nimport { ValidationError } from '../weekly-scheduler-config/ValidationErrors';\r\nimport { IWeeklySchedulerFilterService } from '../weekly-scheduler-config/IWeeklySchedulerFilterService';\r\n\r\n/** @internal */\r\nexport class RestrictionExplanationsController implements angular.IComponentController {\r\n    static $controllerAs = 'restrictionExplanationsCtrl';\r\n    static $name = 'brWeeklySchedulerRestrictionExplanationsController';\r\n\r\n    static $inject = ['$filter'];\r\n\r\n    private schedulerCtrl: WeeklySchedulerController;\r\n\r\n    private explanations: { [key in ValidationError]?: string } = {};\r\n\r\n    constructor(\r\n        private $filter: IWeeklySchedulerFilterService\r\n    ) {\r\n    }\r\n\r\n    $onInit() {\r\n        let config = this.schedulerCtrl.config;\r\n\r\n        if (config.maxTimeSlot) {\r\n            let maxTimeSlot = this.$filter('brWeeklySchedulerSecondsAsText')(config.maxTimeSlot);\r\n            this.explanations[ValidationError.MaxTimeSlot] = config.restrictionExplanations.maxTimeSlot(maxTimeSlot);\r\n        }\r\n\r\n        if (config.fullCalendar) {\r\n            this.explanations[ValidationError.FullCalendar] = config.restrictionExplanations.fullCalendar;\r\n        }\r\n\r\n        if (config.monoSchedule) {\r\n            this.explanations[ValidationError.MonoSchedule] = config.restrictionExplanations.monoSchedule;\r\n        }\r\n\r\n        if (config.nullEnds) {\r\n            this.explanations[ValidationError.NullEnd] = config.restrictionExplanations.nullEnds;\r\n        }\r\n\r\n        if (config.scheduleCountOptions && config.scheduleCountOptions.count) {\r\n            this.explanations[ValidationError.ScheduleCount] = config.restrictionExplanations.scheduleCount(config.scheduleCountOptions);\r\n        }\r\n\r\n        if (config.minimumSeparation) {\r\n            let minimumSeparation = this.$filter('brWeeklySchedulerSecondsAsText')(config.minimumSeparation);\r\n            this.explanations[ValidationError.MinimumSeparation] = config.restrictionExplanations.minimumSeparation(minimumSeparation);\r\n        }\r\n    }\r\n}\r\n\r\n/** @internal */\r\nexport class RestrictionExplanationsComponent implements angular.IComponentOptions {\r\n    static $name = 'brRestrictionExplanations';\r\n\r\n    controller = RestrictionExplanationsController.$name;\r\n    controllerAs = RestrictionExplanationsController.$controllerAs;\r\n\r\n    require = {\r\n        schedulerCtrl: '^brWeeklyScheduler'\r\n    };\r\n\r\n    template = `\r\n        <div class=\"srow explanations\" ng-class=\"{ violation: restrictionExplanationsCtrl.schedulerCtrl.formController.$error[key] }\" ng-repeat=\"(key, explanation) in restrictionExplanationsCtrl.explanations\">\r\n            {{ explanation }}\r\n        </div>\r\n    `;\r\n}\r\n","import * as angular from 'angular';\r\nimport { RevalidateDirective } from './RevalidateDirective';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.revalidate', [])\r\n    .directive(RevalidateDirective.$name, RevalidateDirective.Factory())\r\n    .name;\r\n","/**\r\n * Runs custom validators whenever the model changes\r\n */\r\n\r\n/** @internal */\r\nexport class RevalidateDirective implements angular.IDirective {\r\n    static $name = 'brRevalidate';\r\n\r\n    link = (scope: angular.IScope, element: angular.IAugmentedJQuery, attrs: angular.IAttributes, ngModelCtrl: angular.INgModelController) => {\r\n        scope.$watch(attrs.ngModel, () => {\r\n            ngModelCtrl.$validate();\r\n        }, true);\r\n    }\r\n\r\n    require = 'ngModel';\r\n\r\n    static Factory() {\r\n        let directive = () => {\r\n            return new RevalidateDirective();\r\n        };\r\n\r\n        return directive;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { ScheduleAreaContainerComponent, ScheduleAreaContainerController } from './schedule-area-container';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.scheduleAreaContainer', [])\r\n    .component(ScheduleAreaContainerComponent.$name, new ScheduleAreaContainerComponent())\r\n    .controller(ScheduleAreaContainerController.$name, ScheduleAreaContainerController)\r\n    .name;\r\n","import { ScrollService } from '../scroll/ScrollService';\r\nimport { ZoomService } from '../zoom/ZoomService';\r\nimport { WeeklySchedulerEvents } from '../weekly-scheduler-config/WeeklySchedulerEvents';\r\n\r\n/** @internal */\r\nexport class ScheduleAreaContainerController implements angular.IComponentController {\r\n    static $name = 'brWeeklySchedulerScheduleAreaContainerController';\r\n\r\n    static $inject = [\r\n        '$element',\r\n        '$scope',\r\n        'brWeeklySchedulerScrollService',\r\n        'brWeeklySchedulerZoomService'\r\n    ];\r\n\r\n    constructor(\r\n        private $element: angular.IAugmentedJQuery,\r\n        private $scope: angular.IScope,\r\n        private scrollService: ScrollService,\r\n        private zoomService: ZoomService\r\n    ) {\r\n    }\r\n\r\n    $postLink() {\r\n        let element = this.$element[0]; // grab plain js, not jqlite\r\n\r\n        this.scrollService.hijackScroll(element, 20);\r\n        this.zoomService.resetZoom(element);\r\n\r\n\r\n        this.$scope.$on(WeeklySchedulerEvents.CLICK_ON_A_CELL, (e, data) => {\r\n            this.zoomService.zoomInACell(element, e, data);\r\n        });\r\n\r\n        this.$scope.$on(WeeklySchedulerEvents.RESET_ZOOM, (e) => {\r\n            this.zoomService.resetZoom(element);\r\n        });\r\n\r\n        this.$scope.$on(WeeklySchedulerEvents.ZOOM_IN, (e) => {\r\n            this.zoomService.zoomIn(element);\r\n        });\r\n    }\r\n}\r\n\r\n/** @internal */\r\nexport class ScheduleAreaContainerComponent implements angular.IComponentOptions {\r\n    static $name = 'brScheduleAreaContainer';\r\n\r\n    controller = ScheduleAreaContainerController.$name;\r\n    transclude = true;\r\n\r\n    template = require('./schedule-area-container.html');\r\n}\r\n","module.exports = \"<ng-transclude></ng-transclude>\";","import * as angular from 'angular';\r\nimport { ScheduleCountDirective } from './ScheduleCountDirective';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.scheduleCount', [])\r\n    .directive(ScheduleCountDirective.$name, ScheduleCountDirective.Factory())\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { ScheduleCountValidatorService } from '../schedule-validator/ScheduleCountValidatorService';\r\nimport { WeeklySchedulerItem } from '../weekly-scheduler-item/WeeklySchedulerItem';\r\n\r\n/** @internal */\r\nexport class ScheduleCountDirective implements angular.IDirective {\r\n    static $name = 'brScheduleCount';\r\n\r\n    constructor(\r\n        private validator: ScheduleCountValidatorService\r\n    ) {\r\n    }\r\n\r\n    link = (scope: angular.IScope, element: angular.IAugmentedJQuery, attrs: angular.IAttributes, ngModelCtrl: angular.INgModelController) => {\r\n        if (attrs.brScheduleCount) {\r\n            ngModelCtrl.$validators[this.validator.error] = (modelValue: WeeklySchedulerItem<any>) => {\r\n                return this.validator.validate(modelValue.schedules, modelValue.config);\r\n            };\r\n        }\r\n    }\r\n\r\n    require = 'ngModel';\r\n\r\n    static Factory() {\r\n        let directive = (validator) => {\r\n            return new ScheduleCountDirective(validator);\r\n        };\r\n\r\n        directive.$inject = ['brWeeklySchedulerScheduleCountValidatorService'];\r\n\r\n        return directive;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { FullCalendarValidatorService } from './FullCalendarValidatorService';\r\nimport { MaxTimeSlotValidatorService } from './MaxTimeSlotValidatorService';\r\nimport { MinimumSeparationValidatorService } from './MinimumSeparationValidatorService';\r\nimport { MonoScheduleValidatorService } from './MonoScheduleValidatorService';\r\nimport { NullEndScheduleValidatorService } from './NullEndValidatorService';\r\nimport { OverlapValidatorService } from './OverlapValidatorService';\r\nimport { ScheduleCountValidatorService } from './ScheduleCountValidatorService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.scheduleValidation', [])\r\n    .service(FullCalendarValidatorService.$name, FullCalendarValidatorService)\r\n    .service(MaxTimeSlotValidatorService.$name, MaxTimeSlotValidatorService)\r\n    .service(MinimumSeparationValidatorService.$name, MinimumSeparationValidatorService)\r\n    .service(MonoScheduleValidatorService.$name, MonoScheduleValidatorService)\r\n    .service(NullEndScheduleValidatorService.$name, NullEndScheduleValidatorService)\r\n    .service(OverlapValidatorService.$name, OverlapValidatorService)\r\n    .service(ScheduleCountValidatorService.$name, ScheduleCountValidatorService)\r\n    .name;\r\n","import { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { IWeeklySchedulerRange } from '../weekly-scheduler-range/IWeeklySchedulerRange';\r\nimport { ValidatorService } from '../schedule-validator/ValidatorService';\r\nimport { ValidationError } from '../weekly-scheduler-config/ValidationErrors';\r\n\r\n/** @internal */\r\nexport class FullCalendarValidatorService implements ValidatorService {\r\n    static $name = 'brWeeklySchedulerFullCalendarValidatorService';\r\n\r\n    get error() {\r\n        return ValidationError.FullCalendar;\r\n    }\r\n\r\n    public validate(schedules: IWeeklySchedulerRange<any>[], config: IWeeklySchedulerConfig<any>): boolean {\r\n        if (!config.fullCalendar) {\r\n            return true;\r\n        }\r\n\r\n        \r\n        // When this option is true we should enforce that there are no gaps in the schedules\r\n        let len = schedules.length;\r\n\r\n        // If there are no schedules, it automatically fails.\r\n        if (!len) {\r\n            return false;\r\n        }\r\n        \r\n        // If there was only one item we should check that it spans the whole range\r\n        if (len === 1) {\r\n            let schedule = schedules[0];\r\n            return this.validateStartAtMinValue(schedule.start) && this.validateEndAtMaxValue(schedule.end, config);\r\n        }\r\n\r\n        // If more, compare two at a time until the end\r\n        let loopLen = len - 1;\r\n        let result = true;\r\n\r\n        // Sort by start time first\r\n        let sortedSchedules = schedules.sort((a, b) => a.start > b.start ? 1 : -1);\r\n\r\n        for (let i = 0; i < loopLen; i++) {\r\n            let current = schedules[i];\r\n            let next = schedules[i + 1];\r\n            \r\n            // Validate that the first item lands at 0\r\n            if (i === 0 && !this.validateStartAtMinValue(current.start)) {\r\n                return false;\r\n            }\r\n\r\n            // Validate that the last item lands at maxValue\r\n            if (i === loopLen - 1 && !this.validateEndAtMaxValue(next.end, config)) {\r\n                return false;\r\n            }\r\n\r\n            result = result && current.end === next.start;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    private validateStartAtMinValue(start: number) {\r\n        return start === 0;\r\n    }\r\n\r\n    private validateEndAtMaxValue(end: number, config: IWeeklySchedulerConfig<any>) {\r\n        return (end || config.maxValue) === config.maxValue;\r\n    }\r\n}\r\n","import { EndAdjusterService } from '../end-adjuster/EndAdjusterService';\r\nimport { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { IWeeklySchedulerRange } from '../weekly-scheduler-range/IWeeklySchedulerRange';\r\nimport { ValidatorService } from '../schedule-validator/ValidatorService';\r\nimport { ValidationError } from '../weekly-scheduler-config/ValidationErrors';\r\n\r\n/** @internal */\r\nexport class MaxTimeSlotValidatorService implements ValidatorService {\r\n    static $name = 'brWeeklySchedulerMaxTimeSlotValidatorService';\r\n\r\n    static $inject = ['brWeeklySchedulerEndAdjusterService'];\r\n\r\n    private constructor(\r\n        private endAdjusterService: EndAdjusterService\r\n    ) {\r\n    }\r\n\r\n    get error() {\r\n        return ValidationError.MaxTimeSlot;\r\n    }\r\n\r\n    public validate(schedules: IWeeklySchedulerRange<any>[], config: IWeeklySchedulerConfig<any>): boolean {\r\n        let maxTimeSlot = config.maxTimeSlot;\r\n\r\n        if (!maxTimeSlot) {\r\n            return true;\r\n        }\r\n\r\n        return !schedules.some(s => s.value !== config.defaultValue && this.endAdjusterService.adjustEndForView(config, s.end) - s.start > maxTimeSlot);\r\n    }\r\n}\r\n","import { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { IWeeklySchedulerRange } from '../weekly-scheduler-range/IWeeklySchedulerRange';\r\nimport { ValidatorService } from '../schedule-validator/ValidatorService'\r\nimport { ValidationError } from '../weekly-scheduler-config/ValidationErrors';\r\n\r\n/** @internal */\r\nexport class MinimumSeparationValidatorService implements ValidatorService {\r\n    static $name = 'brWeeklySchedulerMinimumSeparationValidatorService';\r\n\r\n    get error() {\r\n        return ValidationError.MinimumSeparation;\r\n    }\r\n\r\n    public validate(schedules: IWeeklySchedulerRange<any>[], config: IWeeklySchedulerConfig<any>): boolean {\r\n        if (!config.minimumSeparation) {\r\n            return true;\r\n        }\r\n\r\n        const len = schedules.length;\r\n\r\n        if (len <= 1) {\r\n            return true;\r\n        }\r\n\r\n        const loopLen = len - 1;\r\n\r\n        schedules.sort((a, b) => a.start - b.start);\r\n\r\n        for (let i = 0; i < loopLen; i++) {\r\n            let currentSchedule = schedules[i];\r\n            let nextSchedule = schedules[i + 1];\r\n\r\n            if (nextSchedule.start - currentSchedule.end < config.minimumSeparation) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { IWeeklySchedulerRange } from '../weekly-scheduler-range/IWeeklySchedulerRange';\r\nimport { ValidatorService } from '../schedule-validator/ValidatorService'\r\nimport { ValidationError } from '../weekly-scheduler-config/ValidationErrors';\r\n\r\n/** @internal */\r\nexport class MonoScheduleValidatorService implements ValidatorService {\r\n    static $name = 'brWeeklySchedulerMonoScheduleValidatorService';\r\n\r\n    get error() {\r\n        return ValidationError.MonoSchedule;\r\n    }\r\n\r\n    /** Important note -- this does not validate that only one schedule exists per item, but rather that only one NON-DEFAULT schedule exists per item. */\r\n    public validate(schedules: IWeeklySchedulerRange<any>[], config: IWeeklySchedulerConfig<any>): boolean {\r\n        if (!config.monoSchedule) {\r\n            return true;\r\n        }\r\n\r\n        // If a default value is defined, schedules with default values don't count -- one non-default schedule per item.\r\n        let schedulesToValidate;\r\n\r\n        if (angular.isDefined(config.defaultValue)) {\r\n            schedulesToValidate = schedules.filter(schedule => schedule.value !== config.defaultValue);\r\n        } else {\r\n            schedulesToValidate = schedules;\r\n        }\r\n\r\n        // only allowed empty or 1 schedule per item\r\n        return !schedulesToValidate.length || schedulesToValidate.length === 1;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { IWeeklySchedulerRange } from '../weekly-scheduler-range/IWeeklySchedulerRange';\r\nimport { ValidatorService } from '../schedule-validator/ValidatorService'\r\nimport { ValidationError } from '../weekly-scheduler-config/ValidationErrors';\r\n\r\n/** @internal */\r\nexport class NullEndScheduleValidatorService implements ValidatorService {\r\n    static $name = 'brWeeklySchedulerNullEndValidatorService';\r\n\r\n    get error() {\r\n        return ValidationError.NullEnd;\r\n    }\r\n\r\n    validate(schedules: IWeeklySchedulerRange<any>[], config: IWeeklySchedulerConfig<any>): boolean {\r\n        if (config.nullEnds) {\r\n            return schedules.length <= 1 && schedules.every(schedule => schedule.end === null);\r\n        } else {\r\n            return schedules.every(schedule => schedule.end !== null);\r\n        }\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { IWeeklySchedulerRange } from '../weekly-scheduler-range/IWeeklySchedulerRange';\r\nimport { OverlapService } from '../overlap/OverlapService';\r\nimport { ValidatorService } from '../schedule-validator/ValidatorService'\r\nimport { OverlapState } from '../weekly-scheduler-config/OverlapStates';\r\nimport { ValidationError } from '../weekly-scheduler-config/ValidationErrors';\r\n\r\n/** @internal */\r\nexport class OverlapValidatorService implements ValidatorService {\r\n    static $name = 'brWeeklySchedulerOverlapValidatorService';\r\n\r\n    static $inject = [\r\n        'brWeeklySchedulerOverlapService'\r\n    ];\r\n    \r\n    private constructor(\r\n        private overlapService: OverlapService\r\n    ) {\r\n    }\r\n\r\n    get error() {\r\n        return ValidationError.Overlap;\r\n    }\r\n\r\n    public validate(schedules: IWeeklySchedulerRange<any>[], config: IWeeklySchedulerConfig<any>): boolean {\r\n        // Compare two at a time until the end\r\n        let len = schedules.length;\r\n        let result = true;\r\n\r\n        for (let i = 0; i < len - 1; i++) {\r\n            let current = schedules[i];\r\n            let next = schedules[i + 1];\r\n\r\n            let valuesMatch = current.value === next.value;\r\n\r\n            if (!valuesMatch) {\r\n                let overlapState = this.overlapService.getOverlapState(config, current, next);\r\n                result = result && [OverlapState.NoOverlap, OverlapState.OtherStartIsCurrentEnd, OverlapState.OtherEndIsCurrentStart].indexOf(overlapState) > -1;\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n}\r\n","import { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { IWeeklySchedulerRange } from '../weekly-scheduler-range/IWeeklySchedulerRange';\r\nimport { ValidatorService } from '../schedule-validator/ValidatorService'\r\nimport { ValidationError } from '../weekly-scheduler-config/ValidationErrors';\r\n\r\n/** @internal */\r\nexport class ScheduleCountValidatorService implements ValidatorService {\r\n    static $name = 'brWeeklySchedulerScheduleCountValidatorService';\r\n\r\n    get error() {\r\n        return ValidationError.ScheduleCount;\r\n    }\r\n\r\n    public validate(schedules: IWeeklySchedulerRange<any>[], config: IWeeklySchedulerConfig<any>): boolean {\r\n        if (!config.scheduleCountOptions.count) {\r\n            return true;    \r\n        }\r\n\r\n        if (config.scheduleCountOptions.exact) {\r\n            return this.validateExactCount(schedules, config);\r\n        } else {\r\n            return this.validateMaxCount(schedules, config);\r\n        }\r\n    }\r\n\r\n    private validateExactCount(schedules: IWeeklySchedulerRange<any>[], config: IWeeklySchedulerConfig<any>): boolean {\r\n        return schedules.length === config.scheduleCountOptions.count;\r\n    }\r\n\r\n    private validateMaxCount(schedules: IWeeklySchedulerRange<any>[], config: IWeeklySchedulerConfig<any>): boolean {\r\n        return schedules.length <= config.scheduleCountOptions.count;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { ScrollService } from './ScrollService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.scroll', [])\r\n    .service(ScrollService.$name, ScrollService)\r\n    .name;\r\n","import { ZoomService } from '../zoom/ZoomService';\r\n\r\n/** @internal */\r\nexport class ScrollService {\r\n    static $name = 'brWeeklySchedulerScrollService';\r\n\r\n    static $inject = [\r\n        'brWeeklySchedulerZoomService'\r\n    ];\r\n\r\n    private constructor(\r\n        private zoomService: ZoomService\r\n    ) {\r\n    }\r\n\r\n    public hijackScroll(element, delta) {\r\n        element.addEventListener('mousewheel', (event: WheelEvent) => {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n\r\n            if (event.ctrlKey) {\r\n                this.zoomService.zoomByScroll(element, event, delta);\r\n            } else {\r\n                if ((event.wheelDelta || event.detail) > 0) {\r\n                    element.scrollLeft -= delta;\r\n                } else {\r\n                    element.scrollLeft += delta;\r\n                }\r\n            }\r\n\r\n            return false;\r\n        });\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { SecondsAsTextFilter } from './SecondsAsTextFilter';\r\nimport { TimeConstantsService } from './TimeConstantsService';\r\nimport { TimeOfDayFilter } from './TimeOfDayFilter';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.time', [])\r\n    .filter(SecondsAsTextFilter.$name, SecondsAsTextFilter.Factory()) \r\n    .filter(TimeOfDayFilter.$name, TimeOfDayFilter.Factory())\r\n    .service(TimeConstantsService.$name, TimeConstantsService)\r\n    .name;\r\n","import { TimeConstantsService } from './TimeConstantsService';\r\n\r\n/** @internal */\r\nexport class SecondsAsTextFilter {\r\n    static $name = 'brWeeklySchedulerSecondsAsText';\r\n\r\n    public static Factory() {\r\n        let factoryFunction = (timeConstants: TimeConstantsService) => {\r\n            return function(seconds: number): string {\r\n                let result = ``;\r\n\r\n                let hours = Math.floor(seconds / timeConstants.SECONDS_IN_HOUR);\r\n\r\n                result = SecondsAsTextFilter.addHoursToResult(result, hours);\r\n\r\n                seconds -= hours * timeConstants.SECONDS_IN_HOUR;\r\n\r\n                let minutes = Math.floor(seconds / timeConstants.SECONDS_IN_MINUTE);\r\n\r\n                result = SecondsAsTextFilter.addMinutesToResult(result, minutes);\r\n\r\n                seconds -= minutes * timeConstants.SECONDS_IN_MINUTE;\r\n\r\n                result = SecondsAsTextFilter.addSecondsToResult(result, seconds);\r\n\r\n                if (!result) {\r\n                    result = 'none';\r\n                }\r\n\r\n                return result;\r\n            }\r\n        };\r\n\r\n        factoryFunction.$inject = ['brWeeklySchedulerTimeConstantsService'];\r\n\r\n        return factoryFunction;\r\n    }\r\n\r\n    private static addHoursToResult(result: string, hours: number) {\r\n        if (hours) {\r\n            result += `${hours} hours`;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    private static addMinutesToResult(result: string, minutes: number) {\r\n        if (minutes) {\r\n            if (result) {\r\n                result += ` `;\r\n            }\r\n\r\n            result += `${minutes} minute${minutes > 1 ? 's' : ''}`; \r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    private static addSecondsToResult(result: string, seconds: number) {\r\n        if (seconds) {\r\n            if (result) {\r\n                result += ` `;\r\n            }\r\n\r\n            result += `${seconds} second${seconds > 1 ? 's' : ''}`;\r\n        }\r\n\r\n        return result;\r\n    }\r\n}\r\n","/** @internal */\r\nexport class TimeConstantsService {\r\n    static $name = 'brWeeklySchedulerTimeConstantsService';\r\n\r\n    public get SECONDS_IN_DAY() {\r\n        return this.MINUTES_IN_DAY * this.SECONDS_IN_MINUTE; \r\n    }\r\n\r\n    public get SECONDS_IN_HOUR() {\r\n        return this.SECONDS_IN_MINUTE * this.MINUTES_IN_HOUR;\r\n    }\r\n\r\n    public get SECONDS_IN_MINUTE() {\r\n        return 60;\r\n    }\r\n\r\n    public get HOURS_IN_DAY() {\r\n        return 24;\r\n    }\r\n\r\n    public get MINUTES_IN_DAY() {\r\n        return this.MINUTES_IN_HOUR * this.HOURS_IN_DAY;\r\n    }\r\n\r\n    public get MINUTES_IN_HOUR() {\r\n        return 60;\r\n    }\r\n}\r\n","import { TimeConstantsService } from './TimeConstantsService';\r\n\r\n/** @internal */\r\nexport class TimeOfDayFilter {\r\n    static $name = 'brWeeklySchedulerTimeOfDay';\r\n\r\n    public static Factory() {\r\n        let factoryFunction = (timeConstants: TimeConstantsService) => {\r\n            return function(seconds: number): string {\r\n                let hours = Math.floor(seconds / timeConstants.SECONDS_IN_HOUR);\r\n                let meridiem = hours > 11 && hours < 24 ? 'P' : 'A';\r\n\r\n                seconds -= hours * timeConstants.SECONDS_IN_HOUR;\r\n\r\n                let minutes = Math.floor(seconds / timeConstants.SECONDS_IN_MINUTE);\r\n                seconds -= minutes * timeConstants.SECONDS_IN_MINUTE;\r\n\r\n                let remainingMinutes = minutes.toString()\r\n\r\n                if (remainingMinutes.length == 1) {\r\n                    remainingMinutes = '0' + remainingMinutes;\r\n                }\r\n\r\n                let displayHours = hours % 12 || 12;\r\n\r\n                if (!seconds) {\r\n                    return `${displayHours}:${remainingMinutes}${meridiem}`;\r\n                } else {\r\n                    return `${displayHours}:${remainingMinutes}:${seconds}${meridiem}`;\r\n                }\r\n            }\r\n        };\r\n\r\n        factoryFunction.$inject = ['brWeeklySchedulerTimeConstantsService']\r\n\r\n        return factoryFunction;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { TimeRangeComponent, TimeRangeController } from './TimeRangeComponent';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.timeRange', [])\r\n    .component(TimeRangeComponent.$name, new TimeRangeComponent())\r\n    .controller(TimeRangeController.$name, TimeRangeController)\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { IWeeklySchedulerRange } from '../weekly-scheduler-range/IWeeklySchedulerRange';\r\n\r\n/** @internal */\r\nexport class TimeRangeComponent implements angular.IComponentOptions {\r\n    static $name = 'brTimeRange';\r\n\r\n    bindings = {\r\n        schedule: '<'\r\n    }\r\n\r\n    controller = TimeRangeController.$name;\r\n    controllerAs = TimeRangeController.$controllerAs;\r\n\r\n    template = `\r\n        <span ng-if=\"timeRangeCtrl.hasStart && timeRangeCtrl.hasEnd\">{{ timeRangeCtrl.schedule.start | brWeeklySchedulerTimeOfDay }}-{{ timeRangeCtrl.schedule.end | brWeeklySchedulerTimeOfDay }}</span>\r\n        <span ng-if=\"timeRangeCtrl.hasStart && !timeRangeCtrl.hasEnd\">{{ timeRangeCtrl.schedule.start | brWeeklySchedulerTimeOfDay }} until</span>\r\n    `\r\n}\r\n\r\n/** @internal */\r\nexport class TimeRangeController implements angular.IComponentController {\r\n    static $controllerAs = 'timeRangeCtrl';\r\n    static $name = 'brTimeRangeController';\r\n\r\n    private hasStart: boolean;\r\n    private hasEnd: boolean;\r\n\r\n    private schedule: IWeeklySchedulerRange<any>;\r\n\r\n    $onInit() {\r\n        this.hasStart = angular.isDefined(this.schedule.start);\r\n        this.hasEnd = angular.isDefined(this.schedule.end) && this.schedule.end !== null;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { TouchService } from './TouchService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.touch', [])\r\n    .service(TouchService.$name, TouchService)\r\n    .name;\r\n","/** @internal */\r\nexport class TouchService {\r\n    static $name = 'brWeeklySchedulerTouchService';\r\n\r\n    public getTouches(event: any): any { // todo\r\n        if (event.originalEvent) {\r\n            if (event.originalEvent.touches && event.originalEvent.touches.length) {\r\n                return event.originalEvent.touches;\r\n            } else if (event.originalEvent.changedTouches && event.originalEvent.changedTouches.length) {\r\n                return event.originalEvent.changedTouches;\r\n            }\r\n        }\r\n\r\n        if (!event.touches) {\r\n            event.touches = [event.originalEvent];\r\n        }\r\n\r\n        return event.touches;\r\n    }\r\n    \r\n    public getPageX(event: any): number {\r\n        let touches = this.getTouches(event);\r\n\r\n        if (touches && touches.length && touches[0]) {\r\n            return touches[0].pageX;\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { DayMap } from './DayMap';\r\nimport { NullEndWidth } from './NullEndWidth';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.weeklySchedulerConfig', [])\r\n    .constant(DayMap.$name, DayMap.value)\r\n    .constant(NullEndWidth.$name, NullEndWidth.value)\r\n    .name;\r\n","import { Days } from '../weekly-scheduler-config/Days';\r\n\r\n/** Ahhahhahh! Fighter of the NightMap! */\r\n/** @internal */\r\nexport class DayMap {\r\n    static $name = 'brWeeklySchedulerDayMap';\r\n    \r\n    static value = {\r\n        [Days.Monday]: 'Mon',\r\n        [Days.Tuesday]: 'Tue',\r\n        [Days.Wednesday]: 'Wed',\r\n        [Days.Thursday]: 'Thur',\r\n        [Days.Friday]: 'Fri',\r\n        [Days.Saturday]: 'Sat',\r\n        [Days.Sunday]: 'Sun' \r\n    }\r\n}\r\n","/** @internal */\r\nexport class NullEndWidth {\r\n    static $name = 'brWeeklySchedulerNullEndWidth';\r\n\r\n    static value = 7200; \r\n}\r\n","import * as angular from 'angular';\r\nimport { WeeklySchedulerComponent, WeeklySchedulerController } from './weekly-scheduler';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.weeklyScheduler', [])\r\n    .component(WeeklySchedulerComponent.$name, new WeeklySchedulerComponent())\r\n    .controller(WeeklySchedulerController.$name, WeeklySchedulerController)\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { AdapterService } from '../adapter/AdapterService';\r\nimport { ConfigurationService } from '../configuration/ConfigurationService';\r\nimport { ConflictingOptionsService } from '../conflicting-options/ConflictingOptionsService';\r\nimport { LastGhostDayService } from '../last-ghost-day/LastGhostDayService';\r\nimport { MissingDaysService } from '../missing-days/MissingDaysService';\r\nimport { IWeeklySchedulerAdapter } from '../adapter/IWeeklySchedulerAdapter';\r\nimport { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { IWeeklySchedulerOptions } from '../weekly-scheduler-config/IWeeklySchedulerOptions';\r\nimport { WeeklySchedulerItem } from '../weekly-scheduler-item/WeeklySchedulerItem';\r\nimport { WeeklySchedulerRange } from '../weekly-scheduler-range/WeeklySchedulerRange';\r\nimport { WeeklySchedulerEvents } from '../weekly-scheduler-config/WeeklySchedulerEvents';\r\n\r\n/** @internal */\r\nexport class WeeklySchedulerController implements angular.IController {\r\n  static $controllerAs = 'schedulerCtrl';\r\n  static $name = 'brWeeklySchedulerController';\r\n\r\n  static $inject = [\r\n    '$element',\r\n    '$scope',\r\n    '$timeout',\r\n    'brWeeklySchedulerAdapterService',\r\n    'brWeeklySchedulerConfigurationService',\r\n    'brWeeklySchedulerConflictingOptionsService',\r\n    'brWeeklySchedulerLastGhostDayService',\r\n    'brWeeklySchedulerMissingDaysService'\r\n  ];\r\n\r\n  constructor(\r\n    private $element: angular.IAugmentedJQuery,\r\n    private $scope: angular.IScope,\r\n    private $timeout: angular.ITimeoutService,\r\n    private adapterService: AdapterService,\r\n    private configurationService: ConfigurationService,\r\n    private conflictingOptionsService: ConflictingOptionsService,\r\n    private lastGhostDayService: LastGhostDayService,\r\n    private missingDaysService: MissingDaysService,\r\n  ) {\r\n  }\r\n\r\n  private _originalItems: WeeklySchedulerItem<any>[];\r\n\r\n  private adapter: IWeeklySchedulerAdapter<any, any>;\r\n\r\n  public invalidMessage: string = '';\r\n\r\n  private dragSchedule: WeeklySchedulerRange<any>;\r\n\r\n  private ghostValues: { left: number, right: number };\r\n\r\n  /** this is required to be part of a form for dirty/valid checks */\r\n  public formController: angular.IFormController;\r\n\r\n  public hoverClass: string;\r\n\r\n  public config: IWeeklySchedulerConfig<any>;\r\n  public items: WeeklySchedulerItem<any>[];\r\n  public options: IWeeklySchedulerOptions<any>;\r\n\r\n  $onInit() {\r\n    this.config = this.configurationService.getConfiguration(this.options);\r\n    this.buildItemsFromAdapter();\r\n    this.watchAdapter();\r\n    this.watchHoverClass();\r\n  }\r\n\r\n  $postLink() {\r\n    this.$scope.$on(WeeklySchedulerEvents.SLOT_DRAGGED, (event: angular.IAngularEvent, schedule: WeeklySchedulerRange<any>) => {\r\n      this.dragSchedule = schedule;\r\n    });\r\n\r\n    this.$scope.$on(WeeklySchedulerEvents.DRAG_ENDED, () => {\r\n      this.dragSchedule = null;\r\n    });\r\n\r\n    this.$scope.$on(WeeklySchedulerEvents.GHOST_DRAG_ENDED, (event: angular.IAngularEvent, ghostSchedule: WeeklySchedulerRange<any>) => {\r\n      this.$scope.$broadcast(WeeklySchedulerEvents.COMMIT_GHOST, ghostSchedule);\r\n    });\r\n\r\n    this.$scope.$on(WeeklySchedulerEvents.REMOVE_LAST_GHOST, () => {\r\n      let lastGhostDay = this.lastGhostDayService.getLastGhostDay(this.items);\r\n\r\n      this.$scope.$broadcast(WeeklySchedulerEvents.REMOVE_GHOST, lastGhostDay);\r\n    });\r\n\r\n    this.$scope.$on(WeeklySchedulerEvents.CANCEL_GHOST, () => {\r\n      this.$scope.$broadcast(WeeklySchedulerEvents.REMOVE_ALL_GHOSTS);\r\n    });\r\n\r\n    this.$timeout(() => {\r\n      this.invalidMessage = this.getInvalidMessage();\r\n    });\r\n  }\r\n\r\n  public getInvalidMessage() {\r\n    let conflictingOptions = this.conflictingOptionsService.getConflictingOptions(this.options);\r\n\r\n    if (conflictingOptions) {\r\n      return conflictingOptions;\r\n    }\r\n\r\n    if (this.hasInvalidSchedule()) {\r\n      return 'One or more of the schedules is invalid! Please contact service.';\r\n    }\r\n  }\r\n\r\n  public hasInvalidSchedule() {\r\n    return this.formController.$invalid;\r\n  }\r\n\r\n  private buildItems(items: WeeklySchedulerItem<any>[]) {\r\n    this.items = this.missingDaysService.fillItems(this.config, items);\r\n\r\n    this.items = this.purgeItems(this.items);\r\n\r\n    this.items.forEach(item => item.mergeOverlaps());\r\n\r\n    // keep a reference on the adapter so we can pull it out later\r\n    this.adapter.items = this.items;\r\n\r\n    // keep a copy of the items in case we need to rollback\r\n    this._originalItems = angular.copy(this.items);\r\n  }\r\n\r\n  private buildItemsFromAdapter() {\r\n    let items = this.adapterService.getItemsFromAdapter(this.config, this.adapter);\r\n\r\n    return this.buildItems(items);\r\n  }\r\n\r\n  private purgeItems(items: WeeklySchedulerItem<any>[]) {\r\n    if (this.config.fillEmptyWithDefault) {\r\n      for (let item of items) {\r\n        item.purgeDefaultSchedules();\r\n\r\n        if(this.config.nullEnds) {\r\n          item.forceNullEnds();\r\n        }\r\n      }\r\n    }\r\n\r\n    return items;\r\n  }\r\n\r\n  private prepareItems(items: WeeklySchedulerItem<any>[]) {\r\n    if (this.config.fillEmptyWithDefault) {\r\n      for (let item of items) {\r\n        item.fillEmptySlotsWithDefaultSchedules();\r\n      }\r\n    }\r\n\r\n    return items;\r\n  }\r\n\r\n  private setGhostValues(ghostValues: { left: number, right: number }) {\r\n    this.ghostValues = ghostValues;\r\n  }\r\n\r\n  private resetZoom() {\r\n    this.$scope.$broadcast(WeeklySchedulerEvents.RESET_ZOOM);\r\n  }\r\n\r\n  private zoomIn() {\r\n    this.$scope.$broadcast(WeeklySchedulerEvents.ZOOM_IN);\r\n  }\r\n\r\n  private rollback() {\r\n    this.buildItems(this._originalItems);\r\n    this.formController.$setPristine();\r\n  }\r\n\r\n  private save() {\r\n    this.items = this.prepareItems(this.items);\r\n\r\n    return this.config.saveScheduler().then(() => {\r\n      this.items = this.purgeItems(this.items);\r\n      this.formController.$setPristine();\r\n    });\r\n  }\r\n\r\n  private watchAdapter() {\r\n    this.$scope.$watch(() => {\r\n      return this.adapter;\r\n    }, () => {\r\n      this.buildItemsFromAdapter();\r\n    });\r\n  }\r\n\r\n  private watchHoverClass() {\r\n    const pulseClass = 'pulse';\r\n    const pulseSelector = `.${pulseClass}`;\r\n\r\n    this.$scope.$watch(() => this.hoverClass, () => {\r\n      this.$element.find(pulseSelector).removeClass(pulseClass);\r\n\r\n      if (this.hoverClass) {\r\n        this.$element.find(`.${this.hoverClass}`).addClass(pulseClass);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\n/** @internal */\r\nexport class WeeklySchedulerComponent implements angular.IComponentOptions {\r\n  static $name = 'brWeeklyScheduler';\r\n\r\n  bindings = {\r\n    adapter: '<',\r\n    hoverClass: '<',\r\n    options: '='\r\n  };\r\n\r\n  controller = WeeklySchedulerController.$name;\r\n  controllerAs = WeeklySchedulerController.$controllerAs;\r\n\r\n  require = {\r\n    formController: 'form'\r\n  };\r\n\r\n  template = require('./weekly-scheduler.html');\r\n};\r\n","module.exports = \"<div ng-if=\\\"!schedulerCtrl.invalidMessage\\\">\\r\\n  <div class=\\\"labels\\\">\\r\\n    <div class=\\\"srow dummy\\\"></div>\\r\\n    <div class=\\\"srow schedule-animate\\\" ng-repeat=\\\"item in schedulerCtrl.items track by item.day\\\">\\r\\n      {{ item.label }}\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <br-schedule-area-container>\\r\\n    <div class=\\\"schedule-area\\\">\\r\\n\\r\\n      <div class=\\\"srow timestamps\\\">\\r\\n        <br-hourly-grid></br-hourly-grid>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"srow calendar schedule-animate\\\" ng-repeat=\\\"item in schedulerCtrl.items track by item.day\\\">\\r\\n        <br-hourly-grid no-text></br-hourly-grid>\\r\\n        <br-multi-slider config=\\\"schedulerCtrl.config\\\"\\r\\n                        br-full-calendar=\\\"{{ schedulerCtrl.config.fullCalendar }}\\\"\\r\\n                        br-max-time-slot=\\\"{{ schedulerCtrl.config.maxTimeSlot }}\\\"\\r\\n                        br-minimum-separation=\\\"{{ schedulerCtrl.config.minimumSeparation }}\\\"\\r\\n                        br-mono-schedule=\\\"{{ schedulerCtrl.config.monoSchedule }}\\\"\\r\\n                        br-null-end=\\\"{{ schedulerCtrl.config.nullEnds }}\\\"\\r\\n                        br-schedule-count=\\\"{{ schedulerCtrl.config.scheduleCountOptions && schedulerCtrl.config.scheduleCountOptions.count }}\\\"\\r\\n                        br-overlap\\r\\n                        br-revalidate\\r\\n                        drag-schedule=\\\"schedulerCtrl.dragSchedule\\\"\\r\\n                        ghost-values=\\\"schedulerCtrl.ghostValues\\\"\\r\\n                        ng-model=\\\"item\\\"\\r\\n                        ng-model-options=\\\"{allowInvalid: true}\\\"\\r\\n                        set-ghost-values=\\\"schedulerCtrl.setGhostValues(ghostValues)\\\"\\r\\n        ></br-multi-slider>\\r\\n      </div>\\r\\n    </div>\\r\\n  </br-schedule-area-container>\\r\\n\\r\\n  <br-restriction-explanations></br-restriction-explanations>\\r\\n\\r\\n  <div class=\\\"srow buttons\\\">\\r\\n    <button ng-class=\\\"schedulerCtrl.config.buttonClasses\\\" type=\\\"button\\\" ng-click=\\\"schedulerCtrl.rollback()\\\" ng-disabled=\\\"!schedulerCtrl.formController.$dirty\\\">Reset</button>\\r\\n    <button ng-class=\\\"schedulerCtrl.config.buttonClasses\\\" type=\\\"button\\\" ng-click=\\\"schedulerCtrl.save()\\\" ng-disabled=\\\"!schedulerCtrl.formController.$dirty || !schedulerCtrl.formController.$valid\\\" ng-if=\\\"schedulerCtrl.config.saveScheduler\\\">Save</button>\\r\\n    <button ng-class=\\\"schedulerCtrl.config.buttonClasses\\\" type=\\\"button\\\" ng-click=\\\"schedulerCtrl.resetZoom()\\\">Zoom Out</button>\\r\\n    <button ng-class=\\\"schedulerCtrl.config.buttonClasses\\\" type=\\\"button\\\" ng-click=\\\"schedulerCtrl.zoomIn()\\\">Zoom In</button>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"srow\\\" ng-if=\\\"schedulerCtrl.invalidMessage\\\">\\r\\n  {{ schedulerCtrl.invalidMessage }}\\r\\n</div>\";","import * as angular from 'angular';\r\nimport { WeeklySchedulerItemFactory } from './WeeklySchedulerItemFactory';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.weeklySchedulerItem', [])\r\n    .service(WeeklySchedulerItemFactory.$name, WeeklySchedulerItemFactory)\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { DayMap } from '../weekly-scheduler-config/DayMap';\r\nimport { FillEmptyWithDefaultService } from '../fill-empty-with-default/FillEmptyWithDefaultService';\r\nimport { IInternalWeeklySchedulerItem } from '../weekly-scheduler-item/IInternalWeeklySchedulerItem';\r\nimport { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { IWeeklySchedulerItem } from '../weekly-scheduler-item/IWeeklySchedulerItem';\r\nimport { IWeeklySchedulerRange } from '../weekly-scheduler-range/IWeeklySchedulerRange';\r\nimport { OverlapService } from '../overlap/OverlapService';\r\nimport { PurgeDefaultService } from '../purge-default/PurgeDefaultService';\r\nimport { WeeklySchedulerItem } from '../weekly-scheduler-item/WeeklySchedulerItem';\r\nimport { WeeklySchedulerRangeFactory } from '../weekly-scheduler-range/WeeklySchedulerRangeFactory';\r\n\r\n/** @internal */\r\nexport class WeeklySchedulerItemFactory {\r\n    static $name = 'brWeeklySchedulerItemFactory';\r\n\r\n    static $inject = [\r\n        'brWeeklySchedulerDayMap',\r\n        'brWeeklySchedulerFillEmptyWithDefaultService',\r\n        'brWeeklySchedulerOverlapService',\r\n        'brWeeklySchedulerPurgeDefaultService',\r\n        'brWeeklySchedulerRangeFactory'\r\n    ];\r\n\r\n    private constructor(\r\n        private dayMap: DayMap,\r\n        private fillEmptyWithDefaultService: FillEmptyWithDefaultService,\r\n        private overlapService: OverlapService,\r\n        private purgeDefaultService: PurgeDefaultService,\r\n        private rangeFactory: WeeklySchedulerRangeFactory\r\n    ) {\r\n    }\r\n\r\n    public createItem(config: IWeeklySchedulerConfig<any>, day: number, schedules: IWeeklySchedulerRange<any>[]) {\r\n        let result: IInternalWeeklySchedulerItem<any>;\r\n\r\n        let builder: IWeeklySchedulerItem<any> = config.createItem(day, schedules);\r\n    \r\n        result = angular.extend(builder, { label: this.dayMap[day] });\r\n    \r\n        return new WeeklySchedulerItem(config, result, this.fillEmptyWithDefaultService, this.overlapService, this.purgeDefaultService, this.rangeFactory);\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { Days } from '../weekly-scheduler-config/Days';\r\nimport { FillEmptyWithDefaultService } from '../fill-empty-with-default/FillEmptyWithDefaultService';\r\nimport { IInternalWeeklySchedulerItem } from '../weekly-scheduler-item/IInternalWeeklySchedulerItem';\r\nimport { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { IWeeklySchedulerRange } from '../weekly-scheduler-range/IWeeklySchedulerRange';\r\nimport { OverlapService } from '../overlap/OverlapService';\r\nimport { PurgeDefaultService } from '../purge-default/PurgeDefaultService';\r\nimport { WeeklySchedulerRange } from '../weekly-scheduler-range/WeeklySchedulerRange';\r\nimport { WeeklySchedulerRangeFactory } from '../weekly-scheduler-range/WeeklySchedulerRangeFactory';\r\nimport { OverlapState } from '../weekly-scheduler-config/OverlapStates';\r\n\r\n/** Provides common functionality for an item -- pass it in and the resulting object will allow you to operate on it */\r\n/** @internal */\r\nexport class WeeklySchedulerItem<T> implements IInternalWeeklySchedulerItem<T> {\r\n    $isGhostOrigin: boolean;\r\n    $renderGhost: boolean;\r\n    day: Days;\r\n    editable: boolean;\r\n    label: string;\r\n    schedules: WeeklySchedulerRange<T>[];\r\n\r\n    constructor(\r\n        public config: IWeeklySchedulerConfig<T>,\r\n        item: IInternalWeeklySchedulerItem<T>,\r\n        private fillEmptyWithDefaultService: FillEmptyWithDefaultService,\r\n        private overlapService: OverlapService,\r\n        private purgeDefaultService: PurgeDefaultService,\r\n        private rangeFactory: WeeklySchedulerRangeFactory\r\n    ) {\r\n        this.day = item.day;\r\n        this.editable = angular.isDefined(item.editable) ? item.editable : true;\r\n        this.label = item.label;\r\n        this.schedules = item.schedules.map(schedule => rangeFactory.createRange(config, schedule));\r\n    }\r\n\r\n    public addSchedule(schedule: IWeeklySchedulerRange<T>) {\r\n        schedule.day = this.day;\r\n        const range = this.rangeFactory.createRange(this.config, schedule);\r\n        this.schedules.push(range);\r\n\r\n        return range;\r\n    }\r\n\r\n    public addScheduleAndMerge(schedule: IWeeklySchedulerRange<T>) {\r\n        let range = this.addSchedule(schedule);\r\n        this.mergeSchedule(range);\r\n\r\n        return range;\r\n    }\r\n\r\n    public canAddSchedule() {\r\n        if (this.config.nullEnds) {\r\n            return this.hasNoSchedules();\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    /** Determine if the conditions allow for a pop-up editor */\r\n    public canEdit() {\r\n        let hasEditFunction = angular.isFunction(this.config.editSlot);\r\n\r\n        return this.editable && hasEditFunction;\r\n    }\r\n\r\n    /** Determine if a schedule is able to be modified */\r\n    public canEditSchedule(schedule: WeeklySchedulerRange<T>) {\r\n        let itemIsEditable = this.editable;\r\n        let scheduleIsEditable = schedule.editable;\r\n\r\n        return itemIsEditable && scheduleIsEditable;\r\n    }\r\n\r\n    /**\r\n     * Rather than having to deal with modifying mergeOverlaps to handle nullEnds calendars,\r\n     * just prevent the user from creating additional slots in nullEnds calendars unless there are no slots there already.\r\n     */\r\n    public canRenderGhost() {\r\n        // This one needs to come first, otherwise renderGhost being set to true would override the protection against addt'l slots in nullEnd calendars\r\n        if (this.config.nullEnds) {\r\n            return this.$renderGhost && this.hasNoSchedules();\r\n        }\r\n\r\n        return this.$renderGhost;\r\n    }\r\n\r\n    public hasSchedule(schedule: WeeklySchedulerRange<T>) {\r\n        return this.schedules.indexOf(schedule) > -1;\r\n    }\r\n\r\n    public hasNoSchedules() {\r\n        return this.schedules.length === 0;\r\n    }\r\n\r\n    public fillEmptySlotsWithDefaultSchedules() {\r\n        this.schedules = this.fillEmptyWithDefaultService.fill(this, this.config);\r\n    }\r\n\r\n    public forceNullEnds() {\r\n        this.schedules.forEach(s => s.end = null);\r\n    }\r\n\r\n    public mergeOverlaps() {\r\n        do {\r\n            this.schedules.forEach(schedule => this.mergeOverlapsForSchedule(schedule));\r\n        } while (this.needsOverlapsMerged());\r\n    }\r\n\r\n    public mergeSchedule(schedule: WeeklySchedulerRange<any>) {\r\n        // We consider the schedule we were working with to be the most important, so handle its overlaps first.\r\n        this.mergeOverlapsForSchedule(schedule);\r\n        this.mergeOverlaps();\r\n    }\r\n\r\n    public purgeDefaultSchedules() {\r\n        this.schedules = this.purgeDefaultService.purge(this.schedules, this.config);\r\n    }\r\n\r\n    public removeSchedule(schedule: WeeklySchedulerRange<T>) {\r\n        let schedules = this.schedules;\r\n\r\n        schedules.splice(schedules.indexOf(schedule), 1);\r\n\r\n        this.config.onRemove();\r\n    }\r\n\r\n    // Overlap handlers\r\n\r\n    private getOverlapHandler(overlapState: OverlapState) {\r\n        const overlapHandlers: { [key: number]: (current: WeeklySchedulerRange<any>, other: WeeklySchedulerRange<any>) => void; } = {\r\n            [OverlapState.NoOverlap]: (current, other) => this.handleNoOverlap(current, other),\r\n            [OverlapState.CurrentIsInsideOther]: (current, other) => this.handleCurrentIsInsideOther(current, other),\r\n            [OverlapState.CurrentCoversOther]: (current, other) => this.handleCurrentCoversOther(current, other),\r\n            [OverlapState.OtherEndIsInsideCurrent]: (current, other) => this.handleOtherEndIsInsideCurrent(current, other),\r\n            [OverlapState.OtherStartIsInsideCurrent]: (current, other) => this.handleOtherStartIsInsideCurrent(current, other),\r\n            [OverlapState.OtherEndIsCurrentStart]: (current, other) => this.handleOtherEndIsCurrentStart(current, other),\r\n            [OverlapState.OtherStartIsCurrentEnd]: (current, other) => this.handleOtherStartIsCurrentEnd(current, other)\r\n        };\r\n\r\n        return overlapHandlers[overlapState];\r\n    }\r\n\r\n    private handleCurrentCoversOther(current: WeeklySchedulerRange<any>, other: WeeklySchedulerRange<any>): void {\r\n        this.removeSchedule(other);\r\n    }\r\n\r\n    private handleCurrentIsInsideOther(current: WeeklySchedulerRange<any>, other: WeeklySchedulerRange<any>): void {\r\n        if (current.hasSameValueAs(other)) {\r\n            // Remove 'other' & make current expand to fit the other slot\r\n            this.removeSchedule(other);\r\n\r\n            current.update({\r\n                day: other.day,\r\n                start: other.start,\r\n                end: other.end,\r\n                value: other.value\r\n            });\r\n        } else {\r\n            // Just remove 'current'\r\n            this.removeSchedule(current);\r\n        }\r\n    }\r\n\r\n    private handleNoOverlap(current: IWeeklySchedulerRange<any>, other: IWeeklySchedulerRange<any>) {\r\n        // Do nothing\r\n    }\r\n\r\n    private handleOtherEndIsInsideCurrent(current: WeeklySchedulerRange<any>, other: WeeklySchedulerRange<any>): void {\r\n        if (current.hasSameValueAs(other)) {\r\n            this.removeSchedule(other);\r\n\r\n            current.update({\r\n                day: current.day,\r\n                start: other.start,\r\n                end: current.end,\r\n                value: other.value\r\n            });\r\n        } else {\r\n            other.update({\r\n                day: other.day,\r\n                start: other.start,\r\n                end: current.start,\r\n                value: current.value\r\n            });\r\n        }\r\n    }\r\n\r\n    private handleOtherStartIsInsideCurrent(current: WeeklySchedulerRange<any>, other: WeeklySchedulerRange<any>): void {\r\n        if (current.hasSameValueAs(other)) {\r\n            this.removeSchedule(other);\r\n\r\n            current.update({\r\n                day: current.day,\r\n                start: current.start,\r\n                end: other.end,\r\n                value: other.value\r\n            });\r\n        } else {\r\n            other.update({\r\n                day: other.day,\r\n                start: current.end,\r\n                end: other.end,\r\n                value: other.value\r\n            });\r\n        }\r\n    }\r\n\r\n    private handleOtherEndIsCurrentStart(current: WeeklySchedulerRange<any>, other: WeeklySchedulerRange<any>): void {\r\n        if (current.hasSameValueAs(other)) {\r\n            this.handleOtherEndIsInsideCurrent(current, other);\r\n        } else {\r\n            // DO NOTHING, this is okay if the values don't match\r\n        }\r\n    }\r\n\r\n    private handleOtherStartIsCurrentEnd(current: WeeklySchedulerRange<any>, other: WeeklySchedulerRange<any>): void {\r\n        if (current.hasSameValueAs(other)) {\r\n            this.handleOtherStartIsInsideCurrent(current, other);\r\n        } else {\r\n            // DO NOTHING, this is okay if the values don't match\r\n        }\r\n    }\r\n\r\n    // End overlap handlers\r\n    private mergeOverlapsForSchedule(schedule: WeeklySchedulerRange<any>) {\r\n        let schedules = this.schedules;\r\n\r\n        schedules.forEach(el => {\r\n            if (!el.equals(schedule)) {\r\n                let schedulesBothEditable = el.editable && schedule.editable;\r\n\r\n                if (schedulesBothEditable) {\r\n                    let overlapState = this.overlapService.getOverlapState(this.config, schedule, el);\r\n                    let overlapHandler = this.getOverlapHandler(overlapState);\r\n\r\n                    overlapHandler(schedule, el);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private needsOverlapsMerged() {\r\n        let len = this.schedules.length;\r\n\r\n        // Compare two at a time\r\n        for (let i = 0; i < len - 1; i += 1) {\r\n            let current = this.schedules[i];\r\n            let next = this.schedules[i + 1];\r\n\r\n            let schedulesBothEditable = current.editable && next.editable;\r\n\r\n            if (!schedulesBothEditable) {\r\n                return false;\r\n            }\r\n\r\n            if (current.hasSameValueAs(next)) {\r\n                let overlapState = this.overlapService.getOverlapState(this.config, current, next);\r\n\r\n                return [OverlapState.OtherEndIsCurrentStart, OverlapState.OtherStartIsCurrentEnd].indexOf(overlapState) > -1;\r\n            }\r\n        }\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { WeeklySchedulerRangeFactory } from './WeeklySchedulerRangeFactory';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.weeklySchedulerRange', [])\r\n    .service(WeeklySchedulerRangeFactory.$name, WeeklySchedulerRangeFactory)\r\n    .name;\r\n","import { EndAdjusterService } from '../end-adjuster/EndAdjusterService';\r\nimport { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { IWeeklySchedulerRange } from '../weekly-scheduler-range/IWeeklySchedulerRange';\r\nimport { WeeklySchedulerRange } from '../weekly-scheduler-range/WeeklySchedulerRange';\r\n\r\n/** @internal */\r\nexport class WeeklySchedulerRangeFactory {\r\n    static $name = 'brWeeklySchedulerRangeFactory';\r\n\r\n    static $inject = [\r\n        'brWeeklySchedulerEndAdjusterService'\r\n    ];\r\n\r\n    private constructor(\r\n        private endAdjusterService: EndAdjusterService\r\n    ) {\r\n    }\r\n\r\n    public createRange(config: IWeeklySchedulerConfig<any>, schedule: IWeeklySchedulerRange<any>) {\r\n        return new WeeklySchedulerRange(config, schedule, this.endAdjusterService);\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { Days } from '../weekly-scheduler-config/Days';\r\nimport { EndAdjusterService } from '../end-adjuster/EndAdjusterService';\r\nimport { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { IWeeklySchedulerRange } from './IWeeklySchedulerRange';\r\n\r\n\r\n/** Provides common functionality for a schedule -- pass it in and the resulting object will allow you to operate on it */\r\n/** @internal */\r\nexport class WeeklySchedulerRange<T> implements IWeeklySchedulerRange<T> {\r\n    $class: string;\r\n    $isActive: boolean;\r\n    $isDeleting: boolean;\r\n    $isEditing: boolean;\r\n\r\n    day: Days;\r\n    start: number;\r\n    end: number;\r\n    value: T;\r\n\r\n    editable: boolean;\r\n\r\n    constructor(\r\n        private config: IWeeklySchedulerConfig<T>,\r\n        schedule: IWeeklySchedulerRange<T>,\r\n        private endAdjusterService: EndAdjusterService\r\n    ) {\r\n        this.$class = schedule.$class;\r\n        this.$isActive = schedule.$isActive;\r\n        this.$isDeleting = schedule.$isDeleting;\r\n        this.$isEditing = schedule.$isEditing;\r\n        this.day = schedule.day;\r\n        this.start = schedule.start;\r\n        this.end = schedule.end;\r\n        this.value = schedule.value;\r\n        this.editable = angular.isDefined(schedule.editable) ? schedule.editable : true;\r\n    }\r\n\r\n    get duration() {\r\n        return this.end - this.start;\r\n    }\r\n\r\n    public equals(other: WeeklySchedulerRange<T>) {\r\n        return angular.equals(this, other);\r\n    }\r\n\r\n    public hasSameValueAs(other: WeeklySchedulerRange<T>) {\r\n        return this.value === other.value;\r\n    }\r\n\r\n    public update(updatedSchedule: IWeeklySchedulerRange<T>) {\r\n        let updatedStart = this.updateStart(updatedSchedule.start);\r\n        let updatedEnd = this.updateEnd(updatedSchedule.end);\r\n\r\n        if (updatedStart || updatedEnd) {\r\n            this.config.onChange();\r\n        }\r\n    }\r\n\r\n    public updateEnd(updatedEnd: number) {\r\n        if (this.canUpdateEnd(updatedEnd)) {\r\n            this.end = this.endAdjusterService.adjustEndForModel(this.config, updatedEnd);\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    public updateStart(updatedStart: number) {\r\n        if (this.canUpdateStart(updatedStart)) {\r\n            this.start = updatedStart;\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    private canUpdateEnd(updatedEnd: number) {\r\n        let changed = this.end !== updatedEnd;\r\n        let newEndBeforeOrAtMax = updatedEnd <= this.config.maxValue;\r\n        let newEndAfterOrAtExistingStart = this.endAdjusterService.adjustEndForView(this.config, updatedEnd) >= this.start + 1;\r\n\r\n        return changed && newEndBeforeOrAtMax && newEndAfterOrAtExistingStart;\r\n    }\r\n\r\n    private canUpdateStart(updatedStart: number) {\r\n        let changed = this.start !== updatedStart;\r\n        let newStartBeforeOrAtExistingEnd = updatedStart <= this.endAdjusterService.adjustEndForView(this.config, this.end) - 1;\r\n        let newStartAfterOrAtMin = updatedStart >= 0;\r\n\r\n        return changed && (this.config.nullEnds || newStartBeforeOrAtExistingEnd) && newStartAfterOrAtMin;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { WeeklySlotComponent, WeeklySlotController } from './weekly-slot';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.weeklySlot', [])\r\n    .component(WeeklySlotComponent.$name, new WeeklySlotComponent())\r\n    .controller(WeeklySlotController.$name, WeeklySlotController)\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { DragService } from '../drag/DragService';\r\nimport { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { IWeeklySchedulerRange } from '../weekly-scheduler-range/IWeeklySchedulerRange';\r\nimport { WeeklySchedulerItem } from '../weekly-scheduler-item/WeeklySchedulerItem';\r\nimport { WeeklySchedulerRange } from '../weekly-scheduler-range/WeeklySchedulerRange';\r\nimport { WeeklySchedulerEvents } from '../weekly-scheduler-config/WeeklySchedulerEvents';\r\n\r\n/** @internal */\r\nexport class WeeklySlotController implements angular.IComponentController {\r\n  static $name = 'weeklySlotController';\r\n  static $controllerAs = 'weeklySlotCtrl';\r\n\r\n  static $inject = [\r\n    '$element',\r\n    '$rootScope',\r\n    '$scope',\r\n    'brWeeklySchedulerDragService'\r\n  ];\r\n\r\n  private config: IWeeklySchedulerConfig<any>;\r\n  private ngModelCtrl: angular.INgModelController;\r\n\r\n  private editSchedule: (options: { schedule: IWeeklySchedulerRange<any> }) => void;\r\n  private getDelta: (options: { pixel: number }) => number;\r\n\r\n  private item: WeeklySchedulerItem<any>;\r\n  private dragSchedule: WeeklySchedulerRange<any>;\r\n  private schedule: WeeklySchedulerRange<any>;\r\n\r\n  private valuesOnDragStart: WeeklySchedulerRange<any>;\r\n\r\n  constructor(\r\n    private $element: angular.IAugmentedJQuery,\r\n    private $rootScope: angular.IRootScopeService,\r\n    private $scope: angular.IScope,\r\n    private dragService: DragService,\r\n  ) {\r\n  }\r\n\r\n  get hasDragSchedule() {\r\n    return angular.isDefined(this.dragSchedule) && this.dragSchedule != null;\r\n  }\r\n\r\n  private getDragStartValues() {\r\n    return this.dragService.getDragRangeFromSchedule(this.config, this.schedule);\r\n  }\r\n\r\n  public editSelf() {\r\n    this.editSchedule({ schedule: this.schedule });\r\n  }\r\n\r\n  public drag(pixel: number) {\r\n    let ui = this.schedule;\r\n    let delta = this.getDelta({ pixel: pixel });\r\n\r\n    let newStart = Math.round(this.valuesOnDragStart.start + delta);\r\n    let newEnd = this.config.nullEnds ? null : Math.round(newStart + this.valuesOnDragStart.duration);\r\n\r\n    this.schedule.update({\r\n      day: ui.day,\r\n      start: newStart,\r\n      end: newEnd,\r\n      value: ui.value\r\n    });\r\n  }\r\n\r\n  public endDrag() {\r\n    // If the schedule was moved to another item, the $scope hierarchy will have been broken, so we need to broadcast this to the whole app\r\n    this.$rootScope.$broadcast(WeeklySchedulerEvents.DRAG_ENDED);\r\n    \r\n    // Was the schedule moved to another item??\r\n    if (!this.item.hasSchedule(this.schedule)) {\r\n      return;\r\n    }\r\n\r\n    // Did the user actually move or resize the slot??\r\n    var changed: boolean = !this.valuesOnDragStart.equals(this.getDragStartValues());\r\n\r\n    this.schedule.$isActive = false;\r\n\r\n    if (changed) {\r\n      this.ngModelCtrl.$setDirty();\r\n      this.item.mergeSchedule(this.schedule);\r\n    } else {\r\n      this.editSelf();\r\n    }\r\n  }\r\n\r\n  public endResize() {\r\n    // Did the user actually move or resize the slot??\r\n    var changed: boolean = !this.valuesOnDragStart.equals(this.getDragStartValues());\r\n\r\n    this.schedule.$isActive = false;\r\n\r\n    if (changed) {\r\n      this.ngModelCtrl.$setDirty();\r\n      this.item.mergeSchedule(this.schedule);\r\n    } else {\r\n      this.editSelf();\r\n    }\r\n  }\r\n\r\n  public resizeStart(pixel: number) {\r\n    let delta = this.getDelta({ pixel: pixel });\r\n    let newStart = Math.round(this.valuesOnDragStart.start + delta);\r\n\r\n    if (this.schedule.updateStart(newStart)) {\r\n      this.config.onChange();\r\n    }\r\n  }\r\n\r\n  public resizeEnd(pixel: number) {\r\n    let delta = this.getDelta({ pixel: pixel });\r\n    let newEnd = Math.round(this.valuesOnDragStart.end + delta);\r\n\r\n    if (this.schedule.updateEnd(newEnd)) {\r\n      this.config.onChange();\r\n    }\r\n  }\r\n\r\n  public startDrag() {\r\n    if (!this.item.canEditSchedule(this.schedule)){\r\n      return;\r\n    }\r\n\r\n    this.$scope.$emit(WeeklySchedulerEvents.SLOT_DRAGGED, this.schedule);\r\n    this.schedule.$isActive = true;\r\n    this.valuesOnDragStart = this.getDragStartValues();\r\n  }\r\n\r\n  public startResize() {\r\n    if (!this.item.canEditSchedule(this.schedule)) {\r\n      return;\r\n    }\r\n    \r\n    this.schedule.$isActive = true;\r\n    this.valuesOnDragStart = this.getDragStartValues();\r\n  }\r\n}\r\n\r\n/** @internal */\r\nexport class WeeklySlotComponent implements angular.IComponentOptions {\r\n  static $name = 'brWeeklySlot';\r\n  \r\n  bindings = {\r\n    config: '<',\r\n    dragSchedule: '<',\r\n    item: '<',\r\n    schedule: '=ngModel',\r\n    editSchedule: '&',\r\n    getDelta: '&'\r\n  };\r\n\r\n  controller = WeeklySlotController.$name;\r\n  controllerAs = WeeklySlotController.$controllerAs;\r\n\r\n  require = {\r\n    ngModelCtrl: 'ngModel'\r\n  };\r\n\r\n  template = require('./weekly-slot.html');\r\n}\r\n","module.exports = \"<div class=\\\"slotWrapper\\\" title=\\\"{{weeklySlotCtrl.schedule.start | brWeeklySchedulerTimeOfDay}} - {{weeklySlotCtrl.schedule.end | brWeeklySchedulerTimeOfDay}}\\\">\\r\\n  <div class=\\\"handle left\\\" ondrag=\\\"weeklySlotCtrl.resizeStart(delta)\\\" ondragstart=\\\"weeklySlotCtrl.startResize()\\\" ondragstop=\\\"weeklySlotCtrl.endResize()\\\" br-handle ng-if=\\\"!weeklySlotCtrl.config.nullEnds\\\"></div>\\r\\n  <div class=\\\"middle\\\" ondrag=\\\"weeklySlotCtrl.drag(delta)\\\" ondragstart=\\\"weeklySlotCtrl.startDrag()\\\" ondragstop=\\\"weeklySlotCtrl.endDrag()\\\" br-handle immediate=\\\"weeklySlotCtrl.hasDragSchedule\\\">\\r\\n    <br-time-range schedule=\\\"weeklySlotCtrl.schedule\\\"></br-time-range>\\r\\n  </div>\\r\\n  <div class=\\\"handle right\\\" ondrag=\\\"weeklySlotCtrl.resizeEnd(delta)\\\" ondragstart=\\\"weeklySlotCtrl.startResize()\\\" ondragstop=\\\"weeklySlotCtrl.endResize()\\\" br-handle ng-if=\\\"!weeklySlotCtrl.config.nullEnds\\\"></div>\\r\\n</div>\";","import * as angular from 'angular';\r\nimport { ValueNormalizationService } from './ValueNormalizationService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.valueNormalization', [])\r\n    .service(ValueNormalizationService.$name, ValueNormalizationService)\r\n    .name;\r\n","/** @internal */\r\nexport class ValueNormalizationService {\r\n    static $name = 'brWeeklySchedulerValueNormalizationService';\r\n\r\n    public normalizeValue(value: number, min: number, max: number) {\r\n        if (value < min) {\r\n            return min;\r\n        }\r\n\r\n        if (value > max) {\r\n            return max;\r\n        }\r\n\r\n        return value;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { ZoomService } from './ZoomService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.zoom', [])\r\n    .service(ZoomService.$name, ZoomService)\r\n    .name;\r\n","import { WeeklySchedulerEvents } from '../weekly-scheduler-config/WeeklySchedulerEvents';\r\n\r\n/** @internal */\r\nexport class ZoomService {\r\n    static $name = 'brWeeklySchedulerZoomService';\r\n\r\n    static $inject = ['$rootScope'];\r\n\r\n    private constructor(\r\n        private $rootScope: angular.IRootScopeService\r\n    ) {\r\n    }\r\n\r\n    private selector: string = '.schedule-area';\r\n\r\n    private broadcastZoomedInEvent() {\r\n        this.$rootScope.$broadcast(WeeklySchedulerEvents.ZOOMED_IN);\r\n    }\r\n\r\n    private broadcastZoomedOutEvent() {\r\n        this.$rootScope.$broadcast(WeeklySchedulerEvents.ZOOMED_OUT);\r\n    }\r\n\r\n    private getCurrentZoomWidth(element: any): number {\r\n        return parseInt(element.querySelector(this.selector).style.width, 10);\r\n    }\r\n\r\n    private getZoomElement(container: any) {\r\n        return container.querySelector(this.selector);\r\n    }\r\n\r\n    private setZoomWidth(element: any, width: string): void {\r\n       this.getZoomElement(element).style.width = width;\r\n    }\r\n\r\n    public resetZoom(element: any) {\r\n        this.setZoomWidth(element, '100%');\r\n        this.broadcastZoomedOutEvent();\r\n    }\r\n    \r\n    public zoomIn(element: any) {\r\n        // get current zoom level from zoomed element as a percentage\r\n        let zoom = this.getZoomElement(element).style.width;\r\n        \r\n        // parse to integer & double\r\n        let level = parseInt(zoom, 10) * 2;\r\n\r\n        // Convert back to percentage\r\n        this.setZoomWidth(element, level + '%');\r\n\r\n        this.broadcastZoomedInEvent();\r\n    }\r\n\r\n    public zoomInACell(element: any, event: angular.IAngularEvent, data: any) {\r\n        let elementCount = data.nbElements;\r\n        let i = data.idx;\r\n\r\n        let containerWidth = element.offsetWidth;\r\n\r\n        let boxesToDisplay = 5;\r\n        let boxWidth = containerWidth / boxesToDisplay;\r\n\r\n        let boxesToSkip = 2;\r\n        let gutterSize = boxWidth * boxesToSkip;\r\n\r\n        var scheduleAreaWidthPx = elementCount * boxWidth;\r\n        var scheduleAreaWidthPercent = (scheduleAreaWidthPx / containerWidth) * 100;\r\n\r\n        this.setZoomWidth(element, scheduleAreaWidthPercent + '%');\r\n\r\n        // All cells of a line have the same size\r\n        element.scrollLeft = i * boxWidth - gutterSize;\r\n\r\n        this.broadcastZoomedInEvent();\r\n    }\r\n\r\n    public zoomByScroll(element: any, event: WheelEvent, delta: number) {\r\n        let currentWidth = this.getCurrentZoomWidth(element);\r\n\r\n        if ((event.wheelDelta || event.detail) > 0) {\r\n            this.setZoomWidth(element, (currentWidth + 2 * delta) + '%');\r\n            this.broadcastZoomedInEvent();\r\n        } else {\r\n            let width = currentWidth - 2 * delta;\r\n            this.setZoomWidth(element, (width > 100 ? width : 100) + '%');\r\n            this.broadcastZoomedOutEvent();\r\n        }\r\n    }\r\n}\r\n","import { DemoAdapter } from './DemoAdapter';\r\nimport { Days } from '../weekly-scheduler-config/Days';\r\nimport { IWeeklySchedulerOptions } from '../weekly-scheduler-config/IWeeklySchedulerOptions';\r\nimport { DemoItem } from './DemoItem';\r\n\r\nexport class DemoController {\r\n    static $name = 'DemoController';\r\n\r\n    static $inject = ['$q', '$scope'];\r\n\r\n    constructor(\r\n        private $q: angular.IQService,\r\n        private $scope: any\r\n    ) {\r\n    }\r\n\r\n    $onInit() {\r\n        this.$scope.model = {\r\n            options: {\r\n                buttonClasses: ['wow!'],\r\n                createItem: (day, schedules) => {\r\n                    return new DemoItem(day, schedules);\r\n                },\r\n                defaultValue: false,\r\n                editSlot: function (schedule) {\r\n                    schedule.start += 60;\r\n                    schedule.value = true;\r\n                    return this.$q.when(schedule);\r\n                },\r\n                fillEmptyWithDefault: true,\r\n                interval: 60,\r\n                fillNullEnds: 1800,\r\n                maxTimeSlot: 7200,\r\n                minimumSeparation: 300,\r\n                onChange: (isValid) => {\r\n                    console.log('changed!');\r\n                },\r\n                restrictionExplanations: {\r\n                    maxTimeSlot: (value) => `Slots cannot be longer than ${value}!`\r\n                },\r\n                saveScheduler: () => {\r\n                    this.$scope.result = this.$scope.adapter.getSnapshot();\r\n\r\n                    return this.$q.when(true);\r\n                }\r\n            } as IWeeklySchedulerOptions<any>\r\n        };\r\n  \r\n        this.$scope.adapter = new DemoAdapter([\r\n            {\r\n              day: Days.Saturday,\r\n              start: 3600,\r\n              end: 7200,\r\n              value: true\r\n            }\r\n        ]);\r\n    }\r\n}\r\n","import { IWeeklySchedulerAdapter } from '../adapter/IWeeklySchedulerAdapter';\r\nimport { IWeeklySchedulerRange } from '../weekly-scheduler-range/IWeeklySchedulerRange';\r\nimport { DemoItem } from './DemoItem';\r\n\r\n\r\n  /** The data is already in an acceptable format for the demo so just pass it through */\r\n  /** @internal */\r\n  export class DemoAdapter implements IWeeklySchedulerAdapter<IWeeklySchedulerRange<boolean>, boolean> {\r\n    public items: DemoItem[] = [];\r\n\r\n    constructor(\r\n      public initialData: IWeeklySchedulerRange<boolean>[],\r\n    ) {\r\n    }\r\n\r\n    public getSnapshot() {\r\n      return Array.prototype.concat.apply([], this.items.map(item => {\r\n        return item.schedules.map(schedule => {\r\n          return {\r\n            day: schedule.day,\r\n            start: schedule.start,\r\n            end: schedule.end,\r\n            value: schedule.value\r\n          }\r\n        });\r\n      }));\r\n    }\r\n\r\n    public customModelToWeeklySchedulerRange(range) {\r\n      range.$class = 'test';\r\n\r\n      return range;\r\n    }\r\n  }","import { IWeeklySchedulerItem } from '../weekly-scheduler-item/IWeeklySchedulerItem';\r\nimport { Days } from '../weekly-scheduler-config/Days';\r\nimport { IWeeklySchedulerRange } from '../weekly-scheduler-range/IWeeklySchedulerRange';\r\n\r\n/** @internal */\r\nexport class DemoItem implements IWeeklySchedulerItem<boolean> {\r\n  constructor(\r\n    public day: Days,\r\n    public schedules: IWeeklySchedulerRange<boolean>[]\r\n  ) {\r\n  }\r\n\r\n  get editable() {\r\n    return true;\r\n  }\r\n}\r\n"],"sourceRoot":""}