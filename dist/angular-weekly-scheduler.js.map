{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/ng-weekly-scheduler.less","webpack:///./src/demo-app.ts","webpack:///./src/ng-weekly-scheduler.less?f909","webpack:///./src/ng-weekly-scheduler/adapter/AdapterService.ts","webpack:///./src/ng-weekly-scheduler/adapter/module.ts","webpack:///./src/ng-weekly-scheduler/app/module.ts","webpack:///./src/ng-weekly-scheduler/configuration/ConfigurationService.ts","webpack:///./src/ng-weekly-scheduler/configuration/module.ts","webpack:///./src/ng-weekly-scheduler/conflicting-options/ConflictingOptionsService.ts","webpack:///./src/ng-weekly-scheduler/conflicting-options/module.ts","webpack:///./src/ng-weekly-scheduler/demo/DemoAdapter.ts","webpack:///./src/ng-weekly-scheduler/demo/DemoItem.ts","webpack:///./src/ng-weekly-scheduler/drag/DragService.ts","webpack:///./src/ng-weekly-scheduler/drag/module.ts","webpack:///./src/ng-weekly-scheduler/element-offset/ElementOffsetService.ts","webpack:///./src/ng-weekly-scheduler/element-offset/module.ts","webpack:///./src/ng-weekly-scheduler/end-adjuster/EndAdjusterService.ts","webpack:///./src/ng-weekly-scheduler/end-adjuster/module.ts","webpack:///./src/ng-weekly-scheduler/fill-empty-with-default/FillEmptyWithDefaultService.ts","webpack:///./src/ng-weekly-scheduler/fill-empty-with-default/module.ts","webpack:///./src/ng-weekly-scheduler/full-calendar/FullCalendarDirective.ts","webpack:///./src/ng-weekly-scheduler/full-calendar/module.ts","webpack:///./src/ng-weekly-scheduler/ghost-slot/ghost-slot.ts","webpack:///./src/ng-weekly-scheduler/ghost-slot/module.ts","webpack:///./src/ng-weekly-scheduler/group-by/GroupService.ts","webpack:///./src/ng-weekly-scheduler/group-by/module.ts","webpack:///./src/ng-weekly-scheduler/handle/HandleDirective.ts","webpack:///./src/ng-weekly-scheduler/handle/module.ts","webpack:///./src/ng-weekly-scheduler/hourly-grid/HourlyGridDirective.ts","webpack:///./src/ng-weekly-scheduler/hourly-grid/module.ts","webpack:///./src/ng-weekly-scheduler/last-ghost-day/LastGhostDayService.ts","webpack:///./src/ng-weekly-scheduler/last-ghost-day/module.ts","webpack:///./src/ng-weekly-scheduler/max-time-slot/MaxTimeSlotDirective.ts","webpack:///./src/ng-weekly-scheduler/max-time-slot/module.ts","webpack:///./src/ng-weekly-scheduler/minimum-separation/MinimumSeparationDirective.ts","webpack:///./src/ng-weekly-scheduler/minimum-separation/module.ts","webpack:///./src/ng-weekly-scheduler/missing-days/MissingDaysService.ts","webpack:///./src/ng-weekly-scheduler/missing-days/module.ts","webpack:///./src/ng-weekly-scheduler/mono-schedule/MonoScheduleDirective.ts","webpack:///./src/ng-weekly-scheduler/mono-schedule/module.ts","webpack:///./src/ng-weekly-scheduler/mouse-tracker/MouseTrackerService.ts","webpack:///./src/ng-weekly-scheduler/mouse-tracker/module.ts","webpack:///./src/ng-weekly-scheduler/multislider/module.ts","webpack:///./src/ng-weekly-scheduler/multislider/multislider.html","webpack:///./src/ng-weekly-scheduler/multislider/multislider.ts","webpack:///./src/ng-weekly-scheduler/null-end/NullEndDirective.ts","webpack:///./src/ng-weekly-scheduler/null-end/module.ts","webpack:///./src/ng-weekly-scheduler/overlap/OverlapDirective.ts","webpack:///./src/ng-weekly-scheduler/overlap/OverlapService.ts","webpack:///./src/ng-weekly-scheduler/overlap/module.ts","webpack:///./src/ng-weekly-scheduler/purge-default/PurgeDefaultService.ts","webpack:///./src/ng-weekly-scheduler/purge-default/module.ts","webpack:///./src/ng-weekly-scheduler/resize/ResizeService.ts","webpack:///./src/ng-weekly-scheduler/resize/module.ts","webpack:///./src/ng-weekly-scheduler/restriction-explanations/RestrictionExplanationsComponent.ts","webpack:///./src/ng-weekly-scheduler/restriction-explanations/module.ts","webpack:///./src/ng-weekly-scheduler/revalidate/RevalidateDirective.ts","webpack:///./src/ng-weekly-scheduler/revalidate/module.ts","webpack:///./src/ng-weekly-scheduler/schedule-area-container/module.ts","webpack:///./src/ng-weekly-scheduler/schedule-area-container/schedule-area-container.ts","webpack:///./src/ng-weekly-scheduler/schedule-count/ScheduleCountDirective.ts","webpack:///./src/ng-weekly-scheduler/schedule-count/module.ts","webpack:///./src/ng-weekly-scheduler/schedule-validator/FullCalendarValidatorService.ts","webpack:///./src/ng-weekly-scheduler/schedule-validator/MaxTimeSlotValidatorService.ts","webpack:///./src/ng-weekly-scheduler/schedule-validator/MinimumSeparationValidatorService.ts","webpack:///./src/ng-weekly-scheduler/schedule-validator/MonoScheduleValidatorService.ts","webpack:///./src/ng-weekly-scheduler/schedule-validator/NullEndValidatorService.ts","webpack:///./src/ng-weekly-scheduler/schedule-validator/OverlapValidatorService.ts","webpack:///./src/ng-weekly-scheduler/schedule-validator/ScheduleCountValidatorService.ts","webpack:///./src/ng-weekly-scheduler/schedule-validator/module.ts","webpack:///./src/ng-weekly-scheduler/scroll/ScrollService.ts","webpack:///./src/ng-weekly-scheduler/scroll/module.ts","webpack:///./src/ng-weekly-scheduler/time-range/TimeRangeComponent.ts","webpack:///./src/ng-weekly-scheduler/time-range/module.ts","webpack:///./src/ng-weekly-scheduler/time/SecondsAsTextFilter.ts","webpack:///./src/ng-weekly-scheduler/time/TimeConstantsService.ts","webpack:///./src/ng-weekly-scheduler/time/TimeOfDayFilter.ts","webpack:///./src/ng-weekly-scheduler/time/module.ts","webpack:///./src/ng-weekly-scheduler/touch/TouchService.ts","webpack:///./src/ng-weekly-scheduler/touch/module.ts","webpack:///./src/ng-weekly-scheduler/value-normalization/ValueNormalizationService.ts","webpack:///./src/ng-weekly-scheduler/value-normalization/module.ts","webpack:///./src/ng-weekly-scheduler/weekly-scheduler-config/DayMap.ts","webpack:///./src/ng-weekly-scheduler/weekly-scheduler-config/NullEndWidth.ts","webpack:///./src/ng-weekly-scheduler/weekly-scheduler-config/module.ts","webpack:///./src/ng-weekly-scheduler/weekly-scheduler-item/WeeklySchedulerItem.ts","webpack:///./src/ng-weekly-scheduler/weekly-scheduler-item/WeeklySchedulerItemFactory.ts","webpack:///./src/ng-weekly-scheduler/weekly-scheduler-item/module.ts","webpack:///./src/ng-weekly-scheduler/weekly-scheduler-range/WeeklySchedulerRange.ts","webpack:///./src/ng-weekly-scheduler/weekly-scheduler-range/WeeklySchedulerRangeFactory.ts","webpack:///./src/ng-weekly-scheduler/weekly-scheduler-range/module.ts","webpack:///./src/ng-weekly-scheduler/weekly-scheduler/module.ts","webpack:///./src/ng-weekly-scheduler/weekly-scheduler/weekly-scheduler.html","webpack:///./src/ng-weekly-scheduler/weekly-scheduler/weekly-scheduler.ts","webpack:///./src/ng-weekly-scheduler/weekly-slot/module.ts","webpack:///./src/ng-weekly-scheduler/weekly-slot/weekly-slot.html","webpack:///./src/ng-weekly-scheduler/weekly-slot/weekly-slot.ts","webpack:///./src/ng-weekly-scheduler/zoom/ZoomService.ts","webpack:///./src/ng-weekly-scheduler/zoom/module.ts","webpack:///external \"angular\""],"names":[],"mappings":"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","file":"angular-weekly-scheduler.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"angular-weekly-scheduler\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"./src/demo-app.ts\",\"vendor\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","exports = module.exports = require(\"../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"br-weekly-scheduler {\\n  background: #fff;\\n  border-left: 1px solid #ddd;\\n  border-right: 1px solid #ddd;\\n  border-top: 1px solid #ddd;\\n  color: #1c1c1c;\\n  display: block;\\n  margin-bottom: 10px;\\n  /* The dark class will be applied by a client on the outside of this component */\\n}\\nbr-weekly-scheduler br-multi-slider .slot.active {\\n  box-shadow: 0px 0px 2px 2px #1c1c1c;\\n}\\nbr-weekly-scheduler br-multi-slider .slot.nullEnd {\\n  background: linear-gradient(to right, currentColor, rgba(255, 255, 255, 0.5));\\n}\\nbr-weekly-scheduler br-multi-slider .slot span {\\n  color: #fff;\\n  display: block;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\nbr-weekly-scheduler .labels {\\n  border-right: 1px solid #ddd;\\n}\\nbr-weekly-scheduler .striped > div:nth-child(even) {\\n  background-color: #f6f6f6;\\n}\\nbr-weekly-scheduler .srow {\\n  border-bottom: 1px solid #ddd;\\n}\\nbr-weekly-scheduler .timestamps div {\\n  border-width: 2px;\\n}\\nbr-weekly-scheduler .timestamps div:hover {\\n  background-color: #f6f6f6;\\n}\\nbr-weekly-scheduler .buttons div {\\n  display: inline-block;\\n}\\n.dark br-weekly-scheduler {\\n  background: #1c1c1c;\\n  border-left: 1px solid #777;\\n  border-right: 1px solid #777;\\n  border-top: 1px solid #777;\\n  color: #fff;\\n}\\n.dark br-weekly-scheduler br-multi-slider .slot.active {\\n  box-shadow: 0px 0px 2px 2px #fff;\\n}\\n.dark br-weekly-scheduler br-multi-slider .slot.nullEnd {\\n  background: linear-gradient(to right, currentColor, rgba(28, 28, 28, 0.5));\\n}\\n.dark br-weekly-scheduler br-multi-slider .slot span {\\n  color: #fff;\\n  display: block;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n.dark br-weekly-scheduler .labels {\\n  border-right: 1px solid #777;\\n}\\n.dark br-weekly-scheduler .striped > div:nth-child(even) {\\n  background-color: #333;\\n}\\n.dark br-weekly-scheduler .srow {\\n  border-bottom: 1px solid #777;\\n}\\n.dark br-weekly-scheduler .timestamps div {\\n  border-width: 2px;\\n}\\n.dark br-weekly-scheduler .timestamps div:hover {\\n  background-color: #333;\\n}\\nbr-weekly-scheduler .fullWidth {\\n  width: 100%;\\n}\\nbr-weekly-scheduler .labels {\\n  display: block;\\n  float: left;\\n  text-align: center;\\n}\\nbr-weekly-scheduler .labels .dummy {\\n  height: 15px;\\n}\\nbr-weekly-scheduler .labels .srow {\\n  padding: 0 5px;\\n}\\nbr-weekly-scheduler br-schedule-area-container {\\n  display: block;\\n  overflow-x: auto;\\n  /** Practical effect of \\\"start zoomed if the screen is below this width\\\" */\\n}\\nbr-weekly-scheduler br-schedule-area-container .schedule-area {\\n  min-width: 600px;\\n}\\nbr-weekly-scheduler .srow {\\n  position: relative;\\n  height: 28px;\\n  line-height: 28px;\\n}\\nbr-weekly-scheduler .srow.buttons {\\n  height: auto;\\n}\\nbr-weekly-scheduler .srow.explanations {\\n  padding-left: 5px;\\n}\\nbr-weekly-scheduler .srow.explanations.violation {\\n  color: red;\\n}\\nbr-weekly-scheduler .calendar {\\n  display: table;\\n  table-layout: fixed;\\n  position: relative;\\n  width: 100%;\\n}\\nbr-weekly-scheduler .timestamps {\\n  display: table;\\n  font-size: 0.6em;\\n  font-weight: bold;\\n  line-height: 15px;\\n  height: 15px;\\n  table-layout: fixed;\\n  text-transform: uppercase;\\n  width: 100%;\\n}\\nbr-weekly-scheduler .timestamps div {\\n  overflow: hidden;\\n  padding-left: 2px;\\n  text-overflow: clip;\\n}\\nbr-weekly-scheduler .timestamps div:hover {\\n  cursor: pointer;\\n}\\nbr-hourly-grid {\\n  display: table-row;\\n}\\nbr-hourly-grid div {\\n  box-sizing: border-box;\\n  display: table-cell;\\n  height: 100%;\\n}\\nbr-hourly-grid .interval {\\n  display: block;\\n  float: left;\\n}\\nbr-multi-slider {\\n  cursor: crosshair;\\n  height: 100%;\\n  top: 0;\\n  position: absolute;\\n  width: 100%;\\n}\\nbr-multi-slider .ghost-wrapper {\\n  width: 100%;\\n  height: 100%;\\n}\\nbr-multi-slider .slot {\\n  font-family: monospace;\\n  font-size: x-small;\\n  position: absolute;\\n  top: 5px;\\n  bottom: 5px;\\n  border-radius: 3px;\\n  text-align: center;\\n  white-space: nowrap;\\n  line-height: 18px;\\n}\\nbr-multi-slider .slot.nullEnd {\\n  text-align: left;\\n}\\nbr-multi-slider .slot .slotWrapper {\\n  display: flex;\\n  height: 100%;\\n}\\nbr-multi-slider .slot .slotWrapper .middle {\\n  cursor: all-scroll;\\n  display: inline-block;\\n  overflow: hidden;\\n  padding: 0 4px;\\n}\\nbr-multi-slider br-ghost-slot {\\n  background: #5ab56a;\\n  color: #5ab56a;\\n  opacity: 0.6;\\n  cursor: pointer;\\n  user-select: none;\\n}\\nbr-multi-slider br-ghost-slot span {\\n  color: #fff;\\n}\\nbr-multi-slider br-time-range {\\n  display: block;\\n  width: 100%;\\n}\\nbr-multi-slider br-weekly-slot {\\n  /**\\n     * We want to set the COLOR on any item we want to have a custom background color for.\\n     * This is because the gradient backgrounds for allowNulls rely on currentColor.\\n     * The text color within is set using a more specific selector\\n     */\\n  background: #2e81e1;\\n  color: #2e81e1;\\n  user-select: none;\\n}\\nbr-multi-slider br-weekly-slot.disable {\\n  cursor: not-allowed;\\n  color: #666;\\n  background: #c0c0c0;\\n}\\nbr-multi-slider br-weekly-slot.pending {\\n  background-color: #c81919;\\n}\\nbr-multi-slider br-weekly-slot .handle {\\n  display: inline-block;\\n  flex-grow: 1;\\n}\\nbr-multi-slider br-weekly-slot .handle.left,\\nbr-multi-slider br-weekly-slot .handle.right {\\n  cursor: e-resize;\\n  min-width: 4px;\\n  height: 100%;\\n}\\nbr-multi-slider br-weekly-slot.disable .handle {\\n  cursor: not-allowed;\\n}\\nbr-multi-slider br-weekly-slot .handle.left:hover,\\nbr-multi-slider br-weekly-slot .handle.right:hover {\\n  background-color: #000;\\n  opacity: 0.3;\\n}\\nbr-multi-slider br-weekly-slot .handle.left {\\n  float: left;\\n}\\nbr-multi-slider br-weekly-slot .handle.right {\\n  float: right;\\n}\\nbr-multi-slider br-weekly-slot.active {\\n  font-weight: bolder;\\n  z-index: 10;\\n}\\n\", \"\"]);\n","import * as angular from 'angular'\r\nimport { Days } from './ng-weekly-scheduler/weekly-scheduler-config/Days';\r\nimport { IWeeklySchedulerOptions } from './ng-weekly-scheduler/weekly-scheduler-config/IWeeklySchedulerOptions';\r\nimport AppModule from './ng-weekly-scheduler/app/module';\r\nimport { DemoItem } from './ng-weekly-scheduler/demo/DemoItem';\r\nimport { DemoAdapter } from './ng-weekly-scheduler/demo/DemoAdapter';\r\n\r\nfunction application() {\r\n  angular.module('demoApp', [AppModule])\r\n    .controller('DemoController', ['$q', '$scope', '$timeout', '$log',\r\n      function ($q: angular.IQService, $scope, $timeout, $log) {\r\n\r\n        $scope.model = {\r\n          options: {\r\n            buttonClasses: ['wow!'],\r\n            createItem: (day, schedules) => {\r\n              return new DemoItem(day, schedules);\r\n            },\r\n            defaultValue: false,\r\n            editSlot: function (schedule) {\r\n              schedule.start += 60;\r\n              schedule.value = true;\r\n              return $q.when(schedule);\r\n            },\r\n            fillEmptyWithDefault: true,\r\n            interval: 60,\r\n            fillNullEnds: 1800,\r\n            maxTimeSlot: 7200,\r\n            minimumSeparation: 300,\r\n            onChange: (isValid) => {\r\n              console.log(\"changed!\");\r\n            },\r\n            restrictionExplanations: {\r\n              maxTimeSlot: (value) => `Slots cannot be longer than ${value}!`\r\n            },\r\n            saveScheduler: () => {\r\n              $scope.result = $scope.adapter.getSnapshot();\r\n\r\n              return $q.when(true);\r\n            }\r\n          } as IWeeklySchedulerOptions<any>\r\n        }\r\n\r\n        $scope.adapter = new DemoAdapter([\r\n          {\r\n            day: Days.Saturday,\r\n            start: 3600,\r\n            end: 7200,\r\n            value: true\r\n          }\r\n        ]);\r\n      }]);\r\n\r\n      angular.element(document).ready(() => {\r\n        angular.bootstrap(document, ['demoApp']);\r\n      });\r\n}\r\n\r\napplication();\r\n","\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js!../node_modules/less-loader/dist/cjs.js!./ng-weekly-scheduler.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/dist/cjs.js!../node_modules/less-loader/dist/cjs.js!./ng-weekly-scheduler.less\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/dist/cjs.js!../node_modules/less-loader/dist/cjs.js!./ng-weekly-scheduler.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import { GroupService } from '../group-by/GroupService';\r\nimport { IWeeklySchedulerAdapter } from '../adapter/IWeeklySchedulerAdapter';\r\nimport { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { WeeklySchedulerItemFactory } from '../weekly-scheduler-item/WeeklySchedulerItemFactory';\r\n\r\n/** @internal */\r\nexport class AdapterService {\r\n    static $name = 'brWeeklySchedulerAdapterService';\r\n\r\n    static $inject = [\r\n        'brWeeklySchedulerGroupService',\r\n        'brWeeklySchedulerItemFactory'\r\n    ];\r\n\r\n    private constructor(\r\n        private groupService: GroupService,\r\n        private itemFactory: WeeklySchedulerItemFactory\r\n    ) {\r\n    }\r\n\r\n    getItemsFromAdapter(config: IWeeklySchedulerConfig<any>, adapter: IWeeklySchedulerAdapter<any, any>) {\r\n        let result = [];\r\n\r\n        if (adapter) {\r\n          let schedules = adapter.initialData.map(data => adapter.customModelToWeeklySchedulerRange(data));\r\n          let groupedSchedules = this.groupService.groupSchedules(schedules);\r\n    \r\n          for (let key in groupedSchedules) {\r\n            let item = this.itemFactory.createItem(config, parseInt(key, 10), groupedSchedules[key]);\r\n    \r\n            result.push(item);\r\n          }\r\n        }\r\n    \r\n        return result;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { AdapterService } from './AdapterService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.adapter', [])\r\n    .service(AdapterService.$name, AdapterService)\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport '../../ng-weekly-scheduler.less';\r\n\r\nimport AdapterModule from '../adapter/module';\r\nimport ConfigurationModule from '../configuration/module';\r\nimport ConflictingOptionsModule from '../conflicting-options/module';\r\nimport DragModule from '../drag/module';\r\nimport ElementOffsetModule from '../element-offset/module';\r\nimport EndAdjusterModule from '../end-adjuster/module';\r\nimport FillEmptyWithDefaultModule from '../fill-empty-with-default/module';\r\nimport FullCalendarModule from '../full-calendar/module';\r\nimport GhostSlotModule from '../ghost-slot/module';\r\nimport GroupByModule from '../group-by/module';\r\nimport HandleModule from '../handle/module';\r\nimport HourlyGridModule from '../hourly-grid/module';\r\nimport LastGhostDayModule from '../last-ghost-day/module';\r\nimport MaxTimeSlotModule from '../max-time-slot/module';\r\nimport MinimumSeparationModule from '../minimum-separation/module';\r\nimport MissingDaysModule from '../missing-days/module';\r\nimport MonoScheduleModule from '../mono-schedule/module';\r\nimport MouseTrackerModule from '../mouse-tracker/module';\r\nimport MultiSliderModule from '../multislider/module';\r\nimport NullEndModule from '../null-end/module';\r\nimport OverlapModule from '../overlap/module';\r\nimport PurgeDefaultModule from '../purge-default/module';\r\nimport ResizeModule from '../resize/module';\r\nimport RestrictionExplanationsModule from '../restriction-explanations/module';\r\nimport RevalidateModule from '../revalidate/module';\r\nimport ScheduleAreaContainerModule from '../schedule-area-container/module';\r\nimport ScheduleCountModule from '../schedule-count/module';\r\nimport ScheduleValidationModule from '../schedule-validator/module';\r\nimport ScrollModule from '../scroll/module';\r\nimport TimeModule from '../time/module';\r\nimport TimeRangeModule from '../time-range/module';\r\nimport TouchModule from '../touch/module';\r\nimport WeeklySchedulerConfigModule from '../weekly-scheduler-config/module';\r\nimport WeeklySchedulerModule from '../weekly-scheduler/module';\r\nimport WeeklySchedulerItemModule from '../weekly-scheduler-item/module';\r\nimport WeeklySchedulerRangeModule from '../weekly-scheduler-range/module';\r\nimport WeeklySlotModule from '../weekly-slot/module';\r\nimport ValueNormalizationModule from '../value-normalization/module';\r\nimport ZoomModule from '../zoom/module';\r\n\r\n// import { IWeeklySchedulerAdapter as WeeklySchedulerAdapter } from '../adapter/IWeeklySchedulerAdapter';\r\n// import { IWeeklySchedulerOptions as WeeklySchedulerOptions } from '../weekly-scheduler-config/IWeeklySchedulerOptions';\r\n\r\n// export namespace weeklyScheduler {\r\n//     export type IWeeklySchedulerAdapter<TCustom, TValue> = WeeklySchedulerAdapter<TCustom, TValue>;\r\n//     export type IWeeklySchedulerOptions<T> = WeeklySchedulerOptions<T>;\r\n// }\r\n\r\nexport default angular.module('br.weeklyScheduler', [\r\n    AdapterModule,\r\n    ConfigurationModule,\r\n    ConflictingOptionsModule,\r\n    DragModule,\r\n    ElementOffsetModule,\r\n    EndAdjusterModule,\r\n    FillEmptyWithDefaultModule,\r\n    FullCalendarModule,\r\n    GroupByModule,\r\n    GhostSlotModule,\r\n    HandleModule,\r\n    HourlyGridModule,\r\n    LastGhostDayModule,\r\n    MaxTimeSlotModule,\r\n    MinimumSeparationModule,\r\n    MonoScheduleModule,\r\n    MouseTrackerModule,\r\n    MissingDaysModule,\r\n    MultiSliderModule,\r\n    NullEndModule,\r\n    OverlapModule,\r\n    PurgeDefaultModule,\r\n    ResizeModule,\r\n    RestrictionExplanationsModule,\r\n    RevalidateModule,\r\n    ScheduleAreaContainerModule,\r\n    ScheduleCountModule,\r\n    ScheduleValidationModule,\r\n    ScrollModule,\r\n    TimeModule,\r\n    TimeRangeModule,\r\n    TouchModule,\r\n    WeeklySchedulerConfigModule,\r\n    WeeklySchedulerModule,\r\n    WeeklySchedulerItemModule,\r\n    WeeklySchedulerRangeModule,\r\n    WeeklySlotModule,\r\n    ValueNormalizationModule,\r\n    ZoomModule\r\n])\r\n.name;\r\n","import * as angular from 'angular';\r\nimport { IWeeklySchedulerOptions } from '../weekly-scheduler-config/IWeeklySchedulerOptions';\r\nimport { TimeConstantsService } from '../time/TimeConstantsService';\r\n\r\n/** @internal */\r\nexport class ConfigurationService {\r\n    static $name = 'brWeeklySchedulerConfigurationService';\r\n\r\n    static $inject = [\r\n        'brWeeklySchedulerTimeConstantsService'\r\n    ];\r\n\r\n    private constructor(\r\n        private timeConstants: TimeConstantsService\r\n    ) {\r\n    }\r\n\r\n    public getConfiguration(options: IWeeklySchedulerOptions<any>) {\r\n        var interval = options.interval || 900; // seconds\r\n        var intervalCount = this.timeConstants.SECONDS_IN_DAY / interval;\r\n\r\n        const defaultOptions = this.getDefaultOptions();\r\n\r\n        var userOptions = angular.merge(defaultOptions, options);\r\n\r\n        var result = angular.extend(userOptions, {\r\n            interval: interval,\r\n            maxValue: this.timeConstants.SECONDS_IN_DAY,\r\n            hourCount: this.timeConstants.HOURS_IN_DAY,\r\n            intervalCount: intervalCount,\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    private getDefaultOptions(): IWeeklySchedulerOptions<any> {\r\n        return {\r\n            createItem: (day, schedules) => { return { day: day, schedules: schedules } },\r\n            monoSchedule: false,\r\n            onChange: () => angular.noop(),\r\n            onRemove: () => angular.noop(),\r\n            restrictionExplanations: {\r\n                maxTimeSlot: (value) => `Max time slot length: ${value}`,\r\n                minimumSeparation: (value) => `Slots must be at least ${value} apart!`,\r\n                fullCalendar: 'For this calendar, every day must be completely full of schedules.',\r\n                monoSchedule: 'This calendar may only have one time slot per day',\r\n                nullEnds: 'Items in this calendar do not have end times. Scheduled events begin at the start time and end when they are finished.',\r\n                scheduleCount: (options) => {\r\n                    let pluralizedSlot = 'slot' + (options.count === 1 ? '' : 's');\r\n\r\n                    if (options.exact) {\r\n                        return `This calendar must have exactly ${options.count} ${pluralizedSlot} per day`;\r\n                    } else {\r\n                        return `This calendar may only have a maximum of ${options.count} ${pluralizedSlot} per day`;\r\n                    }\r\n                }\r\n            },\r\n            scheduleCountOptions: {\r\n                count: null,\r\n                exact: false\r\n            }\r\n        };\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { ConfigurationService } from './ConfigurationService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.configuration', [])\r\n    .service(ConfigurationService.$name, ConfigurationService)\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { IWeeklySchedulerOptions } from '../weekly-scheduler-config/IWeeklySchedulerOptions';\r\n\r\n/** @internal */\r\nexport class ConflictingOptionsService {\r\n    static $name = 'brWeeklySchedulerConflictingOptionsService';\r\n\r\n    public getConflictingOptions(options: IWeeklySchedulerOptions<any>) {\r\n        if (options.nullEnds && options.scheduleCountOptions && options.scheduleCountOptions.count > 1) {\r\n            return `A nullEnds calendar has a maximum scheduleCount of 1`;\r\n        }\r\n\r\n        if (options.fullCalendar && options.fillEmptyWithDefault) {\r\n            return `Options 'fullCalendar' & 'fillEmptyWithDefault' are mutually exclusive.`;\r\n        }\r\n\r\n        if (options.fillEmptyWithDefault && !angular.isDefined(options.defaultValue)) {\r\n            return `If using option 'fillEmptyWithDefault', you must also provide 'defaultValue.'`;\r\n        }\r\n\r\n        return '';\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { ConflictingOptionsService } from './ConflictingOptionsService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.conflictingOptions', [])\r\n    .service(ConflictingOptionsService.$name, ConflictingOptionsService)\r\n    .name;\r\n","import { IWeeklySchedulerAdapter } from '../adapter/IWeeklySchedulerAdapter';\r\nimport { IWeeklySchedulerRange } from '../weekly-scheduler-range/IWeeklySchedulerRange';\r\nimport { DemoItem } from './DemoItem';\r\n\r\n\r\n  /** The data is already in an acceptable format for the demo so just pass it through */\r\n  /** @internal */\r\n  export class DemoAdapter implements IWeeklySchedulerAdapter<IWeeklySchedulerRange<boolean>, boolean> {\r\n    public items: DemoItem[] = [];\r\n\r\n    constructor(\r\n      public initialData: IWeeklySchedulerRange<boolean>[],\r\n    ) {\r\n    }\r\n\r\n    public getSnapshot() {\r\n      return Array.prototype.concat.apply([], this.items.map(item => {\r\n        return item.schedules.map(schedule => {\r\n          return {\r\n            day: schedule.day,\r\n            start: schedule.start,\r\n            end: schedule.end,\r\n            value: schedule.value\r\n          }\r\n        });\r\n      }));\r\n    }\r\n\r\n    public customModelToWeeklySchedulerRange(range) {\r\n      range.$class = 'test';\r\n\r\n      return range;\r\n    }\r\n  }","import { IWeeklySchedulerItem } from '../weekly-scheduler-item/IWeeklySchedulerItem';\r\nimport { Days } from '../weekly-scheduler-config/Days';\r\nimport { IWeeklySchedulerRange } from '../weekly-scheduler-range/IWeeklySchedulerRange';\r\n\r\n/** @internal */\r\nexport class DemoItem implements IWeeklySchedulerItem<boolean> {\r\n  constructor(\r\n    public day: Days,\r\n    public schedules: IWeeklySchedulerRange<boolean>[]\r\n  ) {\r\n  }\r\n\r\n  get editable() {\r\n    return true;\r\n  }\r\n}\r\n","import { EndAdjusterService } from '../end-adjuster/EndAdjusterService';\r\nimport { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { WeeklySchedulerRange } from '../weekly-scheduler-range/WeeklySchedulerRange';\r\nimport { WeeklySchedulerRangeFactory } from '../weekly-scheduler-range/WeeklySchedulerRangeFactory';\r\n\r\n/** @internal */\r\nexport class DragService {\r\n    static $name = 'brWeeklySchedulerDragService';\r\n\r\n    static $inject = [\r\n        'brWeeklySchedulerEndAdjusterService',\r\n        'brWeeklySchedulerNullEndWidth',\r\n        'brWeeklySchedulerRangeFactory'\r\n    ];\r\n\r\n    private constructor(\r\n        private endAdjusterService: EndAdjusterService,\r\n        private nullEndWidth: number,\r\n        private rangeFactory: WeeklySchedulerRangeFactory\r\n    ) {\r\n    }\r\n\r\n    public getDragRangeFromSchedule(config: IWeeklySchedulerConfig<any>, schedule: WeeklySchedulerRange<any>) {\r\n        return this.rangeFactory.createRange(config, {\r\n            day: schedule.day,\r\n            start: schedule.start,\r\n            end: config.nullEnds ?\r\n                this.endAdjusterService.adjustEndForView(config, schedule.start + this.nullEndWidth) :\r\n                this.endAdjusterService.adjustEndForView(config, schedule.end),\r\n            value: schedule.value\r\n        });\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { DragService } from './DragService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.drag', [])\r\n    .service(DragService.$name, DragService)\r\n    .name;\r\n","/**\r\n * This helps reduce code duplication\r\n * This is used as a substitute for jQuery to keep dependencies minimal\r\n */\r\n\r\n/** @internal */\r\nexport class ElementOffsetService {\r\n    static $name = 'brWeeklySchedulerElementOffsetService';\r\n\r\n    public left($element: angular.IAugmentedJQuery) {\r\n        return $element[0].getBoundingClientRect().left;\r\n    }\r\n\r\n    public right($element: angular.IAugmentedJQuery) {\r\n        return $element[0].getBoundingClientRect().right;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { ElementOffsetService } from './ElementOffsetService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.elementOffset', [])\r\n    .service(ElementOffsetService.$name, ElementOffsetService)\r\n    .name;\r\n","import { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\n\r\n/** @internal */\r\nexport class EndAdjusterService {\r\n    static $name = 'brWeeklySchedulerEndAdjusterService';\r\n\r\n    public adjustEndForModel(config: IWeeklySchedulerConfig<any>, end: number) {\r\n        if (end === config.maxValue) {\r\n            return 0;\r\n        }\r\n\r\n        return end;\r\n    }\r\n\r\n    public adjustEndForView(config: IWeeklySchedulerConfig<any>, end: number) {\r\n        if (end === 0) {\r\n            return config.maxValue;\r\n        }\r\n\r\n        return end;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { EndAdjusterService } from './EndAdjusterService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.endAdjuster', [])\r\n    .service(EndAdjusterService.$name, EndAdjusterService)\r\n    .name;\r\n","import { EndAdjusterService } from '../end-adjuster/EndAdjusterService';\r\nimport { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { WeeklySchedulerItem } from '../weekly-scheduler-item/WeeklySchedulerItem';\r\nimport { WeeklySchedulerRange } from '../weekly-scheduler-range/WeeklySchedulerRange';\r\nimport { WeeklySchedulerRangeFactory } from '../weekly-scheduler-range/WeeklySchedulerRangeFactory';\r\n\r\n/** When using the 'fillEmptyWithDefault' option, this service will be used to construct the correct calendar for server submission */\r\n/** @internal */\r\nexport class FillEmptyWithDefaultService {\r\n    static $name = 'brWeeklySchedulerFillEmptyWithDefaultService';\r\n\r\n    static $inject = [\r\n        'brWeeklySchedulerEndAdjusterService',\r\n        'brWeeklySchedulerRangeFactory'\r\n    ];\r\n\r\n    private constructor(\r\n        private endAdjusterService: EndAdjusterService,\r\n        private rangeFactory: WeeklySchedulerRangeFactory\r\n    ) {\r\n    }\r\n\r\n    fill(item: WeeklySchedulerItem<any>, config: IWeeklySchedulerConfig<any>): WeeklySchedulerRange<any>[] {\r\n        let schedules = item.schedules;\r\n\r\n        if (!schedules.length) {\r\n            return [this.getEmptySchedule(item, config)];\r\n        }\r\n\r\n        return this.getFilledSchedules(schedules, config);\r\n    }\r\n\r\n    private getEmptySchedule(item: WeeklySchedulerItem<any>, config: IWeeklySchedulerConfig<any>) {\r\n        return this.rangeFactory.createRange(config, {\r\n            day: item.day,\r\n            start: 0,\r\n            end: this.endAdjusterService.adjustEndForModel(config, config.maxValue),\r\n            value: config.defaultValue\r\n        });\r\n    }\r\n\r\n    private getEndSchedule(lastSchedule: WeeklySchedulerRange<any>, config: IWeeklySchedulerConfig<any>) {\r\n        return this.rangeFactory.createRange(config, {\r\n            day: lastSchedule.day,\r\n            start: lastSchedule.end,\r\n            end: this.endAdjusterService.adjustEndForModel(config, config.maxValue),\r\n            value: config.defaultValue\r\n        })\r\n    }\r\n\r\n    private getStartSchedule(firstSchedule: WeeklySchedulerRange<any>, config: IWeeklySchedulerConfig<any>) {\r\n        return this.rangeFactory.createRange(config, {\r\n            day: firstSchedule.day,\r\n            start: 0,\r\n            end: firstSchedule.start,\r\n            value: config.defaultValue\r\n        });\r\n    }\r\n\r\n    private getFilledSchedulesForSingleSchedule(schedule: WeeklySchedulerRange<any>, config: IWeeklySchedulerConfig<any>) {\r\n        if (this.shouldFillNullEnd(schedule, config)) {\r\n            schedule.end = this.getNullEndValue(schedule, config);\r\n        }\r\n\r\n        let schedules = [schedule];\r\n\r\n        if (!this.scheduleTouchesStart(schedule, config)) {\r\n            schedules.push(this.getStartSchedule(schedule, config));\r\n        }\r\n\r\n        if (!this.scheduleTouchesEnd(schedule, config)) {\r\n            schedules.push(this.getEndSchedule(schedule, config));\r\n        }\r\n\r\n        return this.getSortedSchedules(schedules);\r\n    }\r\n\r\n    private getFilledSchedules(schedules: WeeklySchedulerRange<any>[], config: IWeeklySchedulerConfig<any>) {\r\n        schedules = this.getSortedSchedules(schedules);\r\n\r\n        if (schedules.length === 1) {\r\n            return this.getFilledSchedulesForSingleSchedule(schedules[0], config);\r\n        }\r\n\r\n        let len = schedules.length - 1;\r\n        \r\n        // 2 at a time\r\n        for (let i = 0; i < len; i++) {\r\n            let currentSchedule = schedules[i];\r\n            let nextSchedule = schedules[i + 1];\r\n\r\n            let isFirstLoop = i == 0;\r\n\r\n            if (isFirstLoop && !this.scheduleTouchesStart(currentSchedule, config)) {\r\n                let startSchedule = this.getStartSchedule(currentSchedule, config);\r\n\r\n                schedules.push(startSchedule);\r\n            }\r\n\r\n            if (!this.schedulesTouch(currentSchedule, nextSchedule)) {\r\n                let newSchedule = this.getNewSchedule(currentSchedule, nextSchedule, config);\r\n\r\n                schedules.push(newSchedule);\r\n            }\r\n\r\n            let isLastLoop = i == len - 1;\r\n\r\n            if (isLastLoop && !this.scheduleTouchesEnd(nextSchedule, config)) {\r\n                let endSchedule = this.getEndSchedule(nextSchedule, config);\r\n\r\n                schedules.push(endSchedule);\r\n                break;\r\n            }\r\n        }\r\n\r\n        return this.getSortedSchedules(schedules);\r\n    }\r\n\r\n    private getNewSchedule(currentSchedule: WeeklySchedulerRange<any>, nextSchedule: WeeklySchedulerRange<any>, config: IWeeklySchedulerConfig<any>) {\r\n        return this.rangeFactory.createRange(config, {\r\n            day: currentSchedule.day,\r\n            start: currentSchedule.end,\r\n            end: nextSchedule.start,\r\n            value: config.defaultValue\r\n        });\r\n    }\r\n\r\n    private getNullEndValue(schedule: WeeklySchedulerRange<any>, config: IWeeklySchedulerConfig<any>) {\r\n        return schedule.start + config.fillNullEnds;\r\n    }\r\n\r\n    private getSortedSchedules(schedules: WeeklySchedulerRange<any>[]) {\r\n        return schedules.sort((a, b) => a.start - b.start);\r\n    }\r\n\r\n    private schedulesTouch(earlierSchedule: WeeklySchedulerRange<any>, laterSchedule: WeeklySchedulerRange<any>) {\r\n        return earlierSchedule.end === laterSchedule.start;\r\n    }\r\n\r\n    private scheduleTouchesStart(schedule: WeeklySchedulerRange<any>, config: IWeeklySchedulerConfig<any>) {\r\n        return schedule.start === 0;\r\n    }\r\n    \r\n    private scheduleTouchesEnd(schedule: WeeklySchedulerRange<any>, config: IWeeklySchedulerConfig<any>) {\r\n        return schedule.end === this.endAdjusterService.adjustEndForModel(config, config.maxValue);\r\n    }\r\n\r\n    private shouldFillNullEnd(schedule: WeeklySchedulerRange<any>, config: IWeeklySchedulerConfig<any>) {\r\n        return schedule.end === null && config.nullEnds && config.fillNullEnds;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { FillEmptyWithDefaultService } from './FillEmptyWithDefaultService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.fillEmptyWithDefault', [])\r\n    .service(FillEmptyWithDefaultService.$name, FillEmptyWithDefaultService)\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { FullCalendarValidatorService } from '../schedule-validator/FullCalendarValidatorService';\r\nimport { WeeklySchedulerItem } from '../weekly-scheduler-item/WeeklySchedulerItem';\r\n\r\n/** @internal */\r\nexport class FullCalendarDirective implements angular.IDirective {\r\n    static $name = 'brFullCalendar';\r\n\r\n    constructor(\r\n        private validator: FullCalendarValidatorService\r\n    ) {\r\n    }\r\n\r\n    link = (scope: angular.IScope, element: angular.IAugmentedJQuery, attrs: angular.IAttributes, ngModelCtrl: angular.INgModelController) => {\r\n        if (attrs.brFullCalendar) {\r\n            ngModelCtrl.$validators[this.validator.error] = (modelValue: WeeklySchedulerItem<any>) => {\r\n                return this.validator.validate(modelValue.schedules, modelValue.config);\r\n            };\r\n        }\r\n    }\r\n\r\n    require = 'ngModel';\r\n\r\n    static Factory() {\r\n        let directive = (validator) => {\r\n            return new FullCalendarDirective(validator);\r\n        };\r\n\r\n        directive.$inject = ['brWeeklySchedulerFullCalendarValidatorService'];\r\n\r\n        return directive;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { FullCalendarDirective } from './FullCalendarDirective';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.fullCalendar', [])\r\n    .directive(FullCalendarDirective.$name, FullCalendarDirective.Factory())\r\n    .name;\r\n","import { MultiSliderController } from '../multislider/multislider';\r\n\r\n/** @internal */\r\nexport class GhostSlotController implements angular.IComponentController {\r\n    static $name = 'brGhostSlotController';\r\n    static $controllerAs = 'ghostSlotCtrl';\r\n\r\n    static $inject = [\r\n        '$element'\r\n    ];\r\n\r\n    constructor(\r\n        private $element: angular.IAugmentedJQuery\r\n    ) {\r\n    }\r\n\r\n    private multiSliderCtrl: MultiSliderController;\r\n}\r\n\r\n/** @internal */\r\nexport class GhostSlotComponent implements angular.IComponentOptions {\r\n    static $name = 'brGhostSlot';\r\n\r\n    controller = GhostSlotController.$name;\r\n    controllerAs = GhostSlotController.$controllerAs;\r\n\r\n    require = {\r\n        multiSliderCtrl: '^brMultiSlider'\r\n    };\r\n\r\n    template = `\r\n        <ng-transclude class=\"fullWidth\"></ng-transclude>\r\n    `;\r\n\r\n    transclude = true;\r\n}\r\n","import * as angular from 'angular';\r\nimport { GhostSlotComponent, GhostSlotController } from './ghost-slot';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.ghostSlot', [])\r\n    .component(GhostSlotComponent.$name, new GhostSlotComponent())\r\n    .controller(GhostSlotController.$name, GhostSlotController)\r\n    .name;\r\n","import { IWeeklySchedulerRange } from '../weekly-scheduler-range/IWeeklySchedulerRange';\r\n\r\n/**\r\n * We should be able to convert the schedules beforehand, pass just the schedules in and have this package build the items\r\n * This helps reduce code duplication in clients.\r\n * This is used as a substitute for lodash.groupBy to keep the footprint small \r\n */\r\n\r\n/** @internal */\r\nexport class GroupService {\r\n    static $name = 'brWeeklySchedulerGroupService';\r\n\r\n    groupSchedules(schedules: IWeeklySchedulerRange<any>[]): { [key: number]: IWeeklySchedulerRange<any>[] } {\r\n        let seed: { [key: number]: IWeeklySchedulerRange<any>[] } = {};\r\n\r\n        let result = schedules.reduce((reducer, currentSchedule, index, array) => {\r\n            let key = currentSchedule.day;\r\n\r\n            if (!reducer[key]) {\r\n                reducer[key] = [];\r\n            }\r\n\r\n            reducer[key].push(currentSchedule);\r\n\r\n            return reducer;\r\n        }, seed);\r\n\r\n        return result;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { GroupService } from './GroupService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.groupBy', [])\r\n    .service(GroupService.$name, GroupService)\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { MouseTrackerService } from '../mouse-tracker/MouseTrackerService';\r\nimport { TouchService } from '../touch/TouchService';\r\n\r\n/** @internal */\r\nexport class HandleDirective implements angular.IDirective {\r\n  static $name = 'brHandle';\r\n  restrict = 'A';\r\n\r\n  scope = {\r\n    ondrag: '&',\r\n    ondragstop: '&',\r\n    ondragstart: '&',\r\n    immediate: '<'\r\n  };\r\n\r\n  link = (scope, element: angular.IAugmentedJQuery) => {\r\n    var $document = this.$document;\r\n    var mouseTrackerService = this.mouseTrackerService;\r\n    var touchService = this.touchService;\r\n    var x = 0;\r\n\r\n    let mousedownEvent: string = 'mousedown touchstart';\r\n    let mousemoveEvent: string = 'mousemove touchmove';\r\n    let mouseupEvent: string = 'mouseup touchend';\r\n\r\n    element.on(mousedownEvent, mousedown);\r\n\r\n    function mousedown(event) {\r\n      x = getPageX(event);\r\n\r\n      // Prevent default dragging of selected content\r\n      event.preventDefault();\r\n\r\n      // Prevent multiple handlers from being fired if they are nested (only the one you directly interacted with should fire)\r\n      event.stopPropagation();\r\n\r\n      startDrag();\r\n    }\r\n\r\n    function fakeMousedown() {\r\n      x = mouseTrackerService.getMousePosition().x;\r\n\r\n      startDrag();\r\n    }\r\n\r\n    function getPageX(event) {\r\n      return event.pageX || touchService.getPageX(event);\r\n    }\r\n\r\n    function mousemove(event) {\r\n      let pageX = getPageX(event);\r\n      var delta = pageX - x;\r\n\r\n      if (angular.isFunction(scope.ondrag)) {\r\n        scope.$apply(scope.ondrag({ delta: delta }));\r\n      }\r\n    }\r\n\r\n    function mouseup() {\r\n      $document.unbind(mousemoveEvent, mousemove);\r\n      $document.unbind(mouseupEvent, mouseup);\r\n\r\n      if (angular.isFunction(scope.ondragstop)) {\r\n        scope.$apply(scope.ondragstop());\r\n      }\r\n    }\r\n\r\n    function startDrag() {\r\n      $document.on(mousemoveEvent, mousemove);\r\n      $document.on(mouseupEvent, mouseup);\r\n\r\n      if (angular.isFunction(scope.ondragstart)) {\r\n        scope.$applyAsync(scope.ondragstart());\r\n      }\r\n    }\r\n\r\n    if (scope.immediate) {\r\n      fakeMousedown();\r\n    }\r\n  }\r\n\r\n  constructor(\r\n    private $document: angular.IDocumentService,\r\n    private mouseTrackerService: MouseTrackerService,\r\n    private touchService: TouchService\r\n  ) {\r\n  }\r\n\r\n  static Factory() {\r\n    let directive = ($document, mouseTrackerService, touchService) => new HandleDirective($document, mouseTrackerService, touchService);\r\n\r\n    directive.$inject = ['$document', 'brWeeklySchedulerMouseTrackerService', 'brWeeklySchedulerTouchService'];\r\n\r\n    return directive;\r\n  }\r\n}\r\n","import * as angular from 'angular';\r\nimport { HandleDirective } from './HandleDirective';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.handle', [])\r\n    .directive(HandleDirective.$name, HandleDirective.Factory())\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { WeeklySchedulerController } from '../weekly-scheduler/weekly-scheduler';\r\nimport { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { TimeConstantsService } from '../time/TimeConstantsService';\r\nimport { WeeklySchedulerEvents } from '../weekly-scheduler-config/WeeklySchedulerEvents';\r\n\r\n/** @internal */\r\nexport class HourlyGridDirective implements angular.IDirective {\r\n    static $name = 'brHourlyGrid';\r\n\r\n    restrict = 'E';\r\n    require = '^brWeeklyScheduler';\r\n\r\n    private GRID_TEMPLATE = angular.element('<div class=\"grid-item\"></div>');\r\n\r\n    private handleClickEvent(child, hourCount, idx, scope) {\r\n        child.bind('click', function () {\r\n            scope.$apply(() => {\r\n                scope.$emit(WeeklySchedulerEvents.CLICK_ON_A_CELL, {\r\n                    nbElements: hourCount,\r\n                    idx: idx\r\n                });\r\n            });\r\n        });\r\n    }\r\n\r\n    private doGrid(scope, element, attrs, config: IWeeklySchedulerConfig<any>) {\r\n        // Calculate hour width distribution\r\n        var tickcount = config.hourCount;\r\n        var gridItemEl = this.GRID_TEMPLATE.clone();\r\n  \r\n        // Clean element\r\n        element.empty();\r\n\r\n        // Stripe it by hour\r\n        element.addClass('striped');\r\n\r\n        for (let i = 0; i < tickcount; i++) {\r\n          var child = gridItemEl.clone();\r\n\r\n          if (angular.isUndefined(attrs.noText)) {\r\n            this.handleClickEvent(child, tickcount, i, scope);\r\n\r\n            let currentHour = i % 12;\r\n            let meridiem = i >= 12 ? 'p' : 'a';\r\n\r\n            child.text(`${currentHour || '12'}${meridiem}`);\r\n          } else {\r\n            let numIntervalsInTick = this.timeConstants.SECONDS_IN_HOUR / config.interval;\r\n            let intervalPercentage = 100 / numIntervalsInTick;\r\n\r\n            for (let j = 0; j < numIntervalsInTick; j++) {\r\n                let grandChild = this.GRID_TEMPLATE.clone();\r\n                grandChild.attr('rel', ((i * numIntervalsInTick) + j) * config.interval);\r\n                grandChild.addClass('interval');\r\n                grandChild.css('width', intervalPercentage + '%');\r\n                child.append(grandChild);\r\n            }\r\n          }\r\n\r\n          element.append(child);\r\n        }\r\n    }\r\n\r\n    link = (scope, element, attrs, schedulerCtrl: WeeklySchedulerController) => {\r\n        if (schedulerCtrl.config) {\r\n            this.doGrid(scope, element, attrs, schedulerCtrl.config);\r\n        }\r\n    }\r\n\r\n    constructor(\r\n        private timeConstants: TimeConstantsService\r\n    ) {\r\n    }\r\n\r\n    static Factory() {\r\n        let directive = (timeConstants) => new HourlyGridDirective(timeConstants);\r\n\r\n        directive.$inject = ['brWeeklySchedulerTimeConstantsService'];\r\n\r\n        return directive;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { HourlyGridDirective } from './HourlyGridDirective';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.hourlyGrid', [])\r\n    .directive(HourlyGridDirective.$name, HourlyGridDirective.Factory())\r\n    .name;\r\n","import { WeeklySchedulerItem } from '../weekly-scheduler-item/WeeklySchedulerItem';\r\n\r\n/** @internal */\r\nexport class LastGhostDayService {\r\n    static $name = 'brWeeklySchedulerLastGhostDayService';\r\n\r\n    /**\r\n     * When dragging ghosts across multiple days, if the user moves the mouse pointer out of one extreme and back into the last slot that rendered a ghost,\r\n     * We should remove the ghost from that extreme. This will help grab the correct day\r\n     */\r\n    public getLastGhostDay(items: WeeklySchedulerItem<any>[]) {\r\n        let originIndex = this.getOriginIndex(items);\r\n        let renderedGhostIndices = this.getRenderedGhostIndices(items);\r\n\r\n        // determine if the other $renderGhost items are above or below the $isGhostOrigin item\r\n        let above = renderedGhostIndices.every(i => i <= originIndex);\r\n\r\n        // take first item for above or last item for below\r\n        let lastGhostDayIndex = above ? 0 : renderedGhostIndices.length - 1;\r\n\r\n        return renderedGhostIndices[lastGhostDayIndex];\r\n    }\r\n\r\n    /** Get the index of the $isGhostOrigin item */\r\n    private getOriginIndex(items: WeeklySchedulerItem<any>[]) {\r\n        let originIndex;\r\n        let len = items.length;\r\n\r\n        for (let i = 0; i < len; i++) {\r\n            let currentItem = items[i];\r\n\r\n            if (currentItem.$isGhostOrigin) {\r\n                originIndex = i;\r\n                break;\r\n            }\r\n        }\r\n\r\n        return originIndex;\r\n    }\r\n\r\n    /** Get all of the item indices that currently have ghosts rendered */\r\n    private getRenderedGhostIndices(items: WeeklySchedulerItem<any>[]) {\r\n        let renderedGhostIndices = [];\r\n        let len = items.length;\r\n\r\n        for (let i = 0; i < len; i++) {\r\n            let currentItem = items[i];\r\n\r\n            if (currentItem.$renderGhost) {\r\n                renderedGhostIndices.push(i);\r\n            }\r\n        }\r\n\r\n        return renderedGhostIndices;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { LastGhostDayService } from './LastGhostDayService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.lastGhostDay', [])\r\n    .service(LastGhostDayService.$name, LastGhostDayService)\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { MaxTimeSlotValidatorService } from '../schedule-validator/MaxTimeSlotValidatorService';\r\nimport { WeeklySchedulerItem } from '../weekly-scheduler-item/WeeklySchedulerItem';\r\n\r\n/** @internal */\r\nexport class MaxTimeSlotDirective implements angular.IDirective {\r\n    static $name = 'brMaxTimeSlot';\r\n\r\n    constructor(\r\n        private validator: MaxTimeSlotValidatorService\r\n    ) {\r\n    }\r\n\r\n    link = (scope: angular.IScope, element: angular.IAugmentedJQuery, attrs: angular.IAttributes, ngModelCtrl: angular.INgModelController) => {\r\n        if (attrs.brMaxTimeSlot) {\r\n            ngModelCtrl.$validators[this.validator.error] = (modelValue: WeeklySchedulerItem<any>) => {\r\n                return this.validator.validate(modelValue.schedules, modelValue.config);\r\n            };\r\n        }\r\n    }\r\n\r\n    require = 'ngModel';\r\n\r\n    static Factory() {\r\n        let directive = (validator) => {\r\n            return new MaxTimeSlotDirective(validator);\r\n        };\r\n\r\n        directive.$inject = ['brWeeklySchedulerMaxTimeSlotValidatorService'];\r\n\r\n        return directive;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { MaxTimeSlotDirective } from './MaxTimeSlotDirective';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.maxTimeSlot', [])\r\n    .directive(MaxTimeSlotDirective.$name, MaxTimeSlotDirective.Factory())\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { MinimumSeparationValidatorService } from '../schedule-validator/MinimumSeparationValidatorService';\r\nimport { WeeklySchedulerItem } from '../weekly-scheduler-item/WeeklySchedulerItem';\r\n\r\n/** @internal */\r\nexport class MinimumSeparationDirective implements angular.IDirective {\r\n    static $name = 'brMinimumSeparation';\r\n\r\n    constructor(\r\n        private validator: MinimumSeparationValidatorService\r\n    ) {\r\n    }\r\n\r\n    link = (scope: angular.IScope, element: angular.IAugmentedJQuery, attrs: angular.IAttributes, ngModelCtrl: angular.INgModelController) => {\r\n        if (attrs.brMinimumSeparation) {\r\n            ngModelCtrl.$validators[this.validator.error] = (modelValue: WeeklySchedulerItem<any>) => {\r\n                return this.validator.validate(modelValue.schedules, modelValue.config);\r\n            };\r\n        }\r\n    }\r\n\r\n    require = 'ngModel';\r\n\r\n    static Factory() {\r\n        let directive = (validator) => {\r\n            return new MinimumSeparationDirective(validator);\r\n        };\r\n\r\n        directive.$inject = ['brWeeklySchedulerMinimumSeparationValidatorService'];\r\n\r\n        return directive;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { MinimumSeparationDirective } from './MinimumSeparationDirective';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.minimumSeparation', [])\r\n    .directive(MinimumSeparationDirective.$name, MinimumSeparationDirective.Factory())\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { DayMap } from '../weekly-scheduler-config/DayMap';\r\nimport { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { WeeklySchedulerItem } from '../weekly-scheduler-item/WeeklySchedulerItem';\r\nimport { WeeklySchedulerItemFactory } from '../weekly-scheduler-item/WeeklySchedulerItemFactory';\r\n\r\n/** @internal */\r\nexport class MissingDaysService {\r\n    static $name = 'brWeeklySchedulerMissingDaysService';\r\n\r\n    static $inject = [\r\n        'brWeeklySchedulerDayMap',\r\n        'brWeeklySchedulerItemFactory'\r\n    ];\r\n\r\n    private constructor(\r\n        private dayMap: DayMap,\r\n        private itemFactory: WeeklySchedulerItemFactory\r\n    ) {\r\n    }\r\n\r\n    /**\r\n     * The scheduler should always show all days, even if it was not passed any schedules for that day\r\n     */\r\n    public fillItems(config: IWeeklySchedulerConfig<any>, items: WeeklySchedulerItem<any>[]) {\r\n        let result: WeeklySchedulerItem<any>[] = [];\r\n\r\n        angular.forEach(this.dayMap, (day: string, stringKey: string) => {\r\n          let key = parseInt(stringKey, 10);\r\n          let filteredItems = items.filter(item => item.day === key);\r\n          let item: WeeklySchedulerItem<any> = filteredItems.length ? filteredItems[0] : null;\r\n    \r\n          if (!item) {\r\n            result.push(this.itemFactory.createItem(config, key, []));\r\n          } else {\r\n            // If the item DID exist just set the label\r\n            item.label = day;\r\n    \r\n            result.push(item);\r\n          }\r\n        });\r\n    \r\n        return angular.copy(result).sort((a, b) => a.day - b.day);\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { MissingDaysService } from './MissingDaysService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.missingDays', [])\r\n    .service(MissingDaysService.$name, MissingDaysService)\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { MonoScheduleValidatorService } from '../schedule-validator/MonoScheduleValidatorService';\r\nimport { WeeklySchedulerItem } from '../weekly-scheduler-item/WeeklySchedulerItem';\r\n\r\n/** @internal */\r\nexport class MonoScheduleDirective implements angular.IDirective {\r\n    static $name = 'brMonoSchedule';\r\n\r\n    constructor(\r\n        private validator: MonoScheduleValidatorService\r\n    ) {\r\n    }\r\n\r\n    link = (scope: angular.IScope, element: angular.IAugmentedJQuery, attrs: angular.IAttributes, ngModelCtrl: angular.INgModelController) => {\r\n        if (attrs.brMonoSchedule) {\r\n            ngModelCtrl.$validators[this.validator.error] = (modelValue: WeeklySchedulerItem<any>) => {\r\n                return this.validator.validate(modelValue.schedules, modelValue.config);\r\n            };\r\n        }\r\n    }\r\n\r\n    require = 'ngModel';\r\n\r\n    static Factory() {\r\n        let directive = (validator) => {\r\n            return new MonoScheduleDirective(validator);\r\n        };\r\n\r\n        directive.$inject = ['brWeeklySchedulerMonoScheduleValidatorService'];\r\n\r\n        return directive;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { MonoScheduleDirective } from './MonoScheduleDirective';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.monoSchedule', [])\r\n    .directive(MonoScheduleDirective.$name, MonoScheduleDirective.Factory())\r\n    .name;\r\n","import { IPoint } from '../point/IPoint';\r\n\r\n/** @internal */\r\nexport class MouseTrackerService {\r\n    static $name = 'brWeeklySchedulerMouseTrackerService';\r\n\r\n    static $inject = ['$document'];\r\n\r\n    private constructor(\r\n        private $document: angular.IDocumentService\r\n    ) {\r\n    }\r\n\r\n    private mousePosition: IPoint;\r\n\r\n    public initialize() {\r\n        const eventName = 'mousemove touchmove';\r\n\r\n        let event = this.setMousePosition.bind(this);\r\n\r\n        this.$document.unbind(eventName, event);\r\n        this.$document.on(eventName, event);\r\n    }\r\n\r\n    public getMousePosition() {\r\n        return this.mousePosition;\r\n    }\r\n\r\n    private setMousePosition(event) {\r\n        this.mousePosition = { x: event.pageX, y: event.pageY };\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { MouseTrackerService } from './MouseTrackerService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.mouseTracker', [])\r\n    .service(MouseTrackerService.$name, MouseTrackerService)\r\n    .run([MouseTrackerService.$name, (mouseTrackerService: MouseTrackerService) => {\r\n        mouseTrackerService.initialize();\r\n    }])\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { MultiSliderComponent, MultiSliderController } from './multislider';\r\n\r\nexport default\r\n    angular.module('rr.weeklyScheduler.multiSlider', [])\r\n    .component(MultiSliderComponent.$name, new MultiSliderComponent())\r\n    .controller(MultiSliderController.$name, MultiSliderController)\r\n    .name;\r\n","module.exports = \"<div class=\\\"ghost-wrapper\\\" br-handle ondragstart=\\\"multiSliderCtrl.onGhostWrapperMouseDown()\\\" ondragstop=\\\"multiSliderCtrl.onGhostWrapperMouseUp()\\\" ondrag=\\\"multiSliderCtrl.onGhostWrapperMouseMove()\\\">\\r\\n    <br-ghost-slot class=\\\"slot\\\"\\r\\n                   ng-if=\\\"multiSliderCtrl.item.canRenderGhost()\\\"\\r\\n                   ng-class=\\\"{\\r\\n                      active: multiSliderCtrl.item.$renderGhost,\\r\\n                      nullEnd: multiSliderCtrl.config.nullEnds\\r\\n                   }\\\"\\r\\n                   ng-style=\\\"{\\r\\n                      left: multiSliderCtrl.getSlotLeft(multiSliderCtrl.ghostValues.left),\\r\\n                      right: multiSliderCtrl.getSlotRight(multiSliderCtrl.ghostValues.left, multiSliderCtrl.ghostValues.right)\\r\\n                   }\\\">\\r\\n        <div class=\\\"slotWrapper\\\">\\r\\n            <div class=\\\"middle fullWidth\\\">\\r\\n                <span ng-if=\\\"!multiSliderCtrl.config.nullEnds\\\">{{ multiSliderCtrl.ghostValues.left | brWeeklySchedulerTimeOfDay }} - {{ multiSliderCtrl.ghostValues.right | brWeeklySchedulerTimeOfDay }}</span>\\r\\n                <span ng-if=\\\"multiSliderCtrl.config.nullEnds\\\">{{ multiSliderCtrl.ghostValues.left | brWeeklySchedulerTimeOfDay }} until</span>\\r\\n            </div>\\r\\n        </div>\\r\\n    </br-ghost-slot>\\r\\n\\r\\n    <br-weekly-slot class=\\\"slot {{ schedule.$class }}\\\"\\r\\n                config=\\\"multiSliderCtrl.config\\\"\\r\\n                get-delta=\\\"multiSliderCtrl.pixelToVal(pixel)\\\"\\r\\n                drag-schedule=\\\"multiSliderCtrl.dragSchedule\\\" \\r\\n                item=\\\"multiSliderCtrl.item\\\"\\r\\n                ng-class=\\\"{\\r\\n                    active: schedule.$isActive,\\r\\n                    disable: !multiSliderCtrl.item.canEditSchedule(schedule),\\r\\n                    nullEnd: schedule.end === null,\\r\\n                    pending: schedule.$isEditing\\r\\n                }\\\"\\r\\n                ng-repeat=\\\"schedule in multiSliderCtrl.item.schedules\\\"\\r\\n                ng-model=\\\"schedule\\\"\\r\\n                ng-style=\\\"{\\r\\n                    left: multiSliderCtrl.getSlotLeft(schedule.start),\\r\\n                    right: multiSliderCtrl.getSlotRight(schedule.start, schedule.end)\\r\\n                }\\\"\\r\\n                edit-schedule=\\\"multiSliderCtrl.editSchedule(schedule)\\\"\\r\\n    ></br-weekly-slot>\\r\\n</div>\";","import * as angular from 'angular';\r\nimport { EndAdjusterService } from '../end-adjuster/EndAdjusterService';\r\nimport { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { IWeeklySchedulerRange } from '../weekly-scheduler-range/IWeeklySchedulerRange';\r\nimport { WeeklySchedulerItem } from '../weekly-scheduler-item/WeeklySchedulerItem';\r\nimport { WeeklySchedulerRange } from '../weekly-scheduler-range/WeeklySchedulerRange';\r\nimport { WeeklySchedulerRangeFactory } from '../weekly-scheduler-range/WeeklySchedulerRangeFactory';\r\nimport { ElementOffsetService } from '../element-offset/ElementOffsetService';\r\nimport { MouseTrackerService } from '../mouse-tracker/MouseTrackerService';\r\nimport { ValueNormalizationService } from '../value-normalization/ValueNormalizationService';\r\nimport { WeeklySchedulerEvents } from '../weekly-scheduler-config/WeeklySchedulerEvents';\r\n\r\n/** @internal */\r\nexport class MultiSliderController implements angular.IComponentController {\r\n  static $name = 'brMultiSliderController';\r\n  static $controllerAs = 'multiSliderCtrl';\r\n\r\n  static $inject = [\r\n    '$element',\r\n    '$q',\r\n    '$scope',\r\n    'brWeeklySchedulerElementOffsetService',\r\n    'brWeeklySchedulerEndAdjusterService',\r\n    'brWeeklySchedulerMouseTrackerService',\r\n    'brWeeklySchedulerNullEndWidth',\r\n    'brWeeklySchedulerRangeFactory',\r\n    'brWeeklySchedulerValueNormalizationService'\r\n  ];\r\n\r\n  constructor(\r\n    private $element: angular.IAugmentedJQuery,\r\n    private $q: angular.IQService,\r\n    private $scope: angular.IScope,\r\n    private elementOffsetService: ElementOffsetService,\r\n    private endAdjusterService: EndAdjusterService,\r\n    private mouseTrackerService: MouseTrackerService,\r\n    private nullEndWidth: number,\r\n    private rangeFactory: WeeklySchedulerRangeFactory,\r\n    private valueNormalizationService: ValueNormalizationService\r\n  ) {\r\n    this.element = this.$element[0];\r\n  }\r\n\r\n  private dragSchedule: WeeklySchedulerRange<any>;\r\n  private pendingSchedule: WeeklySchedulerRange<any>;\r\n\r\n  private startingGhostValues: { left: number, right: number };\r\n  private readonly ghostValues: { left: number, right: number };\r\n  private setGhostValues: (options: { ghostValues: { left: number, right: number } }) => void;\r\n\r\n  private ngModelCtrl: angular.INgModelController;\r\n  \r\n  public element: Element;\r\n  public config: IWeeklySchedulerConfig<any>;\r\n\r\n  private item: WeeklySchedulerItem<any>;\r\n\r\n  public $postLink() {\r\n    this.$element.on('mouseenter', () => {\r\n      this.onMouseEnter();\r\n    });\r\n\r\n    this.$element.on('mouseleave', () => {\r\n      this.onMouseLeave();\r\n    });\r\n\r\n    this.$element.on('mouseup', () => {\r\n       this.onMouseUp();\r\n    });\r\n\r\n    this.$scope.$on(WeeklySchedulerEvents.COMMIT_GHOST, (event: angular.IAngularEvent, ghostSchedule: WeeklySchedulerRange<any>) => {\r\n      if (this.item.$renderGhost) {\r\n        this.commitGhost(ghostSchedule);\r\n      }\r\n    });\r\n\r\n    this.$scope.$on(WeeklySchedulerEvents.REMOVE_GHOST, (event: angular.IAngularEvent, day: number) => {\r\n      if (!this.item.$isGhostOrigin && this.item.day === day) {\r\n        this.removeGhost();\r\n      }\r\n    });\r\n\r\n    this.$scope.$on(WeeklySchedulerEvents.REMOVE_ALL_GHOSTS, () => {\r\n      this.removeGhost();\r\n    });\r\n  }\r\n\r\n  private onMouseEnter() {\r\n    // If the cursor is moving BACK into an item that ALREADY has a ghost rendered, we'll want to remove the ghost from the item that was left\r\n    if (this.item.$renderGhost) {\r\n      this.$scope.$emit(WeeklySchedulerEvents.REMOVE_LAST_GHOST);\r\n    }\r\n\r\n    if (this.dragSchedule) {\r\n      this.addDragSchedule();\r\n    }\r\n\r\n    if (this.ghostValues && !this.item.$renderGhost) {\r\n      this.createGhost();\r\n    }\r\n  }\r\n\r\n  private onMouseLeave() {\r\n    if (this.dragSchedule) {\r\n      this.removeDragSchedule();\r\n    }\r\n  }\r\n\r\n  private onMouseUp() {\r\n    if (this.pendingSchedule) {\r\n      this.commitDragSchedule();\r\n    }\r\n  }\r\n\r\n  private addDragSchedule() {\r\n    this.dragSchedule.day = this.item.day;\r\n    this.pendingSchedule = this.item.addSchedule(this.dragSchedule);\r\n    this.pendingSchedule.$isActive = true;\r\n  }\r\n\r\n  private removeDragSchedule() {\r\n    this.item.removeSchedule(this.dragSchedule);\r\n    this.ngModelCtrl.$setDirty();\r\n    this.pendingSchedule = null;\r\n  }\r\n\r\n  private commitDragSchedule() {\r\n    this.pendingSchedule.$isActive = false;\r\n\r\n    this.ngModelCtrl.$setDirty();\r\n    this.item.mergeSchedule(this.pendingSchedule);\r\n    this.pendingSchedule = null;\r\n  }\r\n\r\n  private getScheduleForAdd(start: number, end: number) {\r\n    start = this.valueNormalizationService.normalizeValue(start, 0, end);\r\n    end = this.valueNormalizationService.normalizeValue(end, start, this.config.maxValue);\r\n\r\n    if (this.config.nullEnds) {\r\n      end = null;\r\n    }\r\n\r\n    let schedule = {\r\n      day: this.item.day,\r\n      start: start,\r\n      end: end,\r\n      value: this.config.defaultValue\r\n    };\r\n\r\n    return schedule;\r\n  }\r\n\r\n  private openEditorForAdd(schedule: IWeeklySchedulerRange<any>): angular.IPromise<IWeeklySchedulerRange<any>> {\r\n    if (this.item.canEdit()) {\r\n      return this.config.editSlot(schedule);\r\n    } else {\r\n      return this.$q.when(schedule);\r\n    }\r\n  }\r\n\r\n  /** Expand ghost while dragging in it */\r\n  public adjustGhost() {\r\n    let point = this.mouseTrackerService.getMousePosition();\r\n    let mouseValue: number = this.getValAtMousePosition(point.x);\r\n\r\n    let existingLeftValue: number = this.startingGhostValues.left;\r\n\r\n    let updatedLeftValue: number;\r\n    let updatedRightValue: number;\r\n    \r\n    if (mouseValue < existingLeftValue) { // user is dragging left\r\n      updatedLeftValue = mouseValue;\r\n      updatedRightValue = existingLeftValue;\r\n    } else { // user is dragging right\r\n      updatedLeftValue = existingLeftValue;\r\n      updatedRightValue = mouseValue;\r\n    }\r\n\r\n    let ghostValues = {\r\n      left: this.normalizeGhostValue(updatedLeftValue),\r\n      right: this.normalizeGhostValue(updatedRightValue)\r\n    };\r\n\r\n    this.setGhostValues({ \r\n      ghostValues: ghostValues\r\n    });\r\n  }\r\n  \r\n  /** Move ghost around while not dragging */\r\n  public positionGhost() {\r\n    let point = this.mouseTrackerService.getMousePosition();\r\n    let val = this.getValAtMousePosition(point.x);\r\n\r\n    this.startingGhostValues = {\r\n      left: val,\r\n      right: this.config.nullEnds ? val + this.nullEndWidth : val + this.config.interval\r\n    };\r\n\r\n    this.setGhostValues({\r\n      ghostValues: angular.copy(this.startingGhostValues)\r\n    });\r\n  }\r\n\r\n  public onGhostWrapperMouseDown() {\r\n    if (!this.item.editable) {\r\n      return;\r\n    }\r\n\r\n    this.item.$isGhostOrigin = true;\r\n    this.createGhost();\r\n  }\r\n\r\n  public onGhostWrapperMouseMove() {\r\n    // nullEnds calendars don't need to do anything because the size of the slot doesn't really matter\r\n    if (this.config.nullEnds) {\r\n      this.positionGhost();\r\n      return;\r\n    }\r\n\r\n    if (this.item.$renderGhost) {\r\n      this.adjustGhost();\r\n    }\r\n  }\r\n\r\n  public onGhostWrapperMouseUp() {\r\n    let ghostSchedule = this.getScheduleForAdd(this.ghostValues.left, this.ghostValues.right);\r\n\r\n    this.openEditorForAdd(ghostSchedule).then(editedGhostSchedule => {\r\n      this.$scope.$emit(WeeklySchedulerEvents.GHOST_DRAG_ENDED, editedGhostSchedule);\r\n    }).catch(() => {\r\n      this.$scope.$emit(WeeklySchedulerEvents.CANCEL_GHOST);\r\n    });\r\n  }\r\n\r\n  private createGhost() {\r\n    this.item.$renderGhost = true;\r\n    this.positionGhost();\r\n  }\r\n\r\n  private commitGhost(ghostSchedule: WeeklySchedulerRange<any>) {\r\n    if (this.item.canAddSchedule()) {\r\n      this.item.addScheduleAndMerge(ghostSchedule);\r\n      this.ngModelCtrl.$setDirty();\r\n      this.config.onChange();\r\n    }\r\n\r\n    this.removeGhost();\r\n  }\r\n\r\n  private getMousePosition(pageX: number) {\r\n    let elementOffsetX = this.elementOffsetService.left(this.$element);\r\n    let left = pageX - elementOffsetX;\r\n\r\n    return left;\r\n  }\r\n\r\n  private getValAtMousePosition(pageX: number) {\r\n    return this.pixelToVal(this.getMousePosition(pageX));\r\n  }\r\n\r\n  /**\r\n   * Perform an external action to bring up an editor for a schedule\r\n   */\r\n  private editSchedule(schedule: WeeklySchedulerRange<any>) {\r\n    if (this.item.canEdit()) {\r\n      schedule.$isEditing = true;\r\n\r\n      let originalSchedule = angular.copy(schedule);\r\n\r\n      this.config.editSlot(schedule).then((newSchedule) => {\r\n        let range = this.rangeFactory.createRange(this.config, newSchedule);\r\n\r\n        if (this.shouldDelete(range)) {\r\n          this.item.removeSchedule(schedule);\r\n        } else {\r\n          let premergeSchedule = angular.copy(range);\r\n\r\n          this.item.mergeSchedule(range);\r\n\r\n          // If merging mutated the schedule further, then updateSchedule would have already been called\r\n          // This is so that edits that don't trigger merges still trigger onChange,\r\n          // but edits that do trigger merges don't trigger it twice\r\n          if (angular.equals(premergeSchedule, range)) {\r\n            // The 'schedule' variable has already been updated with the correct values.\r\n            // The range should be applied as an update to the originalSchedule so that onChange is triggered if necessary\r\n            originalSchedule.update(range);\r\n          }\r\n        }\r\n\r\n        this.ngModelCtrl.$setDirty();\r\n      }).catch(() => {\r\n        // do nothing except eat the unhandled rejection error\r\n      }).finally(() => {\r\n        schedule.$isEditing = false;\r\n      });\r\n    }\r\n  }\r\n\r\n  private getSlotLeft(start: number) {\r\n    let underlyingInterval: HTMLElement = this.getUnderlyingInterval(start);\r\n\r\n    return underlyingInterval.offsetLeft + 'px';\r\n  }\r\n\r\n  private getSlotRight(start: number, end: number) {\r\n    // If there is a null end, place the end of the slot two hours away from the beginning.\r\n    if (this.config.nullEnds && end === null) {\r\n      end = start + this.nullEndWidth;\r\n    }\r\n\r\n    // An end of 0 should display allll the way to the right, up to the edge\r\n    end = this.endAdjusterService.adjustEndForView(this.config, end);\r\n\r\n    // We want the right side to go /up to/ the interval it represents, not cover it, so we must substract 1 interval\r\n    let underlyingInterval = this.getUnderlyingInterval(end - this.config.interval);\r\n\r\n    let offsetRight = underlyingInterval.offsetLeft + underlyingInterval.offsetWidth;\r\n\r\n    let result = this.element.clientWidth - offsetRight;\r\n\r\n    return result + 'px';\r\n  }\r\n\r\n  private getUnderlyingInterval(val: number): HTMLElement {\r\n    val = this.normalizeIntervalValue(val);\r\n\r\n    return this.element.parentElement.querySelector(`[rel='${val}']`);\r\n  }\r\n\r\n  private shouldDelete(schedule: IWeeklySchedulerRange<any>) {\r\n    if (schedule.$isDeleting) {\r\n      return true;\r\n    }\r\n\r\n    if (this.config.fillEmptyWithDefault && schedule.value === this.config.defaultValue) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  public pixelToVal(pixel: number) {\r\n    var percent = pixel / this.element.clientWidth;\r\n    return Math.floor(percent * (this.config.intervalCount) + 0.5) * this.config.interval;\r\n  }\r\n\r\n  private normalizeIntervalValue(value: number) {\r\n    // There is no interval to the right of the rightmost interval -- the last interval will not actually render with a \"rel\" value\r\n    let rightmost = this.config.maxValue - this.config.interval;\r\n\r\n    return this.valueNormalizationService.normalizeValue(value, 0, rightmost);\r\n  }\r\n\r\n  private normalizeGhostValue(value: number) {\r\n    return this.valueNormalizationService.normalizeValue(value, 0, this.config.maxValue);\r\n  }\r\n\r\n  private removeGhost() {\r\n    this.item.$isGhostOrigin = false;\r\n    this.item.$renderGhost = false;\r\n    this.setGhostValues(null);\r\n  }\r\n}\r\n\r\n/** @internal */\r\nexport class MultiSliderComponent implements angular.IComponentOptions {\r\n  static $name = 'brMultiSlider';\r\n\r\n  bindings = {\r\n    config: '<',\r\n    dragSchedule: '<',\r\n    ghostValues: '<',\r\n    item: '=ngModel',\r\n    setGhostValues: '&'\r\n  };\r\n\r\n  controller = MultiSliderController.$name;\r\n  controllerAs = MultiSliderController.$controllerAs;\r\n\r\n  require = {\r\n    ngModelCtrl: 'ngModel'\r\n  };\r\n\r\n  template = require('./multislider.html');\r\n}\r\n","import * as angular from 'angular';\r\nimport { NullEndScheduleValidatorService } from '../schedule-validator/NullEndValidatorService';\r\nimport { WeeklySchedulerItem } from '../weekly-scheduler-item/WeeklySchedulerItem';\r\n\r\n/** @internal */\r\nexport class NullEndDirective implements angular.IDirective {\r\n    static $name = 'brNullEnd';\r\n\r\n    constructor(\r\n        private validator: NullEndScheduleValidatorService\r\n    ) {\r\n    }\r\n\r\n    link = (scope: angular.IScope, element: angular.IAugmentedJQuery, attrs: angular.IAttributes, ngModelCtrl: angular.INgModelController) => {\r\n        ngModelCtrl.$validators[this.validator.error] = (modelValue: WeeklySchedulerItem<any>) => {\r\n            return this.validator.validate(modelValue.schedules, modelValue.config);\r\n        };\r\n    }\r\n\r\n    require = 'ngModel';\r\n\r\n    static Factory() {\r\n        let directive = (validator) => {\r\n            return new NullEndDirective(validator);\r\n        };\r\n\r\n        directive.$inject = ['brWeeklySchedulerNullEndValidatorService'];\r\n\r\n        return directive;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { NullEndDirective } from './NullEndDirective';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.nullEnd', [])\r\n    .directive(NullEndDirective.$name, NullEndDirective.Factory())\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { OverlapValidatorService } from '../schedule-validator/OverlapValidatorService';\r\nimport { WeeklySchedulerItem } from '../weekly-scheduler-item/WeeklySchedulerItem';\r\n\r\n/** @internal */\r\nexport class OverlapDirective implements angular.IDirective {\r\n    static $name = 'brOverlap';\r\n\r\n    constructor(\r\n        private validator: OverlapValidatorService\r\n    ) {\r\n    }\r\n\r\n    link = (scope: angular.IScope, element: angular.IAugmentedJQuery, attrs: angular.IAttributes, ngModelCtrl: angular.INgModelController) => {\r\n        ngModelCtrl.$validators[this.validator.error] = (modelValue: WeeklySchedulerItem<any>) => {\r\n            return this.validator.validate(modelValue.schedules, modelValue.config);\r\n        };\r\n    }\r\n\r\n    require = 'ngModel';\r\n\r\n    static Factory() {\r\n        let directive = (validator) => {\r\n            return new OverlapDirective(validator);\r\n        };\r\n\r\n        directive.$inject = ['brWeeklySchedulerOverlapValidatorService'];\r\n\r\n        return directive;\r\n    }\r\n}\r\n","import { EndAdjusterService } from '../end-adjuster/EndAdjusterService';\r\nimport { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { IWeeklySchedulerRange } from '../weekly-scheduler-range/IWeeklySchedulerRange';\r\nimport { OverlapState } from '../weekly-scheduler-config/OverlapStates';\r\n\r\n/** @internal */\r\nexport class OverlapService {\r\n    static $name = 'brWeeklySchedulerOverlapService';\r\n\r\n    static $inject = [\r\n        'brWeeklySchedulerEndAdjusterService'\r\n    ];\r\n\r\n    private constructor(\r\n        private endAdjusterService: EndAdjusterService\r\n    ) {\r\n    }\r\n\r\n    getOverlapState(config: IWeeklySchedulerConfig<any>, current: IWeeklySchedulerRange<any>, other: IWeeklySchedulerRange<any>): OverlapState {\r\n        let currentStart = current.start;\r\n        let currentEnd = this.endAdjusterService.adjustEndForView(config, current.end);\r\n\r\n        let otherStart = other.start;\r\n        let otherEnd = this.endAdjusterService.adjustEndForView(config, other.end);\r\n\r\n        if (otherEnd >= currentEnd && otherStart <= currentStart) {\r\n            return OverlapState.CurrentIsInsideOther;\r\n        }\r\n\r\n        if (currentEnd >= otherEnd && currentStart <= otherStart) {\r\n            return OverlapState.CurrentCoversOther;\r\n        }\r\n\r\n        if (otherEnd > currentStart && otherEnd <= currentEnd) {\r\n            return OverlapState.OtherEndIsInsideCurrent;\r\n        }\r\n\r\n        if (otherStart >= currentStart && otherStart < currentEnd) {\r\n            return OverlapState.OtherStartIsInsideCurrent;\r\n        }\r\n\r\n        if (otherEnd === currentStart && otherEnd <= currentEnd) {\r\n            return OverlapState.OtherEndIsCurrentStart;\r\n        }\r\n\r\n        if (otherStart === currentEnd && otherStart <= currentEnd) {\r\n            return OverlapState.OtherStartIsCurrentEnd;\r\n        }\r\n\r\n        return OverlapState.NoOverlap;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { OverlapDirective } from './OverlapDirective';\r\nimport { OverlapService } from './OverlapService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.overlap', [])\r\n    .directive(OverlapDirective.$name, OverlapDirective.Factory())\r\n    .service(OverlapService.$name, OverlapService)\r\n    .name;\r\n","import { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { WeeklySchedulerRange } from '../weekly-scheduler-range/WeeklySchedulerRange';\r\n\r\n/** When using the 'fillEmptyWithDefault' option, this service will be used to delete the default schedules for correct display on the calendar */\r\n/** @internal */\r\nexport class PurgeDefaultService {\r\n    static $name = 'brWeeklySchedulerPurgeDefaultService';\r\n\r\n    purge(schedules: WeeklySchedulerRange<any>[], config: IWeeklySchedulerConfig<any>): WeeklySchedulerRange<any>[] {\r\n        let lastIndex = schedules.length - 1;\r\n\r\n        // loop in reverse to avoid messing up indices as we go\r\n        for (let i = lastIndex; i >= 0; i--) {\r\n            if (schedules[i].value === config.defaultValue) {\r\n                schedules.splice(i, 1);\r\n            }\r\n        }\r\n\r\n        return schedules;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { PurgeDefaultService } from './PurgeDefaultService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.purgeDefault', [])\r\n    .service(PurgeDefaultService.$name, PurgeDefaultService)\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { IResizeServiceProvider } from './IResizeServiceProvider';\r\nimport { WeeklySchedulerEvents } from '../weekly-scheduler-config/WeeklySchedulerEvents';\r\nimport { IResizeService } from './IResizeService';\r\n\r\n/** @internal */\r\nexport class ResizeServiceProvider implements IResizeServiceProvider {\r\n    public static $name = 'br.weeklyScheduler.resizeService';\r\n\r\n    constructor() {\r\n        this.$get.$inject = [\r\n            '$rootScope',\r\n            '$window'\r\n        ]\r\n    }\r\n\r\n    private customResizeEvents: string[] = [];\r\n\r\n    private serviceInitialized: boolean = false;\r\n\r\n    public setCustomResizeEvents(events: string[]) {\r\n        this.customResizeEvents = events;\r\n    }\r\n\r\n    public $get(\r\n        $rootScope: angular.IRootScopeService,\r\n        $window: angular.IWindowService\r\n    ): IResizeService {\r\n        return {\r\n            initialize: () => {\r\n                if (this.serviceInitialized) {\r\n                    return;\r\n                }\r\n        \r\n                $window.addEventListener('resize', () => {\r\n                    // addEventListener exists outside of angular so we have to $apply the change\r\n                    $rootScope.$apply(() => {\r\n                        $rootScope.$broadcast(WeeklySchedulerEvents.RESIZED);\r\n                    });\r\n                });\r\n        \r\n                if (this.customResizeEvents) {\r\n                    this.customResizeEvents.forEach((event) => {\r\n                        $rootScope.$on(event, () => {\r\n                            $rootScope.$broadcast(WeeklySchedulerEvents.RESIZED);\r\n                        })\r\n                    })\r\n                }\r\n        \r\n                this.serviceInitialized = true; \r\n            }\r\n        };\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { ResizeServiceProvider } from './ResizeService';\r\nimport { IResizeService } from './IResizeService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.resize', [])\r\n    .provider(ResizeServiceProvider.$name, ResizeServiceProvider)\r\n    .run([ResizeServiceProvider.$name, (resizeService: IResizeService) => resizeService.initialize()])\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { WeeklySchedulerController } from '../weekly-scheduler/weekly-scheduler';\r\nimport { ValidationError } from '../weekly-scheduler-config/ValidationErrors';\r\nimport { IWeeklySchedulerFilterService } from '../weekly-scheduler-config/IWeeklySchedulerFilterService';\r\n\r\n/** @internal */\r\nexport class RestrictionExplanationsController implements angular.IComponentController {\r\n    static $controllerAs = 'restrictionExplanationsCtrl';\r\n    static $name = 'brWeeklySchedulerRestrictionExplanationsController';\r\n\r\n    static $inject = ['$filter'];\r\n\r\n    private schedulerCtrl: WeeklySchedulerController;\r\n\r\n    private explanations: { [key in ValidationError]?: string } = {};\r\n\r\n    constructor(\r\n        private $filter: IWeeklySchedulerFilterService\r\n    ) {\r\n    }\r\n\r\n    $onInit() {\r\n        let config = this.schedulerCtrl.config;\r\n\r\n        if (config.maxTimeSlot) {\r\n            let maxTimeSlot = this.$filter('brWeeklySchedulerSecondsAsText')(config.maxTimeSlot);\r\n            this.explanations[ValidationError.MaxTimeSlot] = config.restrictionExplanations.maxTimeSlot(maxTimeSlot);\r\n        }\r\n\r\n        if (config.fullCalendar) {\r\n            this.explanations[ValidationError.FullCalendar] = config.restrictionExplanations.fullCalendar;\r\n        }\r\n\r\n        if (config.monoSchedule) {\r\n            this.explanations[ValidationError.MonoSchedule] = config.restrictionExplanations.monoSchedule;\r\n        }\r\n\r\n        if (config.nullEnds) {\r\n            this.explanations[ValidationError.NullEnd] = config.restrictionExplanations.nullEnds;\r\n        }\r\n\r\n        if (config.scheduleCountOptions && config.scheduleCountOptions.count) {\r\n            this.explanations[ValidationError.ScheduleCount] = config.restrictionExplanations.scheduleCount(config.scheduleCountOptions);\r\n        }\r\n\r\n        if (config.minimumSeparation) {\r\n            let minimumSeparation = this.$filter('brWeeklySchedulerSecondsAsText')(config.minimumSeparation);\r\n            this.explanations[ValidationError.MinimumSeparation] = config.restrictionExplanations.minimumSeparation(minimumSeparation);\r\n        }\r\n    }\r\n}\r\n\r\n/** @internal */\r\nexport class RestrictionExplanationsComponent implements angular.IComponentOptions {\r\n    static $name = 'brRestrictionExplanations';\r\n\r\n    controller = RestrictionExplanationsController.$name;\r\n    controllerAs = RestrictionExplanationsController.$controllerAs;\r\n\r\n    require = {\r\n        schedulerCtrl: '^brWeeklyScheduler'\r\n    };\r\n\r\n    template = `\r\n        <div class=\"srow explanations\" ng-class=\"{ violation: restrictionExplanationsCtrl.schedulerCtrl.formController.$error[key] }\" ng-repeat=\"(key, explanation) in restrictionExplanationsCtrl.explanations\">\r\n            {{ explanation }}\r\n        </div>\r\n    `;\r\n}\r\n","import * as angular from 'angular';\r\nimport { RestrictionExplanationsComponent, RestrictionExplanationsController } from './RestrictionExplanationsComponent';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.restrictionExplanations', [])\r\n    .component(RestrictionExplanationsComponent.$name, new RestrictionExplanationsComponent())\r\n    .controller(RestrictionExplanationsController.$name, RestrictionExplanationsController)\r\n    .name;\r\n","/**\r\n * Runs custom validators whenever the model changes\r\n */\r\n\r\n/** @internal */\r\nexport class RevalidateDirective implements angular.IDirective {\r\n    static $name = 'brRevalidate';\r\n\r\n    link = (scope: angular.IScope, element: angular.IAugmentedJQuery, attrs: angular.IAttributes, ngModelCtrl: angular.INgModelController) => {\r\n        scope.$watch(attrs.ngModel, () => {\r\n            ngModelCtrl.$validate();\r\n        }, true);\r\n    }\r\n\r\n    require = 'ngModel';\r\n\r\n    static Factory() {\r\n        let directive = () => {\r\n            return new RevalidateDirective();\r\n        };\r\n\r\n        return directive;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { RevalidateDirective } from './RevalidateDirective';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.revalidate', [])\r\n    .directive(RevalidateDirective.$name, RevalidateDirective.Factory())\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { ScheduleAreaContainerComponent, ScheduleAreaContainerController } from './schedule-area-container';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.scheduleAreaContainer', [])\r\n    .component(ScheduleAreaContainerComponent.$name, new ScheduleAreaContainerComponent())\r\n    .controller(ScheduleAreaContainerController.$name, ScheduleAreaContainerController)\r\n    .name;\r\n","import { ScrollService } from '../scroll/ScrollService';\r\nimport { ZoomService } from '../zoom/ZoomService';\r\nimport { WeeklySchedulerEvents } from '../weekly-scheduler-config/WeeklySchedulerEvents';\r\n\r\n/** @internal */\r\nexport class ScheduleAreaContainerController implements angular.IComponentController {\r\n    static $name = 'brWeeklySchedulerScheduleAreaContainerController';\r\n\r\n    static $inject = [\r\n        '$element',\r\n        '$scope',\r\n        'brWeeklySchedulerScrollService',\r\n        'brWeeklySchedulerZoomService'\r\n    ];\r\n\r\n    constructor(\r\n        private $element: angular.IAugmentedJQuery,\r\n        private $scope: angular.IScope,\r\n        private scrollService: ScrollService,\r\n        private zoomService: ZoomService\r\n    ) {\r\n    }\r\n\r\n    $postLink() {\r\n        let element = this.$element[0]; // grab plain js, not jqlite\r\n\r\n        this.scrollService.hijackScroll(element, 20);\r\n        this.zoomService.resetZoom(element);\r\n\r\n\r\n        this.$scope.$on(WeeklySchedulerEvents.CLICK_ON_A_CELL, (e, data) => {\r\n            this.zoomService.zoomInACell(element, e, data);\r\n        });\r\n\r\n        this.$scope.$on(WeeklySchedulerEvents.RESET_ZOOM, (e) => {\r\n            this.zoomService.resetZoom(element);\r\n        });\r\n\r\n        this.$scope.$on(WeeklySchedulerEvents.ZOOM_IN, (e) => {\r\n            this.zoomService.zoomIn(element);\r\n        });\r\n    }\r\n}\r\n\r\n/** @internal */\r\nexport class ScheduleAreaContainerComponent implements angular.IComponentOptions {\r\n    static $name = 'brScheduleAreaContainer';\r\n\r\n    controller = ScheduleAreaContainerController.$name;\r\n    transclude = true;\r\n\r\n    template = `<ng-transclude></ng-transclude>`;\r\n}\r\n","import * as angular from 'angular';\r\nimport { ScheduleCountValidatorService } from '../schedule-validator/ScheduleCountValidatorService';\r\nimport { WeeklySchedulerItem } from '../weekly-scheduler-item/WeeklySchedulerItem';\r\n\r\n/** @internal */\r\nexport class ScheduleCountDirective implements angular.IDirective {\r\n    static $name = 'brScheduleCount';\r\n\r\n    constructor(\r\n        private validator: ScheduleCountValidatorService\r\n    ) {\r\n    }\r\n\r\n    link = (scope: angular.IScope, element: angular.IAugmentedJQuery, attrs: angular.IAttributes, ngModelCtrl: angular.INgModelController) => {\r\n        if (attrs.brScheduleCount) {\r\n            ngModelCtrl.$validators[this.validator.error] = (modelValue: WeeklySchedulerItem<any>) => {\r\n                return this.validator.validate(modelValue.schedules, modelValue.config);\r\n            };\r\n        }\r\n    }\r\n\r\n    require = 'ngModel';\r\n\r\n    static Factory() {\r\n        let directive = (validator) => {\r\n            return new ScheduleCountDirective(validator);\r\n        };\r\n\r\n        directive.$inject = ['brWeeklySchedulerScheduleCountValidatorService'];\r\n\r\n        return directive;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { ScheduleCountDirective } from './ScheduleCountDirective';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.scheduleCount', [])\r\n    .directive(ScheduleCountDirective.$name, ScheduleCountDirective.Factory())\r\n    .name;\r\n","import { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { IWeeklySchedulerRange } from '../weekly-scheduler-range/IWeeklySchedulerRange';\r\nimport { ValidatorService } from '../schedule-validator/ValidatorService';\r\nimport { ValidationError } from '../weekly-scheduler-config/ValidationErrors';\r\n\r\n/** @internal */\r\nexport class FullCalendarValidatorService implements ValidatorService {\r\n    static $name = 'brWeeklySchedulerFullCalendarValidatorService';\r\n\r\n    get error() {\r\n        return ValidationError.FullCalendar;\r\n    }\r\n\r\n    public validate(schedules: IWeeklySchedulerRange<any>[], config: IWeeklySchedulerConfig<any>): boolean {\r\n        if (!config.fullCalendar) {\r\n            return true;\r\n        }\r\n\r\n        \r\n        // When this option is true we should enforce that there are no gaps in the schedules\r\n        let len = schedules.length;\r\n\r\n        // If there are no schedules, it automatically fails.\r\n        if (!len) {\r\n            return false;\r\n        }\r\n        \r\n        // If there was only one item we should check that it spans the whole range\r\n        if (len === 1) {\r\n            let schedule = schedules[0];\r\n            return this.validateStartAtMinValue(schedule.start) && this.validateEndAtMaxValue(schedule.end, config);\r\n        }\r\n\r\n        // If more, compare two at a time until the end\r\n        let loopLen = len - 1;\r\n        let result = true;\r\n\r\n        // Sort by start time first\r\n        let sortedSchedules = schedules.sort((a, b) => a.start > b.start ? 1 : -1);\r\n\r\n        for (let i = 0; i < loopLen; i++) {\r\n            let current = schedules[i];\r\n            let next = schedules[i + 1];\r\n            \r\n            // Validate that the first item lands at 0\r\n            if (i === 0 && !this.validateStartAtMinValue(current.start)) {\r\n                return false;\r\n            }\r\n\r\n            // Validate that the last item lands at maxValue\r\n            if (i === loopLen - 1 && !this.validateEndAtMaxValue(next.end, config)) {\r\n                return false;\r\n            }\r\n\r\n            result = result && current.end === next.start;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    private validateStartAtMinValue(start: number) {\r\n        return start === 0;\r\n    }\r\n\r\n    private validateEndAtMaxValue(end: number, config: IWeeklySchedulerConfig<any>) {\r\n        return (end || config.maxValue) === config.maxValue;\r\n    }\r\n}\r\n","import { EndAdjusterService } from '../end-adjuster/EndAdjusterService';\r\nimport { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { IWeeklySchedulerRange } from '../weekly-scheduler-range/IWeeklySchedulerRange';\r\nimport { ValidatorService } from '../schedule-validator/ValidatorService';\r\nimport { ValidationError } from '../weekly-scheduler-config/ValidationErrors';\r\n\r\n/** @internal */\r\nexport class MaxTimeSlotValidatorService implements ValidatorService {\r\n    static $name = 'brWeeklySchedulerMaxTimeSlotValidatorService';\r\n\r\n    static $inject = ['brWeeklySchedulerEndAdjusterService'];\r\n\r\n    private constructor(\r\n        private endAdjusterService: EndAdjusterService\r\n    ) {\r\n    }\r\n\r\n    get error() {\r\n        return ValidationError.MaxTimeSlot;\r\n    }\r\n\r\n    public validate(schedules: IWeeklySchedulerRange<any>[], config: IWeeklySchedulerConfig<any>): boolean {\r\n        let maxTimeSlot = config.maxTimeSlot;\r\n\r\n        if (!maxTimeSlot) {\r\n            return true;\r\n        }\r\n\r\n        return !schedules.some(s => s.value !== config.defaultValue && this.endAdjusterService.adjustEndForView(config, s.end) - s.start > maxTimeSlot);\r\n    }\r\n}\r\n","import { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { IWeeklySchedulerRange } from '../weekly-scheduler-range/IWeeklySchedulerRange';\r\nimport { ValidatorService } from '../schedule-validator/ValidatorService'\r\nimport { ValidationError } from '../weekly-scheduler-config/ValidationErrors';\r\n\r\n/** @internal */\r\nexport class MinimumSeparationValidatorService implements ValidatorService {\r\n    static $name = 'brWeeklySchedulerMinimumSeparationValidatorService';\r\n\r\n    get error() {\r\n        return ValidationError.MinimumSeparation;\r\n    }\r\n\r\n    public validate(schedules: IWeeklySchedulerRange<any>[], config: IWeeklySchedulerConfig<any>): boolean {\r\n        if (!config.minimumSeparation) {\r\n            return true;\r\n        }\r\n\r\n        const len = schedules.length;\r\n\r\n        if (len <= 1) {\r\n            return true;\r\n        }\r\n\r\n        const loopLen = len - 1;\r\n\r\n        schedules.sort((a, b) => a.start - b.start);\r\n\r\n        for (let i = 0; i < loopLen; i++) {\r\n            let currentSchedule = schedules[i];\r\n            let nextSchedule = schedules[i + 1];\r\n\r\n            if (nextSchedule.start - currentSchedule.end < config.minimumSeparation) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { IWeeklySchedulerRange } from '../weekly-scheduler-range/IWeeklySchedulerRange';\r\nimport { ValidatorService } from '../schedule-validator/ValidatorService'\r\nimport { ValidationError } from '../weekly-scheduler-config/ValidationErrors';\r\n\r\n/** @internal */\r\nexport class MonoScheduleValidatorService implements ValidatorService {\r\n    static $name = 'brWeeklySchedulerMonoScheduleValidatorService';\r\n\r\n    get error() {\r\n        return ValidationError.MonoSchedule;\r\n    }\r\n\r\n    /** Important note -- this does not validate that only one schedule exists per item, but rather that only one NON-DEFAULT schedule exists per item. */\r\n    public validate(schedules: IWeeklySchedulerRange<any>[], config: IWeeklySchedulerConfig<any>): boolean {\r\n        if (!config.monoSchedule) {\r\n            return true;\r\n        }\r\n\r\n        // If a default value is defined, schedules with default values don't count -- one non-default schedule per item.\r\n        let schedulesToValidate;\r\n\r\n        if (angular.isDefined(config.defaultValue)) {\r\n            schedulesToValidate = schedules.filter(schedule => schedule.value !== config.defaultValue);\r\n        } else {\r\n            schedulesToValidate = schedules;\r\n        }\r\n\r\n        // only allowed empty or 1 schedule per item\r\n        return !schedulesToValidate.length || schedulesToValidate.length === 1;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { IWeeklySchedulerRange } from '../weekly-scheduler-range/IWeeklySchedulerRange';\r\nimport { ValidatorService } from '../schedule-validator/ValidatorService'\r\nimport { ValidationError } from '../weekly-scheduler-config/ValidationErrors';\r\n\r\n/** @internal */\r\nexport class NullEndScheduleValidatorService implements ValidatorService {\r\n    static $name = 'brWeeklySchedulerNullEndValidatorService';\r\n\r\n    get error() {\r\n        return ValidationError.NullEnd;\r\n    }\r\n\r\n    validate(schedules: IWeeklySchedulerRange<any>[], config: IWeeklySchedulerConfig<any>): boolean {\r\n        if (config.nullEnds) {\r\n            return schedules.length <= 1 && schedules.every(schedule => schedule.end === null);\r\n        } else {\r\n            return schedules.every(schedule => schedule.end !== null);\r\n        }\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { IWeeklySchedulerRange } from '../weekly-scheduler-range/IWeeklySchedulerRange';\r\nimport { OverlapService } from '../overlap/OverlapService';\r\nimport { ValidatorService } from '../schedule-validator/ValidatorService'\r\nimport { OverlapState } from '../weekly-scheduler-config/OverlapStates';\r\nimport { ValidationError } from '../weekly-scheduler-config/ValidationErrors';\r\n\r\n/** @internal */\r\nexport class OverlapValidatorService implements ValidatorService {\r\n    static $name = 'brWeeklySchedulerOverlapValidatorService';\r\n\r\n    static $inject = [\r\n        'brWeeklySchedulerOverlapService'\r\n    ];\r\n    \r\n    private constructor(\r\n        private overlapService: OverlapService\r\n    ) {\r\n    }\r\n\r\n    get error() {\r\n        return ValidationError.Overlap;\r\n    }\r\n\r\n    public validate(schedules: IWeeklySchedulerRange<any>[], config: IWeeklySchedulerConfig<any>): boolean {\r\n        // Compare two at a time until the end\r\n        let len = schedules.length;\r\n        let result = true;\r\n\r\n        for (let i = 0; i < len - 1; i++) {\r\n            let current = schedules[i];\r\n            let next = schedules[i + 1];\r\n\r\n            let valuesMatch = current.value === next.value;\r\n\r\n            if (!valuesMatch) {\r\n                let overlapState = this.overlapService.getOverlapState(config, current, next);\r\n                result = result && [OverlapState.NoOverlap, OverlapState.OtherStartIsCurrentEnd, OverlapState.OtherEndIsCurrentStart].indexOf(overlapState) > -1;\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n}\r\n","import { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { IWeeklySchedulerRange } from '../weekly-scheduler-range/IWeeklySchedulerRange';\r\nimport { ValidatorService } from '../schedule-validator/ValidatorService'\r\nimport { ValidationError } from '../weekly-scheduler-config/ValidationErrors';\r\n\r\n/** @internal */\r\nexport class ScheduleCountValidatorService implements ValidatorService {\r\n    static $name = 'brWeeklySchedulerScheduleCountValidatorService';\r\n\r\n    get error() {\r\n        return ValidationError.ScheduleCount;\r\n    }\r\n\r\n    public validate(schedules: IWeeklySchedulerRange<any>[], config: IWeeklySchedulerConfig<any>): boolean {\r\n        if (!config.scheduleCountOptions.count) {\r\n            return true;    \r\n        }\r\n\r\n        if (config.scheduleCountOptions.exact) {\r\n            return this.validateExactCount(schedules, config);\r\n        } else {\r\n            return this.validateMaxCount(schedules, config);\r\n        }\r\n    }\r\n\r\n    private validateExactCount(schedules: IWeeklySchedulerRange<any>[], config: IWeeklySchedulerConfig<any>): boolean {\r\n        return schedules.length === config.scheduleCountOptions.count;\r\n    }\r\n\r\n    private validateMaxCount(schedules: IWeeklySchedulerRange<any>[], config: IWeeklySchedulerConfig<any>): boolean {\r\n        return schedules.length <= config.scheduleCountOptions.count;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { FullCalendarValidatorService } from './FullCalendarValidatorService';\r\nimport { MaxTimeSlotValidatorService } from './MaxTimeSlotValidatorService';\r\nimport { MinimumSeparationValidatorService } from './MinimumSeparationValidatorService';\r\nimport { MonoScheduleValidatorService } from './MonoScheduleValidatorService';\r\nimport { NullEndScheduleValidatorService } from './NullEndValidatorService';\r\nimport { OverlapValidatorService } from './OverlapValidatorService';\r\nimport { ScheduleCountValidatorService } from './ScheduleCountValidatorService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.scheduleValidation', [])\r\n    .service(FullCalendarValidatorService.$name, FullCalendarValidatorService)\r\n    .service(MaxTimeSlotValidatorService.$name, MaxTimeSlotValidatorService)\r\n    .service(MinimumSeparationValidatorService.$name, MinimumSeparationValidatorService)\r\n    .service(MonoScheduleValidatorService.$name, MonoScheduleValidatorService)\r\n    .service(NullEndScheduleValidatorService.$name, NullEndScheduleValidatorService)\r\n    .service(OverlapValidatorService.$name, OverlapValidatorService)\r\n    .service(ScheduleCountValidatorService.$name, ScheduleCountValidatorService)\r\n    .name;\r\n","import { ZoomService } from '../zoom/ZoomService';\r\n\r\n/** @internal */\r\nexport class ScrollService {\r\n    static $name = 'brWeeklySchedulerScrollService';\r\n\r\n    static $inject = [\r\n        'brWeeklySchedulerZoomService'\r\n    ];\r\n\r\n    private constructor(\r\n        private zoomService: ZoomService\r\n    ) {\r\n    }\r\n\r\n    public hijackScroll(element, delta) {\r\n        element.addEventListener('mousewheel', (event: WheelEvent) => {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n\r\n            if (event.ctrlKey) {\r\n                this.zoomService.zoomByScroll(element, event, delta);\r\n            } else {\r\n                if ((event.wheelDelta || event.detail) > 0) {\r\n                    element.scrollLeft -= delta;\r\n                } else {\r\n                    element.scrollLeft += delta;\r\n                }\r\n            }\r\n\r\n            return false;\r\n        });\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { ScrollService } from './ScrollService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.scroll', [])\r\n    .service(ScrollService.$name, ScrollService)\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { IWeeklySchedulerRange } from '../weekly-scheduler-range/IWeeklySchedulerRange';\r\n\r\n/** @internal */\r\nexport class TimeRangeComponent implements angular.IComponentOptions {\r\n    static $name = 'brTimeRange';\r\n\r\n    bindings = {\r\n        schedule: '<'\r\n    }\r\n\r\n    controller = TimeRangeController.$name;\r\n    controllerAs = TimeRangeController.$controllerAs;\r\n\r\n    template = `\r\n        <span ng-if=\"timeRangeCtrl.hasStart && timeRangeCtrl.hasEnd\">{{ timeRangeCtrl.schedule.start | brWeeklySchedulerTimeOfDay }}-{{ timeRangeCtrl.schedule.end | brWeeklySchedulerTimeOfDay }}</span>\r\n        <span ng-if=\"timeRangeCtrl.hasStart && !timeRangeCtrl.hasEnd\">{{ timeRangeCtrl.schedule.start | brWeeklySchedulerTimeOfDay }} until</span>\r\n    `\r\n}\r\n\r\n/** @internal */\r\nexport class TimeRangeController implements angular.IComponentController {\r\n    static $controllerAs = 'timeRangeCtrl';\r\n    static $name = 'brTimeRangeController';\r\n\r\n    private hasStart: boolean;\r\n    private hasEnd: boolean;\r\n\r\n    private schedule: IWeeklySchedulerRange<any>;\r\n\r\n    $onInit() {\r\n        this.hasStart = angular.isDefined(this.schedule.start);\r\n        this.hasEnd = angular.isDefined(this.schedule.end) && this.schedule.end !== null;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { TimeRangeComponent, TimeRangeController } from './TimeRangeComponent';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.timeRange', [])\r\n    .component(TimeRangeComponent.$name, new TimeRangeComponent())\r\n    .controller(TimeRangeController.$name, TimeRangeController)\r\n    .name;\r\n","import { TimeConstantsService } from './TimeConstantsService';\r\n\r\n/** @internal */\r\nexport class SecondsAsTextFilter {\r\n    static $name = 'brWeeklySchedulerSecondsAsText';\r\n\r\n    public static Factory() {\r\n        let factoryFunction = (timeConstants: TimeConstantsService) => {\r\n            return function(seconds: number): string {\r\n                let result = ``;\r\n\r\n                let hours = Math.floor(seconds / timeConstants.SECONDS_IN_HOUR);\r\n\r\n                result = SecondsAsTextFilter.addHoursToResult(result, hours);\r\n\r\n                seconds -= hours * timeConstants.SECONDS_IN_HOUR;\r\n\r\n                let minutes = Math.floor(seconds / timeConstants.SECONDS_IN_MINUTE);\r\n\r\n                result = SecondsAsTextFilter.addMinutesToResult(result, minutes);\r\n\r\n                seconds -= minutes * timeConstants.SECONDS_IN_MINUTE;\r\n\r\n                result = SecondsAsTextFilter.addSecondsToResult(result, seconds);\r\n\r\n                if (!result) {\r\n                    result = 'none';\r\n                }\r\n\r\n                return result;\r\n            }\r\n        };\r\n\r\n        factoryFunction.$inject = ['brWeeklySchedulerTimeConstantsService'];\r\n\r\n        return factoryFunction;\r\n    }\r\n\r\n    private static addHoursToResult(result: string, hours: number) {\r\n        if (hours) {\r\n            result += `${hours} hours`;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    private static addMinutesToResult(result: string, minutes: number) {\r\n        if (minutes) {\r\n            if (result) {\r\n                result += ` `;\r\n            }\r\n\r\n            result += `${minutes} minute${minutes > 1 ? 's' : ''}`; \r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    private static addSecondsToResult(result: string, seconds: number) {\r\n        if (seconds) {\r\n            if (result) {\r\n                result += ` `;\r\n            }\r\n\r\n            result += `${seconds} second${seconds > 1 ? 's' : ''}`;\r\n        }\r\n\r\n        return result;\r\n    }\r\n}\r\n","/** @internal */\r\nexport class TimeConstantsService {\r\n    static $name = 'brWeeklySchedulerTimeConstantsService';\r\n\r\n    public get SECONDS_IN_DAY() {\r\n        return this.MINUTES_IN_DAY * this.SECONDS_IN_MINUTE; \r\n    }\r\n\r\n    public get SECONDS_IN_HOUR() {\r\n        return this.SECONDS_IN_MINUTE * this.MINUTES_IN_HOUR;\r\n    }\r\n\r\n    public get SECONDS_IN_MINUTE() {\r\n        return 60;\r\n    }\r\n\r\n    public get HOURS_IN_DAY() {\r\n        return 24;\r\n    }\r\n\r\n    public get MINUTES_IN_DAY() {\r\n        return this.MINUTES_IN_HOUR * this.HOURS_IN_DAY;\r\n    }\r\n\r\n    public get MINUTES_IN_HOUR() {\r\n        return 60;\r\n    }\r\n}\r\n","import { TimeConstantsService } from './TimeConstantsService';\r\n\r\n/** @internal */\r\nexport class TimeOfDayFilter {\r\n    static $name = 'brWeeklySchedulerTimeOfDay';\r\n\r\n    public static Factory() {\r\n        let factoryFunction = (timeConstants: TimeConstantsService) => {\r\n            return function(seconds: number): string {\r\n                let hours = Math.floor(seconds / timeConstants.SECONDS_IN_HOUR);\r\n                let meridiem = hours > 11 && hours < 24 ? 'P' : 'A';\r\n\r\n                seconds -= hours * timeConstants.SECONDS_IN_HOUR;\r\n\r\n                let minutes = Math.floor(seconds / timeConstants.SECONDS_IN_MINUTE);\r\n                seconds -= minutes * timeConstants.SECONDS_IN_MINUTE;\r\n\r\n                let remainingMinutes = minutes.toString()\r\n\r\n                if (remainingMinutes.length == 1) {\r\n                    remainingMinutes = '0' + remainingMinutes;\r\n                }\r\n\r\n                let displayHours = hours % 12 || 12;\r\n\r\n                if (!seconds) {\r\n                    return `${displayHours}:${remainingMinutes}${meridiem}`;\r\n                } else {\r\n                    return `${displayHours}:${remainingMinutes}:${seconds}${meridiem}`;\r\n                }\r\n            }\r\n        };\r\n\r\n        factoryFunction.$inject = ['brWeeklySchedulerTimeConstantsService']\r\n\r\n        return factoryFunction;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { SecondsAsTextFilter } from './SecondsAsTextFilter';\r\nimport { TimeConstantsService } from './TimeConstantsService';\r\nimport { TimeOfDayFilter } from './TimeOfDayFilter';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.time', [])\r\n    .filter(SecondsAsTextFilter.$name, SecondsAsTextFilter.Factory()) \r\n    .filter(TimeOfDayFilter.$name, TimeOfDayFilter.Factory())\r\n    .service(TimeConstantsService.$name, TimeConstantsService)\r\n    .name;\r\n","/** @internal */\r\nexport class TouchService {\r\n    static $name = 'brWeeklySchedulerTouchService';\r\n\r\n    public getTouches(event: any): any { // todo\r\n        if (event.originalEvent) {\r\n            if (event.originalEvent.touches && event.originalEvent.touches.length) {\r\n                return event.originalEvent.touches;\r\n            } else if (event.originalEvent.changedTouches && event.originalEvent.changedTouches.length) {\r\n                return event.originalEvent.changedTouches;\r\n            }\r\n        }\r\n\r\n        if (!event.touches) {\r\n            event.touches = [event.originalEvent];\r\n        }\r\n\r\n        return event.touches;\r\n    }\r\n    \r\n    public getPageX(event: any): number {\r\n        let touches = this.getTouches(event);\r\n\r\n        if (touches && touches.length && touches[0]) {\r\n            return touches[0].pageX;\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { TouchService } from './TouchService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.touch', [])\r\n    .service(TouchService.$name, TouchService)\r\n    .name;\r\n","/** @internal */\r\nexport class ValueNormalizationService {\r\n    static $name = 'brWeeklySchedulerValueNormalizationService';\r\n\r\n    public normalizeValue(value: number, min: number, max: number) {\r\n        if (value < min) {\r\n            return min;\r\n        }\r\n\r\n        if (value > max) {\r\n            return max;\r\n        }\r\n\r\n        return value;\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { ValueNormalizationService } from './ValueNormalizationService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.valueNormalization', [])\r\n    .service(ValueNormalizationService.$name, ValueNormalizationService)\r\n    .name;\r\n","import { Days } from '../weekly-scheduler-config/Days';\r\n\r\n/** Ahhahhahh! Fighter of the NightMap! */\r\n/** @internal */\r\nexport class DayMap {\r\n    static $name = 'brWeeklySchedulerDayMap';\r\n    \r\n    static value = {\r\n        [Days.Monday]: 'Mon',\r\n        [Days.Tuesday]: 'Tue',\r\n        [Days.Wednesday]: 'Wed',\r\n        [Days.Thursday]: 'Thur',\r\n        [Days.Friday]: 'Fri',\r\n        [Days.Saturday]: 'Sat',\r\n        [Days.Sunday]: 'Sun' \r\n    }\r\n}\r\n","/** @internal */\r\nexport class NullEndWidth {\r\n    static $name = 'brWeeklySchedulerNullEndWidth';\r\n\r\n    static value = 7200; \r\n}\r\n","import * as angular from 'angular';\r\nimport { DayMap } from './DayMap';\r\nimport { NullEndWidth } from './NullEndWidth';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.weeklySchedulerConfig', [])\r\n    .constant(DayMap.$name, DayMap.value)\r\n    .constant(NullEndWidth.$name, NullEndWidth.value)\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { Days } from '../weekly-scheduler-config/Days';\r\nimport { FillEmptyWithDefaultService } from '../fill-empty-with-default/FillEmptyWithDefaultService';\r\nimport { IInternalWeeklySchedulerItem } from '../weekly-scheduler-item/IInternalWeeklySchedulerItem';\r\nimport { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { IWeeklySchedulerRange } from '../weekly-scheduler-range/IWeeklySchedulerRange';\r\nimport { OverlapService } from '../overlap/OverlapService';\r\nimport { PurgeDefaultService } from '../purge-default/PurgeDefaultService';\r\nimport { WeeklySchedulerRange } from '../weekly-scheduler-range/WeeklySchedulerRange';\r\nimport { WeeklySchedulerRangeFactory } from '../weekly-scheduler-range/WeeklySchedulerRangeFactory';\r\nimport { OverlapState } from '../weekly-scheduler-config/OverlapStates';\r\n\r\n/** Provides common functionality for an item -- pass it in and the resulting object will allow you to operate on it */\r\n/** @internal */\r\nexport class WeeklySchedulerItem<T> implements IInternalWeeklySchedulerItem<T> {\r\n    $isGhostOrigin: boolean;\r\n    $renderGhost: boolean;\r\n    day: Days;\r\n    editable: boolean;\r\n    label: string;\r\n    schedules: WeeklySchedulerRange<T>[];\r\n\r\n    constructor(\r\n        public config: IWeeklySchedulerConfig<T>,\r\n        item: IInternalWeeklySchedulerItem<T>,\r\n        private fillEmptyWithDefaultService: FillEmptyWithDefaultService,\r\n        private overlapService: OverlapService,\r\n        private purgeDefaultService: PurgeDefaultService,\r\n        private rangeFactory: WeeklySchedulerRangeFactory\r\n    ) {\r\n        this.day = item.day;\r\n        this.editable = angular.isDefined(item.editable) ? item.editable : true;\r\n        this.label = item.label;\r\n        this.schedules = item.schedules.map(schedule => rangeFactory.createRange(config, schedule));\r\n    }\r\n\r\n    public addSchedule(schedule: IWeeklySchedulerRange<T>) {\r\n        schedule.day = this.day;\r\n        const range = this.rangeFactory.createRange(this.config, schedule);\r\n        this.schedules.push(range);\r\n\r\n        return range;\r\n    }\r\n\r\n    public addScheduleAndMerge(schedule: IWeeklySchedulerRange<T>) {\r\n        let range = this.addSchedule(schedule);\r\n        this.mergeSchedule(range);\r\n\r\n        return range;\r\n    }\r\n\r\n    public canAddSchedule() {\r\n        if (this.config.nullEnds) {\r\n            return this.hasNoSchedules();\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    /** Determine if the conditions allow for a pop-up editor */\r\n    public canEdit() {\r\n        let hasEditFunction = angular.isFunction(this.config.editSlot);\r\n\r\n        return this.editable && hasEditFunction;\r\n    }\r\n\r\n    /** Determine if a schedule is able to be modified */\r\n    public canEditSchedule(schedule: WeeklySchedulerRange<T>) {\r\n        let itemIsEditable = this.editable;\r\n        let scheduleIsEditable = schedule.editable;\r\n\r\n        return itemIsEditable && scheduleIsEditable;\r\n    }\r\n\r\n    /**\r\n     * Rather than having to deal with modifying mergeOverlaps to handle nullEnds calendars,\r\n     * just prevent the user from creating additional slots in nullEnds calendars unless there are no slots there already.\r\n     */\r\n    public canRenderGhost() {\r\n        // This one needs to come first, otherwise renderGhost being set to true would override the protection against addt'l slots in nullEnd calendars\r\n        if (this.config.nullEnds) {\r\n            return this.$renderGhost && this.hasNoSchedules();\r\n        }\r\n\r\n        return this.$renderGhost;\r\n    }\r\n\r\n    public hasSchedule(schedule: WeeklySchedulerRange<T>) {\r\n        return this.schedules.indexOf(schedule) > -1;\r\n    }\r\n\r\n    public hasNoSchedules() {\r\n        return this.schedules.length === 0;\r\n    }\r\n\r\n    public fillEmptySlotsWithDefaultSchedules() {\r\n        this.schedules = this.fillEmptyWithDefaultService.fill(this, this.config);\r\n    }\r\n\r\n    public forceNullEnds() {\r\n        this.schedules.forEach(s => s.end = null);\r\n    }\r\n\r\n    public mergeOverlaps() {\r\n        do {\r\n            this.schedules.forEach(schedule => this.mergeOverlapsForSchedule(schedule));\r\n        } while (this.needsOverlapsMerged());\r\n    }\r\n\r\n    public mergeSchedule(schedule: WeeklySchedulerRange<any>) {\r\n        // We consider the schedule we were working with to be the most important, so handle its overlaps first.\r\n        this.mergeOverlapsForSchedule(schedule);\r\n        this.mergeOverlaps();\r\n    }\r\n\r\n    public purgeDefaultSchedules() {\r\n        this.schedules = this.purgeDefaultService.purge(this.schedules, this.config);\r\n    }\r\n\r\n    public removeSchedule(schedule: WeeklySchedulerRange<T>) {\r\n        let schedules = this.schedules;\r\n\r\n        schedules.splice(schedules.indexOf(schedule), 1);\r\n\r\n        this.config.onRemove();\r\n    }\r\n\r\n    // Overlap handlers\r\n\r\n    private getOverlapHandler(overlapState: OverlapState) {\r\n        const overlapHandlers: { [key: number]: (current: WeeklySchedulerRange<any>, other: WeeklySchedulerRange<any>) => void; } = {\r\n            [OverlapState.NoOverlap]: (current, other) => this.handleNoOverlap(current, other),\r\n            [OverlapState.CurrentIsInsideOther]: (current, other) => this.handleCurrentIsInsideOther(current, other),\r\n            [OverlapState.CurrentCoversOther]: (current, other) => this.handleCurrentCoversOther(current, other),\r\n            [OverlapState.OtherEndIsInsideCurrent]: (current, other) => this.handleOtherEndIsInsideCurrent(current, other),\r\n            [OverlapState.OtherStartIsInsideCurrent]: (current, other) => this.handleOtherStartIsInsideCurrent(current, other),\r\n            [OverlapState.OtherEndIsCurrentStart]: (current, other) => this.handleOtherEndIsCurrentStart(current, other),\r\n            [OverlapState.OtherStartIsCurrentEnd]: (current, other) => this.handleOtherStartIsCurrentEnd(current, other)\r\n        };\r\n\r\n        return overlapHandlers[overlapState];\r\n    }\r\n\r\n    private handleCurrentCoversOther(current: WeeklySchedulerRange<any>, other: WeeklySchedulerRange<any>): void {\r\n        this.removeSchedule(other);\r\n    }\r\n\r\n    private handleCurrentIsInsideOther(current: WeeklySchedulerRange<any>, other: WeeklySchedulerRange<any>): void {\r\n        if (current.hasSameValueAs(other)) {\r\n            // Remove 'other' & make current expand to fit the other slot\r\n            this.removeSchedule(other);\r\n\r\n            current.update({\r\n                day: other.day,\r\n                start: other.start,\r\n                end: other.end,\r\n                value: other.value\r\n            });\r\n        } else {\r\n            // Just remove 'current'\r\n            this.removeSchedule(current);\r\n        }\r\n    }\r\n\r\n    private handleNoOverlap(current: IWeeklySchedulerRange<any>, other: IWeeklySchedulerRange<any>) {\r\n        // Do nothing\r\n    }\r\n\r\n    private handleOtherEndIsInsideCurrent(current: WeeklySchedulerRange<any>, other: WeeklySchedulerRange<any>): void {\r\n        if (current.hasSameValueAs(other)) {\r\n            this.removeSchedule(other);\r\n\r\n            current.update({\r\n                day: current.day,\r\n                start: other.start,\r\n                end: current.end,\r\n                value: other.value\r\n            });\r\n        } else {\r\n            other.update({\r\n                day: other.day,\r\n                start: other.start,\r\n                end: current.start,\r\n                value: current.value\r\n            });\r\n        }\r\n    }\r\n\r\n    private handleOtherStartIsInsideCurrent(current: WeeklySchedulerRange<any>, other: WeeklySchedulerRange<any>): void {\r\n        if (current.hasSameValueAs(other)) {\r\n            this.removeSchedule(other);\r\n\r\n            current.update({\r\n                day: current.day,\r\n                start: current.start,\r\n                end: other.end,\r\n                value: other.value\r\n            });\r\n        } else {\r\n            other.update({\r\n                day: other.day,\r\n                start: current.end,\r\n                end: other.end,\r\n                value: other.value\r\n            });\r\n        }\r\n    }\r\n\r\n    private handleOtherEndIsCurrentStart(current: WeeklySchedulerRange<any>, other: WeeklySchedulerRange<any>): void {\r\n        if (current.hasSameValueAs(other)) {\r\n            this.handleOtherEndIsInsideCurrent(current, other);\r\n        } else {\r\n            // DO NOTHING, this is okay if the values don't match\r\n        }\r\n    }\r\n\r\n    private handleOtherStartIsCurrentEnd(current: WeeklySchedulerRange<any>, other: WeeklySchedulerRange<any>): void {\r\n        if (current.hasSameValueAs(other)) {\r\n            this.handleOtherStartIsInsideCurrent(current, other);\r\n        } else {\r\n            // DO NOTHING, this is okay if the values don't match\r\n        }\r\n    }\r\n\r\n    // End overlap handlers\r\n    private mergeOverlapsForSchedule(schedule: WeeklySchedulerRange<any>) {\r\n        let schedules = this.schedules;\r\n\r\n        schedules.forEach(el => {\r\n            if (!el.equals(schedule)) {\r\n                let schedulesBothEditable = el.editable && schedule.editable;\r\n\r\n                if (schedulesBothEditable) {\r\n                    let overlapState = this.overlapService.getOverlapState(this.config, schedule, el);\r\n                    let overlapHandler = this.getOverlapHandler(overlapState);\r\n\r\n                    overlapHandler(schedule, el);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private needsOverlapsMerged() {\r\n        let len = this.schedules.length;\r\n\r\n        // Compare two at a time\r\n        for (let i = 0; i < len - 1; i += 1) {\r\n            let current = this.schedules[i];\r\n            let next = this.schedules[i + 1];\r\n\r\n            let schedulesBothEditable = current.editable && next.editable;\r\n\r\n            if (!schedulesBothEditable) {\r\n                return false;\r\n            }\r\n\r\n            if (current.hasSameValueAs(next)) {\r\n                let overlapState = this.overlapService.getOverlapState(this.config, current, next);\r\n\r\n                return [OverlapState.OtherEndIsCurrentStart, OverlapState.OtherStartIsCurrentEnd].indexOf(overlapState) > -1;\r\n            }\r\n        }\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { DayMap } from '../weekly-scheduler-config/DayMap';\r\nimport { FillEmptyWithDefaultService } from '../fill-empty-with-default/FillEmptyWithDefaultService';\r\nimport { IInternalWeeklySchedulerItem } from '../weekly-scheduler-item/IInternalWeeklySchedulerItem';\r\nimport { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { IWeeklySchedulerItem } from '../weekly-scheduler-item/IWeeklySchedulerItem';\r\nimport { IWeeklySchedulerRange } from '../weekly-scheduler-range/IWeeklySchedulerRange';\r\nimport { OverlapService } from '../overlap/OverlapService';\r\nimport { PurgeDefaultService } from '../purge-default/PurgeDefaultService';\r\nimport { WeeklySchedulerItem } from '../weekly-scheduler-item/WeeklySchedulerItem';\r\nimport { WeeklySchedulerRangeFactory } from '../weekly-scheduler-range/WeeklySchedulerRangeFactory';\r\n\r\n/** @internal */\r\nexport class WeeklySchedulerItemFactory {\r\n    static $name = 'brWeeklySchedulerItemFactory';\r\n\r\n    static $inject = [\r\n        'brWeeklySchedulerDayMap',\r\n        'brWeeklySchedulerFillEmptyWithDefaultService',\r\n        'brWeeklySchedulerOverlapService',\r\n        'brWeeklySchedulerPurgeDefaultService',\r\n        'brWeeklySchedulerRangeFactory'\r\n    ];\r\n\r\n    private constructor(\r\n        private dayMap: DayMap,\r\n        private fillEmptyWithDefaultService: FillEmptyWithDefaultService,\r\n        private overlapService: OverlapService,\r\n        private purgeDefaultService: PurgeDefaultService,\r\n        private rangeFactory: WeeklySchedulerRangeFactory\r\n    ) {\r\n    }\r\n\r\n    public createItem(config: IWeeklySchedulerConfig<any>, day: number, schedules: IWeeklySchedulerRange<any>[]) {\r\n        let result: IInternalWeeklySchedulerItem<any>;\r\n\r\n        let builder: IWeeklySchedulerItem<any> = config.createItem(day, schedules);\r\n    \r\n        result = angular.extend(builder, { label: this.dayMap[day] });\r\n    \r\n        return new WeeklySchedulerItem(config, result, this.fillEmptyWithDefaultService, this.overlapService, this.purgeDefaultService, this.rangeFactory);\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { WeeklySchedulerItemFactory } from './WeeklySchedulerItemFactory';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.weeklySchedulerItem', [])\r\n    .service(WeeklySchedulerItemFactory.$name, WeeklySchedulerItemFactory)\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { Days } from '../weekly-scheduler-config/Days';\r\nimport { EndAdjusterService } from '../end-adjuster/EndAdjusterService';\r\nimport { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { IWeeklySchedulerRange } from './IWeeklySchedulerRange';\r\n\r\n\r\n/** Provides common functionality for a schedule -- pass it in and the resulting object will allow you to operate on it */\r\n/** @internal */\r\nexport class WeeklySchedulerRange<T> implements IWeeklySchedulerRange<T> {\r\n    $class: string;\r\n    $isActive: boolean;\r\n    $isDeleting: boolean;\r\n    $isEditing: boolean;\r\n\r\n    day: Days;\r\n    start: number;\r\n    end: number;\r\n    value: T;\r\n\r\n    editable: boolean;\r\n\r\n    constructor(\r\n        private config: IWeeklySchedulerConfig<T>,\r\n        schedule: IWeeklySchedulerRange<T>,\r\n        private endAdjusterService: EndAdjusterService\r\n    ) {\r\n        this.$class = schedule.$class;\r\n        this.$isActive = schedule.$isActive;\r\n        this.$isDeleting = schedule.$isDeleting;\r\n        this.$isEditing = schedule.$isEditing;\r\n        this.day = schedule.day;\r\n        this.start = schedule.start;\r\n        this.end = schedule.end;\r\n        this.value = schedule.value;\r\n        this.editable = angular.isDefined(schedule.editable) ? schedule.editable : true;\r\n    }\r\n\r\n    get duration() {\r\n        return this.end - this.start;\r\n    }\r\n\r\n    public equals(other: WeeklySchedulerRange<T>) {\r\n        return angular.equals(this, other);\r\n    }\r\n\r\n    public hasSameValueAs(other: WeeklySchedulerRange<T>) {\r\n        return this.value === other.value;\r\n    }\r\n\r\n    public update(updatedSchedule: IWeeklySchedulerRange<T>) {\r\n        let updatedStart = this.updateStart(updatedSchedule.start);\r\n        let updatedEnd = this.updateEnd(updatedSchedule.end);\r\n\r\n        if (updatedStart || updatedEnd) {\r\n            this.config.onChange();\r\n        }\r\n    }\r\n\r\n    public updateEnd(updatedEnd: number) {\r\n        if (this.canUpdateEnd(updatedEnd)) {\r\n            this.end = this.endAdjusterService.adjustEndForModel(this.config, updatedEnd);\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    public updateStart(updatedStart: number) {\r\n        if (this.canUpdateStart(updatedStart)) {\r\n            this.start = updatedStart;\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    private canUpdateEnd(updatedEnd: number) {\r\n        let changed = this.end !== updatedEnd;\r\n        let newEndBeforeOrAtMax = updatedEnd <= this.config.maxValue;\r\n        let newEndAfterOrAtExistingStart = this.endAdjusterService.adjustEndForView(this.config, updatedEnd) >= this.start + 1;\r\n\r\n        return changed && newEndBeforeOrAtMax && newEndAfterOrAtExistingStart;\r\n    }\r\n\r\n    private canUpdateStart(updatedStart: number) {\r\n        let changed = this.start !== updatedStart;\r\n        let newStartBeforeOrAtExistingEnd = updatedStart <= this.endAdjusterService.adjustEndForView(this.config, this.end) - 1;\r\n        let newStartAfterOrAtMin = updatedStart >= 0;\r\n\r\n        return changed && (this.config.nullEnds || newStartBeforeOrAtExistingEnd) && newStartAfterOrAtMin;\r\n    }\r\n}\r\n","import { EndAdjusterService } from '../end-adjuster/EndAdjusterService';\r\nimport { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { IWeeklySchedulerRange } from '../weekly-scheduler-range/IWeeklySchedulerRange';\r\nimport { WeeklySchedulerRange } from '../weekly-scheduler-range/WeeklySchedulerRange';\r\n\r\n/** @internal */\r\nexport class WeeklySchedulerRangeFactory {\r\n    static $name = 'brWeeklySchedulerRangeFactory';\r\n\r\n    static $inject = [\r\n        'brWeeklySchedulerEndAdjusterService'\r\n    ];\r\n\r\n    private constructor(\r\n        private endAdjusterService: EndAdjusterService\r\n    ) {\r\n    }\r\n\r\n    public createRange(config: IWeeklySchedulerConfig<any>, schedule: IWeeklySchedulerRange<any>) {\r\n        return new WeeklySchedulerRange(config, schedule, this.endAdjusterService);\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { WeeklySchedulerRangeFactory } from './WeeklySchedulerRangeFactory';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.weeklySchedulerRange', [])\r\n    .service(WeeklySchedulerRangeFactory.$name, WeeklySchedulerRangeFactory)\r\n    .name;\r\n","import * as angular from 'angular';\r\nimport { WeeklySchedulerComponent, WeeklySchedulerController } from './weekly-scheduler';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.weeklyScheduler', [])\r\n    .component(WeeklySchedulerComponent.$name, new WeeklySchedulerComponent())\r\n    .controller(WeeklySchedulerController.$name, WeeklySchedulerController)\r\n    .name;\r\n","module.exports = \"<div ng-if=\\\"!schedulerCtrl.invalidMessage\\\">\\r\\n  <div class=\\\"labels\\\">\\r\\n    <div class=\\\"srow dummy\\\"></div>\\r\\n    <div class=\\\"srow schedule-animate\\\" ng-repeat=\\\"item in schedulerCtrl.items track by item.day\\\">\\r\\n      {{ item.label }}\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <br-schedule-area-container>\\r\\n    <div class=\\\"schedule-area\\\">\\r\\n\\r\\n      <div class=\\\"srow timestamps\\\">\\r\\n        <br-hourly-grid></br-hourly-grid>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"srow calendar schedule-animate\\\" ng-repeat=\\\"item in schedulerCtrl.items track by item.day\\\">\\r\\n        <br-hourly-grid no-text></br-hourly-grid>\\r\\n        <br-multi-slider config=\\\"schedulerCtrl.config\\\"\\r\\n                        br-full-calendar=\\\"{{ schedulerCtrl.config.fullCalendar }}\\\"\\r\\n                        br-max-time-slot=\\\"{{ schedulerCtrl.config.maxTimeSlot }}\\\"\\r\\n                        br-minimum-separation=\\\"{{ schedulerCtrl.config.minimumSeparation }}\\\"\\r\\n                        br-mono-schedule=\\\"{{ schedulerCtrl.config.monoSchedule }}\\\"\\r\\n                        br-null-end=\\\"{{ schedulerCtrl.config.nullEnds }}\\\"\\r\\n                        br-schedule-count=\\\"{{ schedulerCtrl.config.scheduleCountOptions && schedulerCtrl.config.scheduleCountOptions.count }}\\\"\\r\\n                        br-overlap\\r\\n                        br-revalidate\\r\\n                        drag-schedule=\\\"schedulerCtrl.dragSchedule\\\"\\r\\n                        ghost-values=\\\"schedulerCtrl.ghostValues\\\"\\r\\n                        ng-model=\\\"item\\\"\\r\\n                        ng-model-options=\\\"{allowInvalid: true}\\\"\\r\\n                        set-ghost-values=\\\"schedulerCtrl.setGhostValues(ghostValues)\\\"\\r\\n        ></br-multi-slider>\\r\\n      </div>\\r\\n    </div>\\r\\n  </br-schedule-area-container>\\r\\n\\r\\n  <br-restriction-explanations></br-restriction-explanations>\\r\\n\\r\\n  <div class=\\\"srow buttons\\\">\\r\\n    <button ng-class=\\\"schedulerCtrl.config.buttonClasses\\\" type=\\\"button\\\" ng-click=\\\"schedulerCtrl.rollback()\\\" ng-disabled=\\\"!schedulerCtrl.formController.$dirty\\\">Reset</button>\\r\\n    <button ng-class=\\\"schedulerCtrl.config.buttonClasses\\\" type=\\\"button\\\" ng-click=\\\"schedulerCtrl.save()\\\" ng-disabled=\\\"!schedulerCtrl.formController.$dirty || !schedulerCtrl.formController.$valid\\\" ng-if=\\\"schedulerCtrl.config.saveScheduler\\\">Save</button>\\r\\n    <button ng-class=\\\"schedulerCtrl.config.buttonClasses\\\" type=\\\"button\\\" ng-click=\\\"schedulerCtrl.resetZoom()\\\">Zoom Out</button>\\r\\n    <button ng-class=\\\"schedulerCtrl.config.buttonClasses\\\" type=\\\"button\\\" ng-click=\\\"schedulerCtrl.zoomIn()\\\">Zoom In</button>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"srow\\\" ng-if=\\\"schedulerCtrl.invalidMessage\\\">\\r\\n  {{ schedulerCtrl.invalidMessage }}\\r\\n</div>\";","import * as angular from 'angular';\r\nimport { AdapterService } from '../adapter/AdapterService';\r\nimport { ConfigurationService } from '../configuration/ConfigurationService';\r\nimport { ConflictingOptionsService } from '../conflicting-options/ConflictingOptionsService';\r\nimport { LastGhostDayService } from '../last-ghost-day/LastGhostDayService';\r\nimport { MissingDaysService } from '../missing-days/MissingDaysService';\r\nimport { IWeeklySchedulerAdapter } from '../adapter/IWeeklySchedulerAdapter';\r\nimport { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { IWeeklySchedulerOptions } from '../weekly-scheduler-config/IWeeklySchedulerOptions';\r\nimport { WeeklySchedulerItem } from '../weekly-scheduler-item/WeeklySchedulerItem';\r\nimport { WeeklySchedulerRange } from '../weekly-scheduler-range/WeeklySchedulerRange';\r\nimport { WeeklySchedulerEvents } from '../weekly-scheduler-config/WeeklySchedulerEvents';\r\n\r\n/** @internal */\r\nexport class WeeklySchedulerController implements angular.IController {\r\n  static $controllerAs = 'schedulerCtrl';\r\n  static $name = 'brWeeklySchedulerController';\r\n\r\n  static $inject = [\r\n    '$element',\r\n    '$scope',\r\n    '$timeout',\r\n    'brWeeklySchedulerAdapterService',\r\n    'brWeeklySchedulerConfigurationService',\r\n    'brWeeklySchedulerConflictingOptionsService',\r\n    'brWeeklySchedulerLastGhostDayService',\r\n    'brWeeklySchedulerMissingDaysService'\r\n  ];\r\n\r\n  constructor(\r\n    private $element: angular.IAugmentedJQuery,\r\n    private $scope: angular.IScope,\r\n    private $timeout: angular.ITimeoutService,\r\n    private adapterService: AdapterService,\r\n    private configurationService: ConfigurationService,\r\n    private conflictingOptionsService: ConflictingOptionsService,\r\n    private lastGhostDayService: LastGhostDayService,\r\n    private missingDaysService: MissingDaysService,\r\n  ) {\r\n  }\r\n\r\n  private _originalItems: WeeklySchedulerItem<any>[];\r\n\r\n  private adapter: IWeeklySchedulerAdapter<any, any>;\r\n\r\n  public invalidMessage: string = '';\r\n\r\n  private dragSchedule: WeeklySchedulerRange<any>;\r\n\r\n  private ghostValues: { left: number, right: number };\r\n\r\n  /** this is required to be part of a form for dirty/valid checks */\r\n  public formController: angular.IFormController;\r\n\r\n  public hoverClass: string;\r\n\r\n  public config: IWeeklySchedulerConfig<any>;\r\n  public items: WeeklySchedulerItem<any>[];\r\n  public options: IWeeklySchedulerOptions<any>;\r\n\r\n  $onInit() {\r\n    this.config = this.configurationService.getConfiguration(this.options);\r\n    this.buildItemsFromAdapter();\r\n    this.watchAdapter();\r\n    this.watchHoverClass();\r\n  }\r\n\r\n  $postLink() {\r\n    this.$scope.$on(WeeklySchedulerEvents.SLOT_DRAGGED, (event: angular.IAngularEvent, schedule: WeeklySchedulerRange<any>) => {\r\n      this.dragSchedule = schedule;\r\n    });\r\n\r\n    this.$scope.$on(WeeklySchedulerEvents.DRAG_ENDED, () => {\r\n      this.dragSchedule = null;\r\n    });\r\n\r\n    this.$scope.$on(WeeklySchedulerEvents.GHOST_DRAG_ENDED, (event: angular.IAngularEvent, ghostSchedule: WeeklySchedulerRange<any>) => {\r\n      this.$scope.$broadcast(WeeklySchedulerEvents.COMMIT_GHOST, ghostSchedule);\r\n    });\r\n\r\n    this.$scope.$on(WeeklySchedulerEvents.REMOVE_LAST_GHOST, () => {\r\n      let lastGhostDay = this.lastGhostDayService.getLastGhostDay(this.items);\r\n\r\n      this.$scope.$broadcast(WeeklySchedulerEvents.REMOVE_GHOST, lastGhostDay);\r\n    });\r\n\r\n    this.$scope.$on(WeeklySchedulerEvents.CANCEL_GHOST, () => {\r\n      this.$scope.$broadcast(WeeklySchedulerEvents.REMOVE_ALL_GHOSTS);\r\n    });\r\n\r\n    this.$timeout(() => {\r\n      this.invalidMessage = this.getInvalidMessage();\r\n    });\r\n  }\r\n\r\n  public getInvalidMessage() {\r\n    let conflictingOptions = this.conflictingOptionsService.getConflictingOptions(this.options);\r\n\r\n    if (conflictingOptions) {\r\n      return conflictingOptions;\r\n    }\r\n\r\n    if (this.hasInvalidSchedule()) {\r\n      return 'One or more of the schedules is invalid! Please contact service.';\r\n    }\r\n  }\r\n\r\n  public hasInvalidSchedule() {\r\n    return this.formController.$invalid;\r\n  }\r\n\r\n  private buildItems(items: WeeklySchedulerItem<any>[]) {\r\n    this.items = this.missingDaysService.fillItems(this.config, items);\r\n\r\n    this.items = this.purgeItems(this.items);\r\n\r\n    this.items.forEach(item => item.mergeOverlaps());\r\n\r\n    // keep a reference on the adapter so we can pull it out later\r\n    this.adapter.items = this.items;\r\n\r\n    // keep a copy of the items in case we need to rollback\r\n    this._originalItems = angular.copy(this.items);\r\n  }\r\n\r\n  private buildItemsFromAdapter() {\r\n    let items = this.adapterService.getItemsFromAdapter(this.config, this.adapter);\r\n\r\n    return this.buildItems(items);\r\n  }\r\n\r\n  private purgeItems(items: WeeklySchedulerItem<any>[]) {\r\n    if (this.config.fillEmptyWithDefault) {\r\n      for (let item of items) {\r\n        item.purgeDefaultSchedules();\r\n\r\n        if(this.config.nullEnds) {\r\n          item.forceNullEnds();\r\n        }\r\n      }\r\n    }\r\n\r\n    return items;\r\n  }\r\n\r\n  private prepareItems(items: WeeklySchedulerItem<any>[]) {\r\n    if (this.config.fillEmptyWithDefault) {\r\n      for (let item of items) {\r\n        item.fillEmptySlotsWithDefaultSchedules();\r\n      }\r\n    }\r\n\r\n    return items;\r\n  }\r\n\r\n  private setGhostValues(ghostValues: { left: number, right: number }) {\r\n    this.ghostValues = ghostValues;\r\n  }\r\n\r\n  private resetZoom() {\r\n    this.$scope.$broadcast(WeeklySchedulerEvents.RESET_ZOOM);\r\n  }\r\n\r\n  private zoomIn() {\r\n    this.$scope.$broadcast(WeeklySchedulerEvents.ZOOM_IN);\r\n  }\r\n\r\n  private rollback() {\r\n    this.buildItems(this._originalItems);\r\n    this.formController.$setPristine();\r\n  }\r\n\r\n  private save() {\r\n    this.items = this.prepareItems(this.items);\r\n\r\n    return this.config.saveScheduler().then(() => {\r\n      this.items = this.purgeItems(this.items);\r\n      this.formController.$setPristine();\r\n    });\r\n  }\r\n\r\n  private watchAdapter() {\r\n    this.$scope.$watch(() => {\r\n      return this.adapter;\r\n    }, () => {\r\n      this.buildItemsFromAdapter();\r\n    });\r\n  }\r\n\r\n  private watchHoverClass() {\r\n    const pulseClass = 'pulse';\r\n    const pulseSelector = `.${pulseClass}`;\r\n\r\n    this.$scope.$watch(() => this.hoverClass, () => {\r\n      this.$element.find(pulseSelector).removeClass(pulseClass);\r\n\r\n      if (this.hoverClass) {\r\n        this.$element.find(`.${this.hoverClass}`).addClass(pulseClass);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\n/** @internal */\r\nexport class WeeklySchedulerComponent implements angular.IComponentOptions {\r\n  static $name = 'brWeeklyScheduler';\r\n\r\n  bindings = {\r\n    adapter: '<',\r\n    hoverClass: '<',\r\n    options: '='\r\n  };\r\n\r\n  controller = WeeklySchedulerController.$name;\r\n  controllerAs = WeeklySchedulerController.$controllerAs;\r\n\r\n  require = {\r\n    formController: 'form'\r\n  };\r\n\r\n  template = require('./weekly-scheduler.html');\r\n};\r\n","import * as angular from 'angular';\r\nimport { WeeklySlotComponent, WeeklySlotController } from './weekly-slot';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.weeklySlot', [])\r\n    .component(WeeklySlotComponent.$name, new WeeklySlotComponent())\r\n    .controller(WeeklySlotController.$name, WeeklySlotController)\r\n    .name;\r\n","module.exports = \"<div class=\\\"slotWrapper\\\" title=\\\"{{weeklySlotCtrl.schedule.start | brWeeklySchedulerTimeOfDay}} - {{weeklySlotCtrl.schedule.end | brWeeklySchedulerTimeOfDay}}\\\">\\r\\n  <div class=\\\"handle left\\\" ondrag=\\\"weeklySlotCtrl.resizeStart(delta)\\\" ondragstart=\\\"weeklySlotCtrl.startResize()\\\" ondragstop=\\\"weeklySlotCtrl.endResize()\\\" br-handle ng-if=\\\"!weeklySlotCtrl.config.nullEnds\\\"></div>\\r\\n  <div class=\\\"middle\\\" ondrag=\\\"weeklySlotCtrl.drag(delta)\\\" ondragstart=\\\"weeklySlotCtrl.startDrag()\\\" ondragstop=\\\"weeklySlotCtrl.endDrag()\\\" br-handle immediate=\\\"weeklySlotCtrl.hasDragSchedule\\\">\\r\\n    <br-time-range schedule=\\\"weeklySlotCtrl.schedule\\\"></br-time-range>\\r\\n  </div>\\r\\n  <div class=\\\"handle right\\\" ondrag=\\\"weeklySlotCtrl.resizeEnd(delta)\\\" ondragstart=\\\"weeklySlotCtrl.startResize()\\\" ondragstop=\\\"weeklySlotCtrl.endResize()\\\" br-handle ng-if=\\\"!weeklySlotCtrl.config.nullEnds\\\"></div>\\r\\n</div>\";","import * as angular from 'angular';\r\nimport { DragService } from '../drag/DragService';\r\nimport { IWeeklySchedulerConfig } from '../weekly-scheduler-config/IWeeklySchedulerConfig';\r\nimport { IWeeklySchedulerRange } from '../weekly-scheduler-range/IWeeklySchedulerRange';\r\nimport { WeeklySchedulerItem } from '../weekly-scheduler-item/WeeklySchedulerItem';\r\nimport { WeeklySchedulerRange } from '../weekly-scheduler-range/WeeklySchedulerRange';\r\nimport { WeeklySchedulerEvents } from '../weekly-scheduler-config/WeeklySchedulerEvents';\r\n\r\n/** @internal */\r\nexport class WeeklySlotController implements angular.IComponentController {\r\n  static $name = 'weeklySlotController';\r\n  static $controllerAs = 'weeklySlotCtrl';\r\n\r\n  static $inject = [\r\n    '$element',\r\n    '$rootScope',\r\n    '$scope',\r\n    'brWeeklySchedulerDragService'\r\n  ];\r\n\r\n  private config: IWeeklySchedulerConfig<any>;\r\n  private ngModelCtrl: angular.INgModelController;\r\n\r\n  private editSchedule: (options: { schedule: IWeeklySchedulerRange<any> }) => void;\r\n  private getDelta: (options: { pixel: number }) => number;\r\n\r\n  private item: WeeklySchedulerItem<any>;\r\n  private dragSchedule: WeeklySchedulerRange<any>;\r\n  private schedule: WeeklySchedulerRange<any>;\r\n\r\n  private valuesOnDragStart: WeeklySchedulerRange<any>;\r\n\r\n  constructor(\r\n    private $element: angular.IAugmentedJQuery,\r\n    private $rootScope: angular.IRootScopeService,\r\n    private $scope: angular.IScope,\r\n    private dragService: DragService,\r\n  ) {\r\n  }\r\n\r\n  get hasDragSchedule() {\r\n    return angular.isDefined(this.dragSchedule) && this.dragSchedule != null;\r\n  }\r\n\r\n  private getDragStartValues() {\r\n    return this.dragService.getDragRangeFromSchedule(this.config, this.schedule);\r\n  }\r\n\r\n  public editSelf() {\r\n    this.editSchedule({ schedule: this.schedule });\r\n  }\r\n\r\n  public drag(pixel: number) {\r\n    let ui = this.schedule;\r\n    let delta = this.getDelta({ pixel: pixel });\r\n\r\n    let newStart = Math.round(this.valuesOnDragStart.start + delta);\r\n    let newEnd = this.config.nullEnds ? null : Math.round(newStart + this.valuesOnDragStart.duration);\r\n\r\n    this.schedule.update({\r\n      day: ui.day,\r\n      start: newStart,\r\n      end: newEnd,\r\n      value: ui.value\r\n    });\r\n  }\r\n\r\n  public endDrag() {\r\n    // If the schedule was moved to another item, the $scope hierarchy will have been broken, so we need to broadcast this to the whole app\r\n    this.$rootScope.$broadcast(WeeklySchedulerEvents.DRAG_ENDED);\r\n    \r\n    // Was the schedule moved to another item??\r\n    if (!this.item.hasSchedule(this.schedule)) {\r\n      return;\r\n    }\r\n\r\n    // Did the user actually move or resize the slot??\r\n    var changed: boolean = !this.valuesOnDragStart.equals(this.getDragStartValues());\r\n\r\n    this.schedule.$isActive = false;\r\n\r\n    if (changed) {\r\n      this.ngModelCtrl.$setDirty();\r\n      this.item.mergeSchedule(this.schedule);\r\n    } else {\r\n      this.editSelf();\r\n    }\r\n  }\r\n\r\n  public endResize() {\r\n    // Did the user actually move or resize the slot??\r\n    var changed: boolean = !this.valuesOnDragStart.equals(this.getDragStartValues());\r\n\r\n    this.schedule.$isActive = false;\r\n\r\n    if (changed) {\r\n      this.ngModelCtrl.$setDirty();\r\n      this.item.mergeSchedule(this.schedule);\r\n    } else {\r\n      this.editSelf();\r\n    }\r\n  }\r\n\r\n  public resizeStart(pixel: number) {\r\n    let delta = this.getDelta({ pixel: pixel });\r\n    let newStart = Math.round(this.valuesOnDragStart.start + delta);\r\n\r\n    if (this.schedule.updateStart(newStart)) {\r\n      this.config.onChange();\r\n    }\r\n  }\r\n\r\n  public resizeEnd(pixel: number) {\r\n    let delta = this.getDelta({ pixel: pixel });\r\n    let newEnd = Math.round(this.valuesOnDragStart.end + delta);\r\n\r\n    if (this.schedule.updateEnd(newEnd)) {\r\n      this.config.onChange();\r\n    }\r\n  }\r\n\r\n  public startDrag() {\r\n    if (!this.item.canEditSchedule(this.schedule)){\r\n      return;\r\n    }\r\n\r\n    this.$scope.$emit(WeeklySchedulerEvents.SLOT_DRAGGED, this.schedule);\r\n    this.schedule.$isActive = true;\r\n    this.valuesOnDragStart = this.getDragStartValues();\r\n  }\r\n\r\n  public startResize() {\r\n    if (!this.item.canEditSchedule(this.schedule)) {\r\n      return;\r\n    }\r\n    \r\n    this.schedule.$isActive = true;\r\n    this.valuesOnDragStart = this.getDragStartValues();\r\n  }\r\n}\r\n\r\n/** @internal */\r\nexport class WeeklySlotComponent implements angular.IComponentOptions {\r\n  static $name = 'brWeeklySlot';\r\n  \r\n  bindings = {\r\n    config: '<',\r\n    dragSchedule: '<',\r\n    item: '<',\r\n    schedule: '=ngModel',\r\n    editSchedule: '&',\r\n    getDelta: '&'\r\n  };\r\n\r\n  controller = WeeklySlotController.$name;\r\n  controllerAs = WeeklySlotController.$controllerAs;\r\n\r\n  require = {\r\n    ngModelCtrl: 'ngModel'\r\n  };\r\n\r\n  template = require('./weekly-slot.html');\r\n}\r\n","import { WeeklySchedulerEvents } from '../weekly-scheduler-config/WeeklySchedulerEvents';\r\n\r\n/** @internal */\r\nexport class ZoomService {\r\n    static $name = 'brWeeklySchedulerZoomService';\r\n\r\n    static $inject = ['$rootScope'];\r\n\r\n    private constructor(\r\n        private $rootScope: angular.IRootScopeService\r\n    ) {\r\n    }\r\n\r\n    private selector: string = '.schedule-area';\r\n\r\n    private broadcastZoomedInEvent() {\r\n        this.$rootScope.$broadcast(WeeklySchedulerEvents.ZOOMED_IN);\r\n    }\r\n\r\n    private broadcastZoomedOutEvent() {\r\n        this.$rootScope.$broadcast(WeeklySchedulerEvents.ZOOMED_OUT);\r\n    }\r\n\r\n    private getCurrentZoomWidth(element: any): number {\r\n        return parseInt(element.querySelector(this.selector).style.width, 10);\r\n    }\r\n\r\n    private getZoomElement(container: any) {\r\n        return container.querySelector(this.selector);\r\n    }\r\n\r\n    private setZoomWidth(element: any, width: string): void {\r\n       this.getZoomElement(element).style.width = width;\r\n    }\r\n\r\n    public resetZoom(element: any) {\r\n        this.setZoomWidth(element, '100%');\r\n        this.broadcastZoomedOutEvent();\r\n    }\r\n    \r\n    public zoomIn(element: any) {\r\n        // get current zoom level from zoomed element as a percentage\r\n        let zoom = this.getZoomElement(element).style.width;\r\n        \r\n        // parse to integer & double\r\n        let level = parseInt(zoom, 10) * 2;\r\n\r\n        // Convert back to percentage\r\n        this.setZoomWidth(element, level + '%');\r\n\r\n        this.broadcastZoomedInEvent();\r\n    }\r\n\r\n    public zoomInACell(element: any, event: angular.IAngularEvent, data: any) {\r\n        let elementCount = data.nbElements;\r\n        let i = data.idx;\r\n\r\n        let containerWidth = element.offsetWidth;\r\n\r\n        let boxesToDisplay = 5;\r\n        let boxWidth = containerWidth / boxesToDisplay;\r\n\r\n        let boxesToSkip = 2;\r\n        let gutterSize = boxWidth * boxesToSkip;\r\n\r\n        var scheduleAreaWidthPx = elementCount * boxWidth;\r\n        var scheduleAreaWidthPercent = (scheduleAreaWidthPx / containerWidth) * 100;\r\n\r\n        this.setZoomWidth(element, scheduleAreaWidthPercent + '%');\r\n\r\n        // All cells of a line have the same size\r\n        element.scrollLeft = i * boxWidth - gutterSize;\r\n\r\n        this.broadcastZoomedInEvent();\r\n    }\r\n\r\n    public zoomByScroll(element: any, event: WheelEvent, delta: number) {\r\n        let currentWidth = this.getCurrentZoomWidth(element);\r\n\r\n        if ((event.wheelDelta || event.detail) > 0) {\r\n            this.setZoomWidth(element, (currentWidth + 2 * delta) + '%');\r\n            this.broadcastZoomedInEvent();\r\n        } else {\r\n            let width = currentWidth - 2 * delta;\r\n            this.setZoomWidth(element, (width > 100 ? width : 100) + '%');\r\n            this.broadcastZoomedOutEvent();\r\n        }\r\n    }\r\n}\r\n","import * as angular from 'angular';\r\nimport { ZoomService } from './ZoomService';\r\n\r\nexport default angular\r\n    .module('rr.weeklyScheduler.zoom', [])\r\n    .service(ZoomService.$name, ZoomService)\r\n    .name;\r\n","module.exports = angular;"],"sourceRoot":""}